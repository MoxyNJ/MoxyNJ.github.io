<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-interview/summary/浏览器">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="ninjee RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="ninjee Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="ninjee JSON Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Ninjee的前端篮子" href="/opensearch.xml">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?0930342e569f854bebdeb485c0eac7f8",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<link rel="icon" href="/img/ninjee.jpeg">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)"><title data-rh="true">浏览器相关 - Ninjee的前端篮子</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ninjee.netlify.app/img/ninjee.jpeg"><meta data-rh="true" name="twitter:image" content="https://ninjee.netlify.app/img/ninjee.jpeg"><meta data-rh="true" property="og:url" content="https://ninjee.netlify.app/docs/interview/summary/浏览器"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="浏览器相关 - Ninjee的前端篮子"><meta data-rh="true" name="description" content="问题：http 返回码有哪些？"><meta data-rh="true" property="og:description" content="问题：http 返回码有哪些？"><meta data-rh="true" name="keywords" content="面试题,面经"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ninjee.netlify.app/docs/interview/summary/浏览器"><link data-rh="true" rel="alternate" href="https://ninjee.netlify.app/docs/interview/summary/浏览器" hreflang="zh"><link data-rh="true" rel="alternate" href="https://ninjee.netlify.app/docs/interview/summary/浏览器" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://AJRH2JRXVY-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.cb2f47c4.css">
<link rel="preload" href="/assets/js/runtime~main.4bb37d52.js" as="script">
<link rel="preload" href="/assets/js/main.2f8d1f75.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ninjee-icon.png" alt="ninjee" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/ninjee-icon.png" alt="ninjee" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Ninjee</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">前端知识</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/frontEnd/JavaScript">JavaScript</a></li><li><a class="dropdown__link" href="/docs/frontEnd/HTML&amp;CSS">HTML &amp; CSS</a></li><li><a class="dropdown__link" href="/docs/frontEnd/React">React</a></li><li><a class="dropdown__link" href="/docs/frontEnd/浏览器原理">浏览器原理</a></li><li><a class="dropdown__link" href="/docs/frontEnd/other">other</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">敲代码</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/code/algorithm">算法</a></li><li><a class="dropdown__link" href="/docs/code/writtenJs">手写Js</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">面试</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/interview/summary">总结</a></li><li><a class="dropdown__link" href="/docs/interview/iot">物联网</a></li></ul></div><a class="navbar__item navbar__link" href="/project">我的项目</a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/javascript">JavaScript</a><button aria-label="打开/收起侧边栏菜单「JavaScript」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/html--css">HTML &amp; CSS</a><button aria-label="打开/收起侧边栏菜单「HTML &amp; CSS」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/react">React</a><button aria-label="打开/收起侧边栏菜单「React」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/浏览器原理">浏览器原理</a><button aria-label="打开/收起侧边栏菜单「浏览器原理」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/other">other</a><button aria-label="打开/收起侧边栏菜单「other」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/algorithm">algorithm</a><button aria-label="打开/收起侧边栏菜单「algorithm」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/手写-js">手写 Js</a><button aria-label="打开/收起侧边栏菜单「手写 Js」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/总结">总结</a><button aria-label="打开/收起侧边栏菜单「总结」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/interview/summary">总结</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/interview/summary/JavaScript">JavaScript相关</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/interview/summary/浏览器">浏览器相关</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/interview/summary/计算机网络">计算机网络</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/interview/summary/操作系统">操作系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/interview/summary/HTML&amp;CSS">HTML&amp;CSS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/interview/summary/git">git</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/iot">Iot</a><button aria-label="打开/收起侧边栏菜单「Iot」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_FykI"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_DTRl"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/总结"><span itemprop="name">总结</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">浏览器相关</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>浏览器相关</h1></header><h3 class="anchor anchorWithStickyNavbar_mojV" id="问题http-返回码有哪些">问题：http 返回码有哪些？<a class="hash-link" href="#问题http-返回码有哪些" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="概述">概述<a class="hash-link" href="#概述" title="标题的直接链接">​</a></h4><p>2XX，表示 Success  <strong>成功</strong> 的状态码。</p><p>3XX，表示 Redirection  <strong>重定向</strong> 的状态码。</p><p>4XX，表示 Client Error <strong>客户端错误</strong> 的状态码。</p><p>5XX，表示 Server Error <strong>服务器错误</strong> 的状态码。</p><p>200系列有三个，服务器：发全部资源(200)，不发资源(204)，发范围资源(206)</p><p>300系列有五个，服务器的资源：永久重定向(301)，临时重定向(302、307)，<code>post</code>切换为<code>get</code>后重定向(303)，访问不符合条件（304）</p><p>400系列有五个，服务器：无法理解(400)，权限验证(401)，不允许访问(403)，没有该资源(404)，禁止该方式访问(405)</p><p>500系列有三个，服务器：内部故障(500)，上游故障(502)，正忙(503)</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="详述">详述<a class="hash-link" href="#详述" title="标题的直接链接">​</a></h4><p>200 OK：服务器端请求已 <strong>正常处理</strong>。</p><p>204 No Content：一般在 <strong>只从客户端发送信息</strong>， <strong>服务器不需要发送新信息内容</strong> 的情况下使用。</p><p>206 Partial Content：客户端进行 <strong>范围请求</strong>，服务端返回 <strong>小范围内的资源</strong>。</p><p>301 Moved Permanently：资源 <strong>永久重定向</strong>，客户端访问新的地址。</p><p>302 Found：资源 <strong>临时重定向</strong>，客户端暂时访问新地址。</p><p>303 See Other：服务器让客户端把 post 请求切换为 get 请求重定向访问新的地址。</p><p>304 Not Modified：和重定向关系不大，<strong>资源已找到，但未符合条件</strong></p><p>307 Temporary Redirect：资源 <strong>临时重定向</strong>，客户端暂时访问新地址。和 302 类似，有 get 和 post 的访问差别。</p><p>400 Bad Request：服务端 <strong>无法理解请求报文</strong>，可能是格式错误。</p><p>401 Unauthorized：客户端需要对访问进行 <strong>权限认证</strong>。</p><p>403 Forbidden：<strong>资源不允许访问</strong></p><p>404 Not Found：<strong>没有找到资源</strong>。</p><p>405 Method Not Allowed：服务器 <strong>禁止使用该访问方式</strong>。</p><p>500 Internal Server Error：服务完成执行请求时 <strong>内部发生了故障</strong>。</p><p>502 Bad Gateway：“中间商” 服务器（代理服务器、网关服务器），<strong>无法访问上游服务器</strong>。</p><p>503 Service Unavailable：服务器无法处理请求，<strong>正忙</strong>（超负荷、停机维护）。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="问题同源策略">问题：同源策略<a class="hash-link" href="#问题同源策略" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="同源策略">同源策略<a class="hash-link" href="#同源策略" title="标题的直接链接">​</a></h4><p>同源请求、跨域请求。</p><p>同源策略（Same origin policy），它是由Netscape网景公司提出的一个著名的安全策略，浏览器都遵守该策略。</p><ul><li><p><strong>同源</strong>： 协议、域名、端口号必须完全相同</p></li><li><p><strong>跨域</strong>： 违背同源策略就是跨域，浏览器会 <strong>丢弃</strong> 非同源的响应数据。</p></li></ul><p><strong>通过 <code>window.origin</code> 或 <code>location.origin</code> 得到当前源。</strong></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">http</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">moxy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">http</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">moxy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//同源</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">http</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">wang</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">http</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">wang</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//不同源，域名必须一模一样</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>也就是说，服务端有返回数据，浏览器也接收到了响应数据，但浏览器发现我们请求的是一个非同源的数据，浏览器再将其响应报文丢弃掉。</p><p>同源策略又分为以下两种：</p><ol><li>DOM 同源策略：禁止对不同源的页面 DOM 进行操作。这里主要场景是 iframe 跨域的情况，不同域名的 iframe 是限制互相访问的。</li><li>XMLHttpRequest 同源策略：禁止使用 XHR 对象向不同源的服务器地址发起 HTTP 请求。无需再浏览器收到请求后拦截非同源数据，通过 XHR 发送的不同源请求可直接被拦截。</li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="跨域">跨域<a class="hash-link" href="#跨域" title="标题的直接链接">​</a></h4><p>当用户在 A 域中访问服务器获取资源，服务器会正常的返回资源。而当用户试图在其他域的网站去访问 A 域的资源，出于安全原因，服务器就会拒绝这种访问方式。</p><ul><li>浏览器发送请求时，会把本地域放在请求头中发送给服务器，以便服务器对齐对其进行验证。</li></ul><p><strong>可以跨域使用<code>CSS</code>、<code>JS</code>和图片</strong></p><ul><li>同源策略限制的是数据访问，我们引用 <code>CSS</code>、<code>JS</code> 和图片等资源不限制。</li></ul><p><strong>同源策略会让三种行为受限：</strong></p><ul><li>Cookie、LocalStorage 和 IndexDB 访问受限；</li><li>无法操作跨域 DOM（常见于 iframe）；</li><li>Javascript 发起的 XHR 和 Fetch 请求受限；</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="为什么跨域限制">为什么跨域限制：<a class="hash-link" href="#为什么跨域限制" title="标题的直接链接">​</a></h4><p><strong>如果没有 DOM 同源策略，也就是说不同域的 iframe 之间可以相互访问，那么黑客可以这样进行攻击：</strong></p><ol><li>做一个假网站，里面用 iframe 嵌套一个银行网站 <code>http://mybank.com</code>。</li><li>把 iframe 宽高啥的调整到页面全部，这样用户进来除了域名，别的部分和银行的网站没有任何差别。</li><li>这时如果用户输入账号密码，我们的主网站可以跨域访问到 <code>http://mybank.com</code> 的 dom 节点，就可以拿到用户的账户密码了。</li></ol><p><strong>如果没有 XMLHttpRequest 同源策略，那么黑客可以进行 CSRF（跨站请求伪造） 攻击：</strong></p><ol><li>用户登录了自己的银行页面 <code>http://mybank.com</code>，<code>http://mybank.com</code> 向用户的 cookie 中添加用户标识。</li><li>用户浏览了恶意页面 <code>http://evil.com</code>，执行了页面中的恶意 AJAX 请求代码。</li><li><code>http://evil.com</code> 向 <code>http://mybank.com</code> 发起 AJAX HTTP 请求，请求会默认把 <code>http://mybank.com</code> 对应 cookie 也同时发送过去。</li><li>银行页面从发送的 cookie 中提取用户标识，验证用户无误，response 中返回请求数据。此时数据就泄露了。</li><li>而且由于 Ajax 在后台执行，用户无法感知这一过程。</li></ol><blockquote><p><a href="https://juejin.cn/post/6844903681683357710" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/6844903681683357710</a></p></blockquote><h4 class="anchor anchorWithStickyNavbar_mojV" id="解决跨域问题">解决跨域问题：<a class="hash-link" href="#解决跨域问题" title="标题的直接链接">​</a></h4><p>解决跨域问题有两种方式：民间的 JSONP + 官方的 CORS（跨域资源共享）。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="问题什么是-jsonp">问题：什么是 JSONP<a class="hash-link" href="#问题什么是-jsonp" title="标题的直接链接">​</a></h3><p>JSONP是 JSON with Padding 的略称，JSONP 是程序员提出的一种跨域解决方案。</p><ul><li>在网页有一些标签天生具有跨域能力，比如：<code>img</code>、 <code>link</code>、 <code>iframe</code>、 <code>script</code>。发出请求不受跨域限制。</li></ul><p>JSONP 通过创建 <code>script</code> 标签，利用 src 属性进行跨域，来发送请求。<strong>仅支持 get 请求</strong>。</p><p>缺点：</p><ol><li><strong>代码结构改变</strong>，接受到响应数据后的处理代码，要全部放在回调函数中。</li><li><strong>控制反转</strong>。调用回调函数，处理返回数据和后续逻辑的契机不在浏览器的js代码中，而是交给了服务器。</li><li><strong>后端协商</strong>，需要和后端进行协商，确保服务器会正确调用回调函数，并携带正确的格式。JSONP 不易进行错误检查。</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="问题什么是-cors">问题：什么是 CORS<a class="hash-link" href="#问题什么是-cors" title="标题的直接链接">​</a></h3><p>CORS（Cross-Origin Resource Sharing），跨域资源共享。CORS 是官方的跨域解决方案。CORS 需要浏览器和服务器同时支持，<strong>支持 get 和 post 请求。</strong></p><ul><li><p>允许浏览器向跨源服务器，发出 <code>XMLHttpRequest</code> 请求，从而克服了 <code>AJAX</code> 只能同源使用的限制。</p></li><li><p>服务器的响应请求中设置：<code>&quot;Access-Control-Allow-Origin&quot; = *</code></p><p>实现 <code>CORS</code> 通信需要浏览器和服务器都支持。</p></li></ul><p>CORS 背后的基本思想，就是使用自定义的 HTTP 头部让浏览器与服务器进行沟通，从而决定请求或响应是应该成功，还是应该失败。对于开发者来说，CORS 通信与同源的 AJAX 通信没有差别，代码完全一样。浏览器一旦发现 AJAX 请求跨源，就会自动添加一些附加的头信息：</p><ul><li>通过设置一个响应头来告诉浏览器，该请求允许跨域，而浏览器会对头部信息匹配，如果匹配成功则正常返回信息，浏览器收到该响应以后就会对响应放行，而不会拦截。</li></ul><p><strong>注意：CORS 不支持<code>IE8/9</code>，</strong>如果要在<code>IE8/9</code>使用<code>CORS</code>跨域需要使用<code>XDomainRequest</code>对象来支持<code>CORS</code>。</p><p><strong>浏览器 CORS</strong></p><p>浏览器会限制 <strong>从脚本内发起</strong> 的跨域 HTTP 请求。 例如 XHR 和 Fetch 就遵循同源策略。这意味着使用 API 的 Web 应用程序只能从加载应用程序的同一个域请求 HTTP 资源。</p><p>Web 程序发出跨域请求后，浏览器会 <strong>自动</strong> 向我们的 HTTP header 添加一个额外的请求头字段：<code>Origin</code>。<code>Origin</code> 标记了请求的站点来源：</p><div class="codeBlockContainer_I0IT language-http theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-http codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">GET https://api.website.com/users HTTP/1/1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Origin: https://www.mywebsite.com           // &lt;- 浏览器自己加的</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p> 服务器返回的 response 也会添加一些响应头字段，这些字段将 <strong>显式表明</strong> 此服务器是否允许这个跨域请求。</p><p><strong>客户端 CORS</strong></p><p>服务器开发人员，通过验证 <code>Origin</code> 是否允许跨域访问，然后在 HTTP 响应中添加额外的响应头字段 <code>Access-Control-*</code> 来表明是否允许跨域请求。</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">all</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/testAJAX&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req </span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//通过res设置响应头，允许跨域请求</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//res.set(&quot;Access-Control-Allow-Origin&quot;,&quot;http://127.0.0.1:3000&quot;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;testAJAX 返回的响应&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="问题dom-0dom-2-事件模型的区别">问题：DOM 0、DOM 2 事件模型的区别<a class="hash-link" href="#问题dom-0dom-2-事件模型的区别" title="标题的直接链接">​</a></h3><p>DOM 0 级：绑定事件使用属性形式：<code>on + 事件名</code>。如 onclick、onmousemove、onmouseover。</p><ul><li>如果对同一个元素绑定相同的事件，后边的会覆盖掉前边的。并且 DOM0 级事件只 <strong>触发冒泡</strong>，不能触发事件捕获阶段 。</li></ul><p>DOM 2 级：绑定事件使用函数形式： <code>addEeventListener()</code>；删除事件使用 <code>removeEeventListener()</code>。</p><ul><li>DOM 2 级允许对同一个元素绑定多个相同的事件，后面的 <strong>不会覆盖</strong> 前面的。
使用 addEventListener 方法为一个元素绑定事件时，它 <strong>默认冒泡阶段触发</strong>。如果第三个参数为 <strong>true</strong>，在捕获阶段也能触发。</li></ul><p>注意：使用 DOM 0 和 DOM 2 同时添加事件模型，两者是不冲突的。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="问题判断两个-dom-节点是否相同">问题：判断两个 dom 节点是否相同<a class="hash-link" href="#问题判断两个-dom-节点是否相同" title="标题的直接链接">​</a></h3><ul><li><strong>使用 === 来比较两个元素</strong>。</li><li><code>A.isSameNode(B)</code>：是同一个节点时返回 true。DOM 4 被废弃。</li><li><code>isEqualNode()</code>：检查两个节点是否相等，不一定相同。</li></ul><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">list</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> lis </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">[</span><span class="token script language-javascript operator" style="color:#393A34">...</span><span class="token script language-javascript">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">getElementsByTagName</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;li&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">]</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> ul </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;list&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 点击哪个li，就会输出它的下标。</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  ul</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">addEventListener</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;click&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">e</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">if</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">e</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">target</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">tagName </span><span class="token script language-javascript operator" style="color:#393A34">===</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;LI&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> i </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> lis</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">findIndex</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">item</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> item </span><span class="token script language-javascript operator" style="color:#393A34">===</span><span class="token script language-javascript"> e</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">target</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 使用严格相等比较。</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      console</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">log</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">i</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="问题浏览器存储">问题：浏览器存储<a class="hash-link" href="#问题浏览器存储" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="问题storage">问题：Storage<a class="hash-link" href="#问题storage" title="标题的直接链接">​</a></h4><p>WebStorage 主要提供了一种机制，可以让浏览器提供一种比 cookie 更直观的 key / value 存储方式：</p><ul><li>localStorage：本地存储，永久性存储。网页关闭后，存储的内容依然保留； </li><li>sessionStorage：会话存储，本次会话的存储。关闭掉会话后，清除存储；</li></ul><p>在浏览器中，一个标签是同一个会话。</p><p>通过：开发者工具 - <strong>Application</strong> 可以查看：</p><p><img loading="lazy" alt="截屏2022-08-16 19.25.45" src="/assets/images/截屏2022-08-16 19.25.45-e1e8a8292910d0d11725169ef537499e.png" width="1896" height="858" class="img_E7b_"></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="问题storage-属性和方法">问题：Storage 属性和方法<a class="hash-link" href="#问题storage-属性和方法" title="标题的直接链接">​</a></h4><p>localStorage 和 sessionStorage 都具有以下方法：</p><p>属性 1： </p><ul><li><code>Storage.length</code>：只读。 存储在 Storage 对象中的数据项数量； </li></ul><p>方法 5：</p><ul><li><code>Storage.key(index)</code>：获取第 index 个成员的 Key ； </li><li><code>Storage.getItem(key)</code>：获取 key 对应的 value；</li><li><code>Storage.setItem(key, value)</code>：把 key / value 添加到存储中；<ul><li>如果key 已经存在，则更新值；</li></ul></li><li><code>Storage.removeItem(key)</code>：删除成员；</li><li><code>Storage.clear()</code>：清空 storage。</li></ul><p>常用：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> person </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;huangyanting&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 不能直接存储对象，storage会默认调用 toString 后存储。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// sessionStorage.setItem(&#x27;tg&#x27;,person);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// sessionStorage.getItem(&#x27;tg&#x27;);  // &#x27;[object Object]&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 转化为JSON 存储</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sessionStorage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;tg&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token constant" style="color:#36acaa">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">person</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sessionStorage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;tg&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// {&quot;name&quot;:&quot;huangyanting&quot;,&quot;age&quot;:3}</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="问题localstorage和sessionstorage-区别">问题：localStorage和sessionStorage 区别<a class="hash-link" href="#问题localstorage和sessionstorage-区别" title="标题的直接链接">​</a></h4><p>相同：</p><ol><li>存储空间均为5101k，约等于4.98M。</li><li>存储的格式为 string。</li></ol><p>不同：</p><ol><li>关闭网页后重新打开，localStorage 会保留，而sessionStorage会被删除； </li><li>在页面内实现跳转，localStorage 会保留，sessionStorage 也会保留；</li><li>在页面外实现跳转（打开新的网页），localStorage 会保留，sessionStorage 不会被保留；<ul><li>本地保存的 localStorage，会通过 <strong>域名</strong> 来判断，当前会话是否匹配。</li></ul></li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="问题indexeddb">问题：IndexedDB<a class="hash-link" href="#问题indexeddb" title="标题的直接链接">​</a></h4><p>DB：Database 数据库。</p><ul><li>在服务器端比较常见。实际开发中，大量的数据都是存储在数据库的，客户端主要是请求这些数据并且展示。</li><li>Storage：（常用）存储简单的数据到本地（浏览器中），如 token、用户名、密码、用户信息等。</li><li>IndexedDB：（少用）大量的数据需要存储。</li></ul><p>IndexedDB 是一种底层的 API。用于在客户端存储大量的结构化数据。</p><ul><li>一种事务型数据库系统，基于 JavaScript 面向对象数据库，类似于NoSQL（非关系型数据库）。</li><li>IndexDB 本身基于事务，程序员只需指定数据库模式，打开与数据库的连接，检索、更新一系列事务即可。<ul><li>事务：一个操作单元。涉及：事务隔离、事务回滚、事务传播等。</li></ul></li><li>数据库的增删改查，效率比 Storage 效率更高。</li></ul><p><img loading="lazy" alt="截屏2022-08-16 22.17.18" src="/assets/images/截屏2022-08-16 22.17.18-d2bb95b406a42e31cbff0c0aab444e3e.png" width="1694" height="210" class="img_E7b_"></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="问题cookie">问题：Cookie<a class="hash-link" href="#问题cookie" title="标题的直接链接">​</a></h4><p>Cookies：文本，通常是网站为了辨别用户身份而存储在用户本地终端 （Client Side）上的数据。</p><ul><li>客户端可以通过 <code>setCookie </code> 添加 cookie 到客户端。</li><li>浏览器发送请求时，可以把 cookie 携带发送；</li></ul><p>Cookie <strong>总是保存在客户端中</strong>。按在客户端中的存储位置，Cookie 可以分为内存 Cookie 和硬盘 Cookie。</p><ul><li>内存 Cookie 由浏览器维护，保存在内存中，浏览器关闭时 Cookie 就会消失，其存在时间是短暂的； </li><li>硬盘 Cookie 保存在硬盘中，<strong>有一个过期时间</strong>，用户手动清理或者过期时间到时，才会被清理；<ul><li>没有设置过期时间，默认是内存 cookie。</li></ul></li></ul><p><img loading="lazy" alt="截屏2022-08-16 22.35.30" src="/assets/images/截屏2022-08-16 22.35.30-16914d412beb8bd1a800107c2411c79d.png" width="2404" height="416" class="img_E7b_"></p><p>如上图，响应中有 Set-Cookie</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Set-Cookie</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name=why; path=/; expires=Wed, 10 Nov 2021 09:35:46 GMT; httponly&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 保存了：Key/Value 内容、保存路径、过期时间等</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>如果响应中添加了 cookie，浏览器自动读取并保存 cookie，也会再下次往同一服务器发送请求时，携带 cookie。</p><p>cookie 的生命周期</p><ul><li>expires：设置的是 <code>Date.toUTCString()</code>，设置格式是 <code>expires=date-in-GMTString-format</code></li><li>max-age：设置过期的秒钟，<code>max-age=max-age-in-seconds</code>  (例如一年为<code>60*60*24*365</code>)；</li></ul><p>cookie的作用域：（允许cookie发送给哪些URL）</p><ul><li><p>Domain：指定哪些主机可以接受cookie</p><ul><li>如果不指定，那么默认是 origin，不包括子域名。 </li><li>如果指定，则包含子域名。</li><li>例如，如果设置 <code>Domain=mozilla.org</code>，则 Cookie 也包含在子域名中，如 <code>developer.mozilla.org</code></li></ul></li><li><p>Path：指定浏览器在哪些 URL 路径可以携带 cookie 发送请求</p><ul><li>例如，设置 <code>Path=/docs</code>，则以下地址都会匹配： <code>/docs</code> , <code>/docs/Web/</code> , <code>/docs/Web/HTTP</code></li></ul></li></ul><p>Cookie API</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 获取 cookie</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cookie</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 设置 cookie</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cookie </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name=ninjee&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cookie </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;age=18&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 每一条 cookie，都可以设置生存期，默认无</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cookie </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name=ninjee&amp;age=18;max-age=10&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Cookie 缺点：</p><ul><li>客户端每次请求，都会携带 cookie，有可能不需要，所以造成性能浪费。</li><li>有体积限制：4KB。</li><li>明文传输，安全性较低。</li><li>客户端多样（浏览器、IOS、Android、小程序），有些客户端可能默认不支持 cookie</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="问题localstoragesessionstoragecookie-的使用场景">问题：localStorage、sessionStorage、cookie 的使用场景<a class="hash-link" href="#问题localstoragesessionstoragecookie-的使用场景" title="标题的直接链接">​</a></h4><p><strong>localStorage</strong></p><ul><li>存储用户访问习惯：登录次数、登录时间等</li><li>用户本地化配置：用户语言、夜间主题等</li></ul><p><strong>sessionStorage</strong></p><ul><li>同一域名下的页面传值：A 页面获取的数据，需要在 B 页面发送给后端。</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//A页面</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//首先检测Storage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Storage</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;undefined&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sessionStorage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sessionStorage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//B页面</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Storage</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;undefined&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> B_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sessionStorage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>Cookie</strong></p><ul><li>SSO 单点登录，保存 Ticket。</li><li>用户保持登录状态的 Token。</li></ul><h1>筛选</h1><p>生命期：</p><ul><li><p><code>localStorage</code>：数据是永久性的，除非 Web 应用或用户通过浏览器（特定的界面）删除，否则数据会永远保存在用户设备上。</p></li><li><p><code>sessionStorage</code> ：数据的生命期与存储它的脚本所属的顶级窗口或浏览器标签页相同。窗口或标签页关闭后，<code>sessionStorage</code> 中存储的数据也都会被删除。</p></li></ul><p>作用域：</p><ul><li><code>localStorage</code>：作用域为文档来源。文档来源由协议、域名、端口共同定义。所有同源文档都共享相同的 localstorage 数据。</li><li><code>sessionStorage</code> ：作用域为文档来源 + 窗口隔离。如果用户在两个浏览器标签页中打开了同一来源的文档，这两个标签页的 <code>sessionStorage</code>数据也是隔离的。</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="存储事件">存储事件<a class="hash-link" href="#存储事件" title="标题的直接链接">​</a></h4><p><code>window.onstorage</code> 事件：存储在 <code>localStorage</code> 中的数据每当发生变化，在数据可见的 Window 对象上就会触发该事件。也就是说，如果在作用域内的所有 window 窗口（即使是不同的标签页），都可以监听到数据的变化。</p><p> <code>localStorage</code> 和 <code>storage</code> 事件可以作为一种广播机制，即浏览器向所有当前浏览同一网站的窗口发送信息。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="92-cookie">9.2 cookie<a class="hash-link" href="#92-cookie" title="标题的直接链接">​</a></h2><p>cookie 是浏览器为特定网页或网站保存的少量命名数据。 cookie 是为服务器编程而设计的，在最底层上作为 HTTP 协议的扩展实现。cookie 数据会自动在浏览器与 Web 服务器之间传输，因此服务器端脚本可以读写存储在客户端的 cookie 值。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="读取-cookie">读取 cookie<a class="hash-link" href="#读取-cookie" title="标题的直接链接">​</a></h4><p><code>document.cookie</code> 属性返回一个包含当前文档有关的<strong>所有</strong> cookie的字符串。字符串是一个分号和空格分隔的 K/V 对。cookie 的值就是 Value。</p><ul><li>通常调用 <code>split()</code> 方法把整个字符串拆分成一个个 K/V 对。</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="生命期和作用域">生命期和作用域<a class="hash-link" href="#生命期和作用域" title="标题的直接链接">​</a></h4><p>cookie 有一个可选的属性，可以控制其生命期和作用域。</p><p>生命期：</p><ul><li>默认：生命期很短，只在浏览器会话期间存在，用户退出浏览器后，就会丢失。</li><li>指定生命期：以秒为单位，时间到期后会删除数据。如果指定了时间长的生命期，浏览器就会把 cookie 存储在本地文件中，等时间到了再把它们删除。</li></ul><p>作用域：为文档来源 + 文档路径。</p><ul><li>文档来源（<code>domain</code> 属性）：同 localStorage 效果。</li><li>文档路径（<code>path</code> 属性）：默认情况下， cookie 的可访问权限为 该网页位于相同目录和子目录下的其他网页（即，兄弟网页、子网页、兄弟的子网页）。<ul><li>也可以指定 path 路径。这样来自同一服务器的任何网页，都可以访问一个 cookie。</li></ul></li></ul><p>安全性：<code>secure</code></p><ul><li>是一个布尔值，默认情况下是不安全的。如果设置为安全的，则浏览器和服务器通过 HTTPS 或其他安全协议连接，才可以传输 cookie。</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">● </span><span class="token class-name">Array</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">prototype是数组，所以Array</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">isArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Array</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">prototype</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">返回</span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">● </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">i</span><span class="token operator" style="color:#393A34">++</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> 执行完后i是多少？ </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">● console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;some&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;other&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">的值是多少？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ○ 值是 </span><span class="token string" style="color:#e3116c">&#x27;some&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ○ </span><span class="token operator" style="color:#393A34">+</span><span class="token plain">的优先级比？高</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/interview/summary/JavaScript"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">JavaScript相关</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/interview/summary/计算机网络"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">计算机网络</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#问题http-返回码有哪些" class="table-of-contents__link toc-highlight">问题：http 返回码有哪些？</a><ul><li><a href="#概述" class="table-of-contents__link toc-highlight">概述</a></li><li><a href="#详述" class="table-of-contents__link toc-highlight">详述</a></li></ul></li><li><a href="#问题同源策略" class="table-of-contents__link toc-highlight">问题：同源策略</a><ul><li><a href="#同源策略" class="table-of-contents__link toc-highlight">同源策略</a></li><li><a href="#跨域" class="table-of-contents__link toc-highlight">跨域</a></li><li><a href="#为什么跨域限制" class="table-of-contents__link toc-highlight">为什么跨域限制：</a></li><li><a href="#解决跨域问题" class="table-of-contents__link toc-highlight">解决跨域问题：</a></li></ul></li><li><a href="#问题什么是-jsonp" class="table-of-contents__link toc-highlight">问题：什么是 JSONP</a></li><li><a href="#问题什么是-cors" class="table-of-contents__link toc-highlight">问题：什么是 CORS</a></li><li><a href="#问题dom-0dom-2-事件模型的区别" class="table-of-contents__link toc-highlight">问题：DOM 0、DOM 2 事件模型的区别</a></li><li><a href="#问题判断两个-dom-节点是否相同" class="table-of-contents__link toc-highlight">问题：判断两个 dom 节点是否相同</a></li><li><a href="#问题浏览器存储" class="table-of-contents__link toc-highlight">问题：浏览器存储</a><ul><li><a href="#问题storage" class="table-of-contents__link toc-highlight">问题：Storage</a></li><li><a href="#问题storage-属性和方法" class="table-of-contents__link toc-highlight">问题：Storage 属性和方法</a></li><li><a href="#问题localstorage和sessionstorage-区别" class="table-of-contents__link toc-highlight">问题：localStorage和sessionStorage 区别</a></li><li><a href="#问题indexeddb" class="table-of-contents__link toc-highlight">问题：IndexedDB</a></li><li><a href="#问题cookie" class="table-of-contents__link toc-highlight">问题：Cookie</a></li><li><a href="#问题localstoragesessionstoragecookie-的使用场景" class="table-of-contents__link toc-highlight">问题：localStorage、sessionStorage、cookie 的使用场景</a></li><li><a href="#存储事件" class="table-of-contents__link toc-highlight">存储事件</a></li></ul></li><li><a href="#92-cookie" class="table-of-contents__link toc-highlight">9.2 cookie</a><ul><li><a href="#读取-cookie" class="table-of-contents__link toc-highlight">读取 cookie</a></li><li><a href="#生命期和作用域" class="table-of-contents__link toc-highlight">生命期和作用域</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">分享</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/frontEnd/JavaScript">前端</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/code/algorithm">算法笔记</a></li><li class="footer__item"><a class="footer__link-item" href="/project">我的项目</a></li></ul></div><div class="col footer__col"><div class="footer__title">社交媒体</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/about">关于我</a></li><li class="footer__item"><a href="https://github.com/moxyNJ" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/user/2005151873514024" target="_blank" rel="noopener noreferrer" class="footer__link-item">掘金<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items"><li class="footer__item"><a href="https://www.ninjee.co" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ninjee 的前端篮子</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p>Copyright © 2022 Ninjee Built with Docusaurus.</p><p><a href="http://beian.miit.gov.cn/">晋ICP备2021017941号-2</a></p></div></div></div></footer></div>
<script src="/assets/js/runtime~main.4bb37d52.js"></script>
<script src="/assets/js/main.2f8d1f75.js"></script>
</body>
</html>