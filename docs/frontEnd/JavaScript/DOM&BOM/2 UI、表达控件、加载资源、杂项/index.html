<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-frontEnd/JavaScript/DOM&BOM/2 UI、表达控件、加载资源、杂项">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="ninjee RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="ninjee Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="ninjee JSON Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Ninjee的前端篮子" href="/opensearch.xml">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?0930342e569f854bebdeb485c0eac7f8",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<link rel="icon" href="/img/ninjee.jpeg">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)"><title data-rh="true">UI、表达控件、加载资源、杂项 - Ninjee的前端篮子</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ninjee.netlify.app/img/ninjee.jpeg"><meta data-rh="true" name="twitter:image" content="https://ninjee.netlify.app/img/ninjee.jpeg"><meta data-rh="true" property="og:url" content="https://ninjee.netlify.app/docs/frontEnd/JavaScript/DOM&amp;BOM/2 UI、表达控件、加载资源、杂项"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="keywords" content="Moxy, Ninjee, blog, javascript, typescript, python ,node, react, vue, web, 前端, 后端"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="UI、表达控件、加载资源、杂项 - Ninjee的前端篮子"><meta data-rh="true" name="description" content="3.1 鼠标事件"><meta data-rh="true" property="og:description" content="3.1 鼠标事件"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ninjee.netlify.app/docs/frontEnd/JavaScript/DOM&amp;BOM/2 UI、表达控件、加载资源、杂项"><link data-rh="true" rel="alternate" href="https://ninjee.netlify.app/docs/frontEnd/JavaScript/DOM&amp;BOM/2 UI、表达控件、加载资源、杂项" hreflang="zh"><link data-rh="true" rel="alternate" href="https://ninjee.netlify.app/docs/frontEnd/JavaScript/DOM&amp;BOM/2 UI、表达控件、加载资源、杂项" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://AJRH2JRXVY-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.cb2f47c4.css">
<link rel="preload" href="/assets/js/runtime~main.888661c5.js" as="script">
<link rel="preload" href="/assets/js/main.946b6ab0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ninjee-icon.png" alt="ninjee" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/ninjee-icon.png" alt="ninjee" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Ninjee</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">前端知识</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/frontEnd/JavaScript">JavaScript</a></li><li><a class="dropdown__link" href="/docs/frontEnd/HTML&amp;CSS">HTML &amp; CSS</a></li><li><a class="dropdown__link" href="/docs/frontEnd/React">React</a></li><li><a class="dropdown__link" href="/docs/frontEnd/浏览器原理">浏览器原理</a></li><li><a class="dropdown__link" href="/docs/frontEnd/other">other</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">敲代码</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/code/algorithm">算法</a></li><li><a class="dropdown__link" href="/docs/code/writtenJs">手写Js</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">面试</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/interview/summary">总结</a></li><li><a class="dropdown__link" href="/docs/interview/iot">物联网</a></li></ul></div><a class="navbar__item navbar__link" href="/project">我的项目</a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/javascript">JavaScript</a><button aria-label="打开/收起侧边栏菜单「JavaScript」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript">概述</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/frontEnd/JavaScript/DOM&amp;BOM/1 Document &amp; 事件">BOM &amp; DOM</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/DOM&amp;BOM/1 Document &amp; 事件">Document、事件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/frontEnd/JavaScript/DOM&amp;BOM/2 UI、表达控件、加载资源、杂项">UI、表达控件、加载资源、杂项</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/DOM&amp;BOM/3 弹窗、网络请求、存储">Frame、Window、网络请求、存储</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/JavaScript的执行过程">1. JavaScript的执行过程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/执行上下文">2. 执行上下文</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/作用域链和闭包">3. 作用域链和闭包</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/this与箭头函数">4. this与箭头函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/提升与暂时性死区">5. 提升与暂时性死区</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/函数与函数式编程">6. 函数与函数式编程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/对象">7. 对象</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/原型链">8. 原型链</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/继承和类">9. 继承和类</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/ES6+基础">10. ES6+ 基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/Symbol, Set, Map">11. Symbol, Set, Map</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/Proxy, Reflect">12. Proxy, Reflect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/Promise">13. Promise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/async:await, 异步编程">15. 迭代, 异步编程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/模块化">16. 模块化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/z-ArrayAPI">Array API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/z-类型判断">类型判断与类型转换</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/z-执行上下文-ES3">执行上下文(ES3)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/html--css">HTML &amp; CSS</a><button aria-label="打开/收起侧边栏菜单「HTML &amp; CSS」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/react">React</a><button aria-label="打开/收起侧边栏菜单「React」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/浏览器原理">浏览器原理</a><button aria-label="打开/收起侧边栏菜单「浏览器原理」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/algorithm">algorithm</a><button aria-label="打开/收起侧边栏菜单「algorithm」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/手写-js">手写 Js</a><button aria-label="打开/收起侧边栏菜单「手写 Js」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/总结">总结</a><button aria-label="打开/收起侧边栏菜单「总结」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/other">other</a><button aria-label="打开/收起侧边栏菜单「other」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_FykI"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_DTRl"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/javascript"><span itemprop="name">JavaScript</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">BOM &amp; DOM</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">UI、表达控件、加载资源、杂项</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>UI、表达控件、加载资源、杂项</h1></header><h1>3 UI 事件</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="31-鼠标事件">3.1 鼠标事件<a class="hash-link" href="#31-鼠标事件" title="标题的直接链接">​</a></h2><p>该事件不仅来自鼠标，也可能是其他兼容性设备模拟鼠标操作（平板、手机）。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="311-常见鼠标事件">3.1.1 常见鼠标事件<a class="hash-link" href="#311-常见鼠标事件" title="标题的直接链接">​</a></h3><p>鼠标：</p><ul><li><p><code>mousedown/mouseup</code> : 在元素上点击 / 释放。</p></li><li><p><code>mouseover/mouseout</code> : 从一个元素上移入 / 移出。</p></li><li><p><code>mousemove</code> : 在元素上的移动就会触发。</p></li><li><p><code>click</code> : 鼠标左键触发。在发生 <code>mousedown</code> 及 <code>mouseup</code> 这两个事件后，会触发该事件。</p></li><li><p><code>dblclick</code> : 在短时间内双击同一元素后触发，很少使用。</p></li><li><p><code>contextmenu</code> : 鼠标右键按下时触发。</p><ul><li>还有其他打开菜单的方式。比如特定的键盘按键也会触发，因此它不完全是鼠标事件。</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="312-事件顺序">3.1.2 事件顺序<a class="hash-link" href="#312-事件顺序" title="标题的直接链接">​</a></h3><p>鼠标事件的触发之间是有先后顺序的，比如：</p><ul><li>一次左键单击事件：<code>mousedown</code> --&gt; <code>mouseup</code> --&gt; <code>click</code></li><li>一次左键双击事件：<code>mousedown</code> --&gt; <code>mouseup</code> --&gt; <code>click</code> --&gt; <code>mousedown</code> --&gt; <code>mouseup</code> --&gt; <code>click</code> --&gt; <code>dblclick</code></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="313-事件属性---鼠标按钮">3.1.3 事件属性 - 鼠标按钮<a class="hash-link" href="#313-事件属性---鼠标按钮" title="标题的直接链接">​</a></h3><p>点击事件（<code>mousedown</code>, <code>mouseup</code>, <code>click</code>, <code>dblclick</code>, <code>contextmenu</code>）都会拥有一个 <code>event.button</code> 属性，用来保存触发事件的鼠标按键状态：</p><table><thead><tr><th align="left">鼠标按键状态</th><th align="left"><code>event.button</code></th></tr></thead><tbody><tr><td align="left">左键 (主要按键)</td><td align="left">0 （常见）</td></tr><tr><td align="left">中键 (辅助按键)</td><td align="left">1</td></tr><tr><td align="left">右键 (次要按键)</td><td align="left">2 （常见）</td></tr><tr><td align="left">X1 键 (后退按键)</td><td align="left">3</td></tr><tr><td align="left">X2 键 (前进按键)</td><td align="left">4</td></tr></tbody></table><h3></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="314-事件属性---组合键">3.1.4 事件属性 - 组合键<a class="hash-link" href="#314-事件属性---组合键" title="标题的直接链接">​</a></h3><p>鼠标事件包含了组合键信息，以下是事件属性。如果在事件时，按下了相应的按键，则对应会置为 <code>true</code>。</p><ul><li><code>event.shiftKey</code>：Shift；</li><li><code>event.altKey</code>：Alt（或对于 Mac 是 Opt）；</li><li><code>event.ctrlKey</code>：Ctrl；</li><li><code>event.metaKey</code>：对于 Mac 是 Cmd。</li></ul><p>注意：在 Mac 上，通常使用 cmd 代替 ctrl。所以，在判断用户是否按下 ctrl 组合键时，要这样检查：</p><ul><li><code>if (event.ctrlkey || event.metakey)</code></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="315-事件属性---坐标">3.1.5 事件属性 - 坐标<a class="hash-link" href="#315-事件属性---坐标" title="标题的直接链接">​</a></h3><p>所有的鼠标事件都提供了两种形式的坐标：</p><ol><li>相对于视口的坐标：<code>clientX</code> 和 <code>clientY</code>。</li><li>相对于文档的坐标：<code>pageX</code> 和 <code>pageY</code>。</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="316-干扰">3.1.6 干扰<a class="hash-link" href="#316-干扰" title="标题的直接链接">​</a></h3><p>鼠标事件有事会有副作用，在某些界面中可能会出现干扰：</p><ul><li>双击事件：比如双击一个文本，除了会触发我们设定的 <code>dblclick</code> 事件外，还会选择文本。</li><li>按下鼠标：在按下鼠标左键，不松开的情况下拖动鼠标，也会触发选中文本。</li></ul><p>解决方案，阻止 <code>mousedown</code> 事件中，浏览器的默认行为：</p><ul><li>使用 <code>return false</code>：<code>&lt;b ondblclick=&quot;alert(&#x27;Click!&#x27;)&quot; onmousedown=&quot;return false&quot;&gt;XXXX&lt;/b&gt;</code></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="3161-防止复制">3.1.6.1 防止复制<a class="hash-link" href="#3161-防止复制" title="标题的直接链接">​</a></h4><p>额外的tips，如何防止浏览器中，用户的复制行为，保护文本不被复制：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">oncopy</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">alert(</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">不允许复制!</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">); return false</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    这里是不允许复制的文本内容。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>使用 <code>oncopy</code> 特性，返回 <code>false</code>，在用户尝试右键点击复制的时候，就会触发 <code>oncopy</code> 中的代码，弹出提示框，最终会失败。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="32-移动鼠标">3.2 移动鼠标<a class="hash-link" href="#32-移动鼠标" title="标题的直接链接">​</a></h2><ul><li><p><code>mousedown/mouseup</code> : 在元素上点击 / 释放。</p></li><li><p><code>mouseover/mouseout</code> : 从一个元素上移入 / 移出。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="321-事件属性---eventrelatedtarget">3.2.1 事件属性 - event.relatedTarget<a class="hash-link" href="#321-事件属性---eventrelatedtarget" title="标题的直接链接">​</a></h3><ul><li><code>relatedTarget</code> 属性是对 <code>target</code> 的补充。</li><li><code>relatedTarget</code> 的值可以为 <code>null</code> ，表明可能是鼠标从另一个窗口过来（over）、或移动到了另一个窗口上（out）。</li></ul><p>当鼠标从 A 元素离开，已经移动到了 B 元素时：</p><ul><li><p><strong>对于<code>mouseover</code>：</strong></p></li><li><p><strong><code>event.target</code> ：鼠标移到的当前元素 —— B 元素。</strong></p></li><li><p><code>event.relatedTarget</code>：鼠标之前所处的元素 —— A 元素。</p></li><li><p>对于<code>mouseout</code> ，与 over 相反，记住 over 就行：</p><ul><li><code>event.target</code> ：鼠标之前所处的元素 —— A元素。</li><li><code>event.relatedTarget</code> ：鼠标移到的当前元素 —— B 元素。</li></ul></li></ul><p>记： <code>target</code> 属性是我们的主要目的，<code>relatedTarget</code> 属性是我们为了方便而增添的附加信息。</p><ul><li>所以，对于 <code>mouseover</code>  我们主要关注的是也就是当前鼠标所处的位置（over），这个值自然是保存到 <code>target</code> 中。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="323-元素的跳过">3.2.3 元素的跳过<a class="hash-link" href="#323-元素的跳过" title="标题的直接链接">​</a></h3><p><code>mousemove</code>事件，是随着鼠标的移动而触发。浏览器会间隔很小的周期，不断的重复检查鼠标的坐标位置，用以确定是否触发 <code>mousemove</code> 事件。</p><ul><li>通过<code>mousemove</code> 事件，浏览器就可以计算出 <code>mouseover</code> 事件；通过 <code>mouseover</code> 事件，浏览器就可以监听到 <code>mouseout</code> 事件。</li></ul><p>这意味着，当鼠标移动的速度非常快，可能在这个“小的周期”中，鼠标一下划过过了多个元素，这就会导致浏览器没有及时检测到鼠标具体划过了哪几个元素，造成了元素的跳过。</p><p> <img loading="lazy" alt="image-20210703091117594" src="data:image/png;base64,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" width="477" height="99" class="img_E7b_"></p><ul><li><p>如果鼠标从上图所示的 <code>#FROM</code> 快速移动到 <code>#TO</code> 元素，则中间的 <code>&lt;div&gt;</code>元素可能会被跳过。<code>mouseout</code> 事件可能会在 <code>#FROM</code> 上被触发，然后立即在 <code>#TO</code> 上触发 <code>mouseover</code>。</p></li><li><p>如果 <code>mouseover</code> 被触发了，则 <code>mouseout</code> 也一定会触发，这两者是一一对应的。</p><ul><li>如果鼠标指针“正式地”进入了一个元素（生成了 <code>mouseover</code> 事件），那么一旦它离开，我们就会得到 <code>mouseout</code>。</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="324-mouseover-的细节">3.2.4 mouseover 的细节<a class="hash-link" href="#324-mouseover-的细节" title="标题的直接链接">​</a></h3><p>先说原则：</p><ul><li>鼠标指针移动到嵌套最多的那个元素上，也就是视觉上最突出的那个元素上（z-index最大的那个），就会触发 <code>mouseover</code> 事件。</li><li>可以非常笼统的说，在视觉上分割出的区域（子元素和父元素在视觉上是两个区域），鼠标在这两个区域移动，就会触发 over，out</li></ul><p>以下分两种情况讨论：</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="3241-父元素--子元素">3.2.4.1 父元素 ==&gt; 子元素<a class="hash-link" href="#3241-父元素--子元素" title="标题的直接链接">​</a></h4><p> <img loading="lazy" alt="image-20210703092122398" src="data:image/png;base64,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" width="277" height="170" class="img_E7b_"></p><p>当鼠标从父元素移动到子元素时，在父元素上就会触发 <code>mouseout</code> 事件，在子元素上就会触发 <code>mouseover</code> 事件。</p><ul><li>如果设置了事件会发生捕获，则子元素上如果设置了<code>mouseover</code>事件，也会被触发。</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="3242-子元素--父元素">3.2.4.2 子元素 ==&gt; 父元素<a class="hash-link" href="#3242-子元素--父元素" title="标题的直接链接">​</a></h4><p> <img loading="lazy" alt="image-20210703092132071" src="data:image/png;base64,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" width="273" height="164" class="img_E7b_"></p><p>当鼠标从子元素移动到父元素是，在子元素上就会触发 <code>mouseout</code> 事件，在父元素上就会触发 <code>mouseover</code> 事件。</p><ul><li>与此同时，由于默认情况下事件会<strong>冒泡</strong>。因此，如果父元素上设置了 <code>mouseout</code>的事件处理程序，也会触发 <code>mouseout</code> 的回调。<ul><li>注意：此时触发的 <code>mouseout</code> 是归属于子元素的，所以虽然因冒泡在父元素上也触发了该事件，但其属性 <code>event.target</code> 的值，依然同子元素上完全相同。</li></ul></li></ul><p>因此，如果要判断鼠标是否离开了父元素和其嵌套的子元素，不能单单判断父元素上是否触发了 <code>mouseout</code>，而是要具体判断：</p><ul><li><p><code>event.target</code> 的值是不是父元素。如果是，才能证明触发事件的元素，就是父元素本身。</p></li><li><p>或，<code>event.relatedTarget</code> 的值是不是子元素。如果是，证明鼠标是从子元素移动到父元素上，而不是从外部移动到父元素。</p></li><li><p>或，<code>mouseenter</code> 和 <code>mouseleave</code> 事件。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="325-mouseenter-和-mouseleave">3.2.5 <code>mouseenter</code> 和 <code>mouseleave</code><a class="hash-link" href="#325-mouseenter-和-mouseleave" title="标题的直接链接">​</a></h3><p>事件 <code>mouseenter/mouseleave</code> 类似于 <code>mouseover/mouseout</code>。它们在鼠标指针进入/离开元素时触发。</p><p>但是有两个重要的区别：</p><ol><li>enter 和 leave 事件，元素内部与后代之间的转换不会产生影响。</li><li>同时，事件 <code>mouseenter/mouseleave</code> 不会冒泡。</li></ol><p>当鼠标指针进入一个元素时，会触发 <code>mouseenter</code>，当鼠标指针离开该元素时，事件 <code>mouseleave</code> 才会触发。</p><ul><li>与 over/out 的显著区别，就是没有了子元素嵌套的概念。只要还处在父元素中，即便是进入了更深的子元素，也依然不会触发 <code>mouseleave</code> 直到完全离开的父元素，才会触发。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="326-事件委托">3.2.6 事件委托<a class="hash-link" href="#326-事件委托" title="标题的直接链接">​</a></h3><p>利用 <code>mouseover</code> 和 <code>mouseout</code> 可以建立事件委托，简单的例子如下：</p><p>在列表的 <code>&lt;ul&gt;</code> 上设置 <code>mouseover</code> 监听，利用对 <code>event.target</code>  属性值，可以判断出当前鼠标在其子元素中的哪一个位置。</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">test</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:#00009f">let</span><span class="token script language-javascript"> ul </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">querySelector</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;#test&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">ul</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function-variable function" style="color:#d73a49">onmouseover</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">event</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">let</span><span class="token script language-javascript"> text </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> event</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">target</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">firstChild</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 获取li标签中包含的文本值</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    console</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">log</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">text</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 当鼠标移动到某个li中，就会监听到，然后在控制台输出文本值：&quot;1&quot;, &quot;2&quot;或&quot;3&quot;。</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>相反，<code>mouseenter</code> 和 <code>mouseleave</code> 由于忽略了父子元素的关系，不可以使用事件委托来监听。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="33-拖放鼠标">3.3 拖放鼠标<a class="hash-link" href="#33-拖放鼠标" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="331-算法">3.3.1 算法<a class="hash-link" href="#331-算法" title="标题的直接链接">​</a></h3><p>鼠标的拖放，简单来说就是三个步骤：鼠标按下、鼠标拖动、鼠标释放，对应了三个事件监听：<code>mousedown</code>, <code>mousemove</code>, <code>mouseup</code>。</p><p>基础的拖放算法，在触发相关事件时，通常要做出如下行为：</p><ol><li><code>mousedown</code> ： 设置好准备移动的元素，可能是创建一个副本，也可能是设置他的<code>position: absolute</code>。</li><li><code>mousemove</code> ：通过更改 <code>position:absolute</code> 情况下的 <code>left/top</code> 来移动它。</li><li><code>mouseup</code> ：执行与完成的拖放相关的所有行为。</li></ol><p>有好几个应用，值得<!-- -->[反复记忆]<!-- -->(<a href="https://zh.javascript.info/mouse-drag-and-drop" target="_blank" rel="noopener noreferrer">鼠标拖放事件 (javascript.info)</a>)。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="34-指针事件">3.4 指针事件<a class="hash-link" href="#34-指针事件" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="341-历史">3.4.1 历史<a class="hash-link" href="#341-历史" title="标题的直接链接">​</a></h3><ul><li><p>很早以前，只有鼠标事件。</p></li><li><p>引入了触摸事件。有了手机和平板电脑，触摸设备比鼠标具有更多的功能。例如，多点触控。鼠标事件并没有相关属性来处理这种多点触控。</p><p>例如 <code>touchstart</code>、<code>touchend</code> 和 <code>touchmove</code>，它们具有特定于触摸的属性（这里不再赘述这些特性，因为指针事件更加完善）。</p><p>不过这还是不够完美。很多输入设备（如触控笔）都有自己的特性。而且同时维护鼠标事件和触摸事件的代码，非常笨重。</p></li><li><p>引入了全新的规范「指针事件」。为各种指针输入设备提供了一套统一的事件。</p></li></ul><p>注： IE 10 或 Safari 12 或更低的版本不兼容指针事件。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="342-指针事件类型">3.4.2 指针事件类型<a class="hash-link" href="#342-指针事件类型" title="标题的直接链接">​</a></h3><p>指针事件的命名方式和鼠标事件类似：</p><table><thead><tr><th align="left">指针事件</th><th align="left">类似的鼠标事件</th></tr></thead><tbody><tr><td align="left"><code>pointerdown</code></td><td align="left"><code>mousedown</code></td></tr><tr><td align="left"><code>pointerup</code></td><td align="left"><code>mouseup</code></td></tr><tr><td align="left"><code>pointermove</code></td><td align="left"><code>mousemove</code></td></tr><tr><td align="left"><code>pointerover</code></td><td align="left"><code>mouseover</code></td></tr><tr><td align="left"><code>pointerout</code></td><td align="left"><code>mouseout</code></td></tr><tr><td align="left"><code>pointerenter</code></td><td align="left"><code>mouseenter</code></td></tr><tr><td align="left"><code>pointerleave</code></td><td align="left"><code>mouseleave</code></td></tr><tr><td align="left"><code>pointercancel</code></td><td align="left">-</td></tr><tr><td align="left"><code>gotpointercapture</code></td><td align="left">-</td></tr><tr><td align="left"><code>lostpointercapture</code></td><td align="left">-</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="343-指针事件属性">3.4.3 指针事件属性<a class="hash-link" href="#343-指针事件属性" title="标题的直接链接">​</a></h3><p>指针事件具备和鼠标事件完全相同的属性，包括 <code>clientX/Y</code> 和 <code>target</code> 等。</p><p>以及一些其他属性：</p><ul><li><code>pointerId</code> ：触发当前事件的指针唯一标识符。浏览器生成的，解决多指针同时触发的问题。</li><li><code>pointerType</code> ：指针的设备类型，必须为字符串。可以是：“mouse”、“pen” 或 “touch”。<ul><li>我们可以针对不同类型的指针输入做出不同响应。</li></ul></li><li><code>isPrimary</code> ：当指针为首要指针（多点触控时按下的第一根手指）时为 <code>true</code>。</li></ul><p>有些指针设备会测量接触面积和点按压力（指压在触屏上），有<strong>很少使用的属性</strong>配合：</p><ul><li><code>width</code> ：指针（例如手指）接触设备的区域的宽度。对于不支持的设备（如鼠标），这个值总是 <code>1</code>。</li><li><code>height</code> ：指针（例如手指）接触设备的区域的长度。对于不支持的设备，这个值总是 <code>1</code>。</li><li><code>pressure</code> ：触摸压力，一个介于 0 到 1 之间的浮点数。对于不支持的设备，这个值总是 <code>0.5</code>（按下时）或 <code>0</code>（未按下时）。</li><li><code>tangentialPressure</code> ：归一化后的切向压力（tangential pressure）。</li><li><code>tiltX</code>, <code>tiltY</code>, <code>twist</code> ：针对触摸笔的几个属性，用于描述笔和屏幕表面的相对位置。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="344-多点触控">3.4.4 多点触控<a class="hash-link" href="#344-多点触控" title="标题的直接链接">​</a></h3><p>我们可以通过 <code>pointerId</code> 和 <code>isPrimary</code> 属性的帮助，处理多点触控。</p><p>当用户用一根手指触摸在触摸屏的某个位置，然后将另一根手指放在该触摸屏的其他位置时，会发生以下情况：</p><ol><li>第一个手指触摸：<ul><li><code>pointerdown</code> 事件触发，<code>isPrimary=true</code>，并且被指派了一个 <code>pointerId</code>。</li></ul></li><li>第二个和后续的更多个手指触摸（假设第一个手指仍在触摸）：<ul><li><code>pointerdown</code> 事件触发，<code>isPrimary=false</code>，并且每一个触摸都被指派了不同的 <code>pointerId</code>。</li></ul></li></ol><p>最终，如果有五个手指放在了屏幕上，我们会得到 5 个<code>pointerdown</code> 事件，和 5 个<code>pointerId</code>。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="341-指针中断---pointercancel">3.4.1 指针中断 - pointercancel<a class="hash-link" href="#341-指针中断---pointercancel" title="标题的直接链接">​</a></h3><p><code>pointercancel</code> 事件在触发后，会取消当前处在活跃状态的指针。该事件常常用在主动中断指针，使被中断的指针不会继续触发其他指针事件：</p><p>导致指针中断的可能原因如下：</p><ul><li>指针设备硬件在物理层面上被禁用。</li><li>设备方向旋转（例如给平板转了个方向）。</li><li>浏览器开始处理这一交互。比如将其看作是一个专门的鼠标手势或缩放操作等。<ul><li>通常，一个对物体的拖拽操作，浏览器就会接管，主动触发 <code>pointercancel</code> 事件。</li><li>我们可以通过阻止浏览器默认行为，来防止 <code>pointercancel</code> 事件的触发。 </li></ul></li></ul><p>如何阻止阻止浏览器默认行为，来防止 <code>pointercancel</code> 事件的触发：</p><ul><li>阻止原生的拖放操作发生：<ul><li>JS 中设置： <code>someElement.ondragstart = () =&gt; false</code> ，也适用于鼠标事件。</li></ul></li><li>阻止其他触摸相关的浏览器默认操作：<ul><li>CSS 中设置： <code>#someElement { touch-action: none }</code> 来阻止它们。</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="112-指针捕获---setpointercapture">1.1.2 指针捕获 - setPointerCapture()<a class="hash-link" href="#112-指针捕获---setpointercapture" title="标题的直接链接">​</a></h3><p>指针捕获允许一个特定的指针事件(<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PointerEvent" target="_blank" rel="noopener noreferrer"><code>PointerEvent</code></a>) 事件从一个事件触发时候的目标重定位到另一个目标上。这个功能可以确保一个元素可以持续的接收到一个pointer事件，即使这个事件的触发点已经移出了这个元素（比如，在滚动的时候）。</p><p>比如，在设置拖动一个小方块（box）的时候，指针事件在 document 上监听，一旦监听到指针处在 box 上时，可以使用指针捕获 (<code>setPointerCapture</code>) 把 <code>event.target</code> 重定向（指向）到 box 上，这样的好处有：</p><ul><li>其他元素将不能再作为该 pointer 事件的目标了，其他元素的 <code>pointerover</code>, <code>pointerout</code> <code>pointerenter</code>, 和<code>pointerleave</code> 事件将不会被触发。接下来所有的指针事件，都会被重定向到 box 上。</li><li>确保 box 可以持续的接收到一个pointer事件，即使这个事件的触发点已经移出了这个元素。
比如在拖动划动条，鼠标经常会离开划动块儿的区域。利用指针捕获可以确保指向 box 的 pointer 事件一直在活跃状态。</li><li>即使用户在整个文档上移动指针，事件处理程序也将仅在 <code>thumb</code> 上被调用。
此外，事件对象的坐标属性，例如 <code>clientX/clientY</code> 仍将是正确的，捕获仅影响 <code>target/currentTarget</code>。</li></ul><p>语法：</p><p><code>elem.setPointerCapture(pointerId)</code> ：指针捕获。</p><ul><li>将给定的 <code>pointerId</code> 绑定到 <code>elem</code>。
在调用之后，所有具有相同 <code>pointerId</code> 的指针事件，都将 <code>elem</code> 作为目标（就像事件发生在 <code>elem</code> 上一样），无论 <code>elem</code> 在文档中的实际位置是什么。</li></ul><p><code>elem.releasePointerCapture(pointerId)</code>：取消指针捕获。</p><p>绑定会在以下情况下被移除：</p><ul><li>当 <code>pointerup</code> 或 <code>pointercancel</code> 事件出现时；</li><li>当 <code>elem</code> 被从文档中移除后；</li><li>当 <code>elem.releasePointerCapture(pointerId)</code> 被调用后。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="35-键盘事件">3.5 键盘事件<a class="hash-link" href="#35-键盘事件" title="标题的直接链接">​</a></h2><p><code>keydown</code> 事件：当一个按键被按下时触发；</p><p><code>keyup</code> 事件：当一个按键被释放时触发。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="351-事件对象">3.5.1 事件对象<a class="hash-link" href="#351-事件对象" title="标题的直接链接">​</a></h3><p><code>event.key</code> 属性：获取当前按键的字符，会受大小写 (shift) 的影响而保存不同字母。</p><p><code>event.code</code> 属性：获取当前按键的“物理按键代码”。和按键一一对应，不会改变。</p><ul><li>区分，<ul><li><code>event.code</code> 准确地标明了哪个键被按下。如两个 Shift 键，会区分<code>&quot;ShiftRight&quot;</code>， <code>&quot;ShiftLeft&quot;</code>。</li><li><code>event.key</code> 只标明按键的“含义”，即它是什么（一个 <code>“Shift”</code>），随着OS不同会因此改变：<code>cmd</code>。</li></ul></li></ul><p>比如，按键 “Z” 的效果：</p><table><thead><tr><th align="left">Key</th><th align="left"><code>event.key</code></th><th align="left"><code>event.code</code></th></tr></thead><tbody><tr><td align="left">Z</td><td align="left"><code>z</code>（小写）</td><td align="left"><code>KeyZ</code></td></tr><tr><td align="left">Shift+Z</td><td align="left"><code>Z</code>（大写）</td><td align="left"><code>KeyZ</code></td></tr></tbody></table><p>更多举例：</p><table><thead><tr><th align="left">Key</th><th align="left"><code>event.key</code></th><th align="left"><code>event.code</code></th></tr></thead><tbody><tr><td align="left">F1</td><td align="left"><code>F1</code></td><td align="left"><code>F1</code></td></tr><tr><td align="left">Backspace</td><td align="left"><code>Backspace</code></td><td align="left"><code>Backspace</code></td></tr><tr><td align="left">Shift</td><td align="left"><code>Shift</code></td><td align="left"><code>ShiftRight</code> 或 <code>ShiftLeft</code></td></tr></tbody></table><p><code>event.code</code> 按键代码：</p><ul><li><p>字符键： <code>&quot;Key&lt;letter&gt;&quot;</code>：<code>&quot;KeyA&quot;</code>，<code>&quot;KeyB&quot;</code> 等。</p></li><li><p>数字键：<code>&quot;Digit&lt;number&gt;&quot;</code>：<code>&quot;Digit0&quot;</code>，<code>&quot;Digit1&quot;</code> 等。</p><ul><li>特殊按键，为按键的名字：<code>&quot;Enter&quot;</code>，<code>&quot;Backspace&quot;</code>，<code>&quot;Tab&quot;</code>，<code>&quot;ShiftLeft&quot;</code> 等。</li></ul></li><li><p>更多：<a href="https://www.w3.org/TR/uievents-code/" target="_blank" rel="noopener noreferrer">UI 事件代码规范</a> 。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="352-兼容性问题">3.5.2 兼容性问题<a class="hash-link" href="#352-兼容性问题" title="标题的直接链接">​</a></h3><p><code>event.key</code> 会受到不同OS平台的影响，而呈现不同的效果。例如在使用“撤销”组合按下时：</p><ul><li>MacOS：是 <code>Cmd + Z</code>。</li><li>Windows：是 <code>Ctrl + Z</code>。</li></ul><p><code>event.code</code> 会受到不同键盘布局的影响，相同的按键位置却收到不同的结果，同样在“撤销”组合按下时：</p><ul><li><p>美式布局 (QWERTY)：是正常的，按下 Z 时，<code>event.code</code> 等于 <code>KeyZ</code>。</p></li><li><p>德式布局 (QWERTZ)：按下 Y 时，<code>event.code</code> 也等于 <code>KeyZ</code>。</p><p><img loading="lazy" alt="img" src="/assets/images/image-20210704115239674-66061b7f6dd9abf769717b7a2c9ba1a1.png" width="1086" height="774" class="img_E7b_"></p></li></ul><p>因此，<code>event.code</code> 可能由于特殊键盘布局，会错误的匹配字符。幸运的是，这种情况只发生在几个代码上，例如 <code>keyA</code>，<code>keyQ</code>，<code>keyZ</code>，可以在 <a href="https://www.w3.org/TR/uievents-code/#table-key-code-alphanumeric-writing-system" target="_blank" rel="noopener noreferrer">规范</a> 中找到该列表。</p><p>总结：</p><ul><li><p>如果频繁切换语言（德式键盘、美式键盘），使用 <code>event.key</code> 更好；</p></li><li><p>如果想兼容更多操作系统（MacOS、Win），使用 <code>event.code</code> 更好。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="353-自动重复">3.5.3 自动重复<a class="hash-link" href="#353-自动重复" title="标题的直接链接">​</a></h3><p>触发自动重复， <code>event.repeat</code> 属性会被设置为 <code> true</code>。</p><p>如果按下一个键足够长的时间，它就会开始“自动重复”：</p><ul><li><p><code>keydown</code> 会被一次又一次地触发；</p></li><li><p>当按键被释放时，最终会得到 <code>keyup</code>。因此，有很多 <code>keydown</code> 却只有一个 <code>keyup</code> 是很正常的。</p></li><li><p>同时，对于由自动重复触发的事件，<code>event</code> 对象的 <code>event.repeat</code> 属性被设置为 <code>true</code>。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="356-浏览器默认行为">3.5.6 浏览器默认行为<a class="hash-link" href="#356-浏览器默认行为" title="标题的直接链接">​</a></h3><p>不同的按键，会对应不同的浏览器默认行为，例如：</p><ul><li>出现在屏幕上的一个字符（最明显的结果）。</li><li>一个字符被删除（Delete 键）。</li><li>滚动页面（PageDown 键）。</li><li>浏览器打开“保存页面”对话框（Ctrl+S）</li><li>……。</li></ul><p>阻止对 <code>keydown</code> 的默认行为可以取消大多数的行为，但基于 OS 的特殊按键除外。</p><ul><li>例如，在 Windows 中，Alt+F4 会关闭当前浏览器窗口。同时，这无法通过在 JavaScript 中阻止默认行为来阻止它。</li></ul><p>备注：过去曾经有一个 <code>keypress</code> 事件，还有事件对象的 <code>keyCode</code>、<code>charCode</code> 和 <code>which</code> 属性。这些目前都不再使用，放在这里是为了完备性。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="36-滚动事件">3.6 滚动事件<a class="hash-link" href="#36-滚动事件" title="标题的直接链接">​</a></h2><p><code>scroll</code> 事件：监听对页面或元素的滚动，例如：</p><ul><li>根据用户在文档中的位置显示/隐藏其他控件或信息。</li><li>当用户向下滚动到页面末端时加载更多数据。</li></ul><p>防止滚动：</p><p>在导致滚动的事件上，例如在 pageUp 和 pageDown 的 <code>keydown</code> 事件上，使用 <code>event.preventDefault()</code> 。</p><h1>4 表单和控件</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="41-表单">4.1 表单<a class="hash-link" href="#41-表单" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="411-navigation---导航属性">4.1.1 navigation - 导航属性<a class="hash-link" href="#411-navigation---导航属性" title="标题的直接链接">​</a></h3><p>这些导航（navigation）属性用于获取文档 document 中的所有表格和其成员。其并不依赖于标签的结构。</p><ul><li>所有的表单，无论在文档中的什么位置，都可以通过 <code>document.forms</code> 直接获取到。</li><li>所有的控件元素，无论在表单中有多深，都可以通过 <code>form.elements</code> 直接获取到。</li></ul><p><code>document.forms</code>：保存了文档中的所有表单，是一个特殊的集合。</p><p>该集合是<strong>有序的</strong>、<strong>被命名的</strong>，其具体的文档访问，可以：</p><ul><li>按名称访问：<code>document.forms.someElem</code>，访问名称为 someElem 的表单。</li><li>按下标访问：<code>document.forms[3]</code>，访问文档中第四个表单。</li></ul><p><code>form.elements</code>：保存了 form 表单中的所有元素/成员，是一个特殊的集合。其具体的成员访问，可以“</p><ul><li>按名称访问：<code>form.elements.one</code>，访问名称为 one 的控件。<ul><li>如果元素的名称有重复的，会返回一个集合，这很常见。</li></ul></li><li>缩写名称访问：<code>form.one</code> ，访问名称为 one 的控件。</li><li>缩写下标访问：<code>form[1]</code>，访问第二个控件。</li></ul><p><code>element.form</code>：保存了该成员/元素所属的表单，即可以通过该属性反向引用表单。</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">form</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">someOne</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">one</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">two</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">two</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">form</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">let</span><span class="token script language-javascript"> form </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">forms</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">my      </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 获取 my表单</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">let</span><span class="token script language-javascript"> elem </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> form</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">elements</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">one      </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 获取 one元素</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">let</span><span class="token script language-javascript"> elems </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> form</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">elements</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">two     </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 获取的元素是一个集合，保存了两个 two元素</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  console</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">log</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">form </span><span class="token script language-javascript operator" style="color:#393A34">===</span><span class="token script language-javascript"> elem</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">form</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// true 可以通过元素反向访问表单</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="412-表单元素">4.1.2 表单元素<a class="hash-link" href="#412-表单元素" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="4121-input-和-textarea">4.1.2.1 input 和 textarea<a class="hash-link" href="#4121-input-和-textarea" title="标题的直接链接">​</a></h4><p><code>input.value</code>：获取<code>&lt;input&gt;</code>标签的对应内容值，字符串。</p><p><code>textarea.value</code>：获取<code>&lt;textarea&gt;</code>标签的对应内容值，字符串。</p><p><code>input.checked</code>：获取<code>&lt;checked&gt;</code>标签（复选框）的选中状态，布尔值（true、false）。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="4122-select-和-option">4.1.2.2 select 和 option<a class="hash-link" href="#4122-select-和-option" title="标题的直接链接">​</a></h4><p>HTML <code>&lt;select&gt;</code> 标签，是一个提供选项菜单的控件：</p><p> <code>&lt;select&gt;</code> 元素有 3 个重要的属性：</p><ol><li><code>select.options</code>：<code>&lt;option&gt;</code> 的子元素的集合，即菜单的可选项；</li><li><code>select.value</code>：当前所选择的 <code>&lt;option&gt;</code> 的 <code>value</code> 值，也就是已选择的 <code>&lt;option&gt;</code>；</li><li><code>select.selectedIndex</code> ：当前所选择的 <code>&lt;option&gt;</code> 的编号。</li></ol><p>它们提供了三种为 <code>&lt;select&gt;</code> 设置 <code>value</code> 的不同方式：</p><ol><li>找到对应的 <code>&lt;option&gt;</code> 元素，并将 <code>option.selected</code> 设置为 <code>true</code>。</li><li>将 <code>select.value</code> 设置为对应的 <code>value</code>。</li><li>将 <code>select.selectedIndex</code> 设置为对应 <code>&lt;option&gt;</code> 的编号。</li></ol><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">select</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">option</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">apple</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Apple</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">option</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">option</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">pear</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Pear</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">option</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">option</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">banana</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Banana</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">option</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 所有这三行做的是同一件事</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  select</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">options</span><span class="token script language-javascript punctuation" style="color:#393A34">[</span><span class="token script language-javascript number" style="color:#36acaa">2</span><span class="token script language-javascript punctuation" style="color:#393A34">]</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">selected </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript boolean" style="color:#36acaa">true</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  select</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">value </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;banana&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  select</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">selectedIndex </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript number" style="color:#36acaa">2</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p> <img loading="lazy" alt="img" src="/assets/images/image-20210704161729986-07322a9d65e8f303c72d16111c77f067.png" width="400" height="218" class="img_E7b_"></p><p>图片可以看到，默认的 <code>&lt;option&gt;</code> 是 Banana。</p><p>快速创建 <code>&lt;option&gt;</code> 元素：</p><ul><li><code>&lt;option&gt;</code> 元素就是在<code>&lt;select&gt;</code>, <code>&lt;optgroup&gt;</code>, <code>&lt;datalist&gt;</code> 元素中包含的项。 </li></ul><p><code>option = new Option(text, value, defaultSelected, selected);</code></p><p>参数：</p><ul><li><code>text</code>：<code>&lt;option&gt;</code> 中的文本，</li><li><code>value</code> ：<code>&lt;option&gt;</code> 的 <code>value</code>，</li><li><code>defaultSelected</code> ：如果为 <code>true</code>，那么 <code>selected</code> HTML-特性（attribute）就会被创建，</li><li><code>selected</code> ：如果为 <code>true</code>，那么这个 <code>&lt;option&gt;</code> 就会被选中。<ul><li>通常，这后两个值都设置为 <code>true</code>，或者都不设置（与设置为 <code>false</code> 是一样的）。</li></ul></li></ul><p><code>&lt;option&gt;</code> 元素具有以下属性：</p><ul><li><code>option.selected</code>：<code>&lt;option&gt;</code> 是否被选择。</li><li><code>option.index</code>：<code>&lt;option&gt;</code> 在其所属的 <code>&lt;select&gt;</code> 中的编号。</li><li><code>option.text</code>：<code>&lt;option&gt;</code> 的文本内容（可以被访问者看到）。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="42-聚焦">4.2 聚焦<a class="hash-link" href="#42-聚焦" title="标题的直接链接">​</a></h2><p>focus：为聚焦。当聚焦到一个元素的时候，通常隐含了 “正准备在此处接受数据”，此时常运行代码，用以初始化来接受数据。</p><p>blur：为失去焦点。当一个元素失去焦点的时候，通常隐含了 “此处的数据已经输入完成”，此时运行代码检查到该状态，可以把数据保存起来。</p><p>获得焦点：</p><ul><li><code>autofocus</code>：一个 HTML 特性（attribute），可以让焦点在网页加载时默认落在一个元素上。</li><li>鼠标：当用户点击某个元素时，该元素将会获得聚焦（focus）。</li><li>键盘：当用户使用键盘上的 <code>Tab</code> 键选中时，该元素将会获得聚焦（focus）。</li><li>JS代码：<code>elem.focus()</code> 和 <code>elem.blur()</code> 设置和移除元素上的焦点。</li><li>....</li></ul><p>失去焦点：</p><ul><li>鼠标：用户点击了其它位置。</li><li>键盘：用户按下 <code>Tab</code>。</li><li>JavaScript：一个 <code>alert</code> 会将焦点移至自身，因此会导致元素失去焦点（触发 <code>blur</code> 事件）。<ul><li>当 <code>alert</code> 对话框被取消时，焦点又回重新回到原元素上（触发 <code>focus</code> 事件）。</li></ul></li><li>JavaScript：聚焦的元素被从 DOM 中移除，会导致焦点丢失（触发 <code>blur</code> 事件）。<ul><li>如果稍后它被重新插入到 DOM，焦点也不会回到它身上（<strong>不</strong>触发 <code>focus</code> 事件）。</li></ul></li></ul><p>同时，当元素聚焦时，会触发 <code>focus</code> 事件，当元素失去焦点时，会触发 <code>blur</code> 事件。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="421-focus--blur-事件">4.2.1 focus / blur 事件<a class="hash-link" href="#421-focus--blur-事件" title="标题的直接链接">​</a></h3><p>举例，当需要用户输入邮箱时，可以使用：</p><ul><li><code>blur</code> 事件的处理程序，检查用户是否输入正确的电子邮箱，如果不是，就给用户一个提示；</li><li><code>focus</code>事件的处理程序，当用户聚焦到输入框（<code>&lt;input&gt;</code>）时，就隐藏用户提示。</li></ul><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">style</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css selector class" style="color:#00009f">.invalid</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">{</span><span class="token style language-css"> </span><span class="token style language-css property" style="color:#36acaa">border-color</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css color">red</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css selector id" style="color:#00009f">#error</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">{</span><span class="token style language-css"> </span><span class="token style language-css property" style="color:#36acaa">color</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css color">red</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">style</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Your email please: </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">email</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">input</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">error</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">input</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function-variable function" style="color:#d73a49">onblur</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript operator" style="color:#393A34">!</span><span class="token script language-javascript">input</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">value</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">includes</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;@&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript">       </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 非常简陋的验证，是不是一个邮箱</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    input</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">classList</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">add</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;invalid&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript">             </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// input标签添加 无效属性，CSS代码中有，变为红色框。</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    error</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">innerHTML </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;Please enter a correct email.&#x27;</span><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 提示用户</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">input</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function-variable function" style="color:#d73a49">onfocus</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript keyword" style="color:#00009f">this</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">classList</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">contains</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;invalid&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">this</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">classList</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">remove</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;invalid&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript">           </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 移除 &quot;error&quot; 指示，因为用户想要重新输入一些内容</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    error</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">innerHTML </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript">                                   </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 删除提示</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>输入正确：</p><p> <img loading="lazy" alt="img" src="/assets/images/image-20210704163956084-1ca4c42def9a840ac2b4dc9d7902aa9b.png" width="624" height="126" class="img_E7b_"></p><p>输入错误：</p><p> <img loading="lazy" alt="img" src="/assets/images/image-20210704164018124-6a7bd08a7d525c808debfad526d45f5c.png" width="610" height="110" class="img_E7b_"></p><p><code>elem.focus()</code> 和 <code>elem.blur()</code> 方法可以设置和移除元素上的焦点。</p><ul><li>注意，无法通过在 <code>onblur</code> 事件处理程序中调用 <code>event.preventDefault()</code> 来“阻止失去焦点”，
因为元素先失去焦点，然后才触发 <code>onblur</code> 事件。<code>onblur</code> 事件处理程序是在元素失去焦点 <strong>之后</strong> 运行的。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="422-允许在任何元素上聚焦tabindex">4.2.2 允许在任何元素上聚焦：tabindex<a class="hash-link" href="#422-允许在任何元素上聚焦tabindex" title="标题的直接链接">​</a></h3><p>许多元素浏览器默认是不允许聚焦的，使用 <code>tabindex</code> 则让这些不支持聚焦的元素，变得可以聚焦。</p><ul><li><code> &lt;div&gt;</code>，<code>&lt;span&gt;</code> 和 <code>&lt;table&gt;</code> ，默认是不能被聚焦的。但是可以通过该 HTML 元素特性改变。</li></ul><p>该特性的要点是点击 <code>tab</code> 切换聚焦的顺序问题，按照一下优点级依次切换：</p><ol><li><code>tabindex ≥ 1</code> ：数值为正数的为第一等级，数字越小，越排在前面；</li><li><code>tabindex = 0</code>  + 默认有聚焦的元素（如<code>&lt;input&gt;</code>）：为第二等级，按照文档先后顺序决定切换次序。</li><li><code>tabindex = -1</code>：只允许以编程的方式聚焦（如<code>elem.focus()</code>），用户鼠标也可以，但<code>tab</code> 无法聚焦。</li></ol><p>举例：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">tabindex</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">One</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">tabindex</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Zero</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">tabindex</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Two</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">tabindex</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">-1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Minus one</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">style</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css selector" style="color:#00009f">li</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">{</span><span class="token style language-css"> </span><span class="token style language-css property" style="color:#36acaa">cursor</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> pointer</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css selector pseudo-class" style="color:#00009f">:focus</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">{</span><span class="token style language-css"> </span><span class="token style language-css property" style="color:#36acaa">outline</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:#36acaa">1</span><span class="token style language-css unit">px</span><span class="token style language-css"> dashed </span><span class="token style language-css color">green</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">style</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li>顺序就像这样：<code>1 - 2 - 0</code>。</li><li><code>Minus one</code>  不可以被 <code>tab</code> 聚焦，但是可以被</li><li>通常 <code>&lt;li&gt;</code> 不支持聚焦，但 <code>tabindex</code> 可以使它能聚焦，并且还带有事件以及 <code>:focus</code> 样式。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="focusblur-委托">focus/blur 委托<a class="hash-link" href="#focusblur-委托" title="标题的直接链接">​</a></h2><p><code>focus</code> 和 <code>blur</code> 事件不会向上冒泡。</p><p>这里有两个解决方案。</p><ul><li><p>方案一：遗留下来的有趣的特性（feature）：<code>focus/blur</code> 不会向上冒泡，但会在捕获阶段向下传播。</p></li><li><p>方案二：使用 <code>focusin</code> 和 <code>focusout</code> 事件 ，与 <code>focus/blur</code> 事件完全一样，只是它们会冒泡。</p><ul><li>必须使用 <code>elem.addEventListener</code> 来分配它们，而不是 <code>on&lt;event&gt;</code>。</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="43-数据更新的相关事件">4.3 数据更新的相关事件<a class="hash-link" href="#43-数据更新的相关事件" title="标题的直接链接">​</a></h2><p>可以参考文章的例子来记忆：<a href="https://zh.javascript.info/events-change-input" target="_blank" rel="noopener noreferrer">事件：change，input，cut，copy，paste (javascript.info)</a></p><p>数据更改事件:</p><table><thead><tr><th align="left">事件</th><th align="left">描述</th><th align="left">特点</th></tr></thead><tbody><tr><td align="left"><code>change</code></td><td align="left">值被改变。</td><td align="left">对于文本输入，当失去焦点时触发。</td></tr><tr><td align="left"><code>input</code></td><td align="left">文本输入的每次更改。</td><td align="left">立即触发，与 <code>change</code> 不同。</td></tr><tr><td align="left"><code>cut/copy/paste</code></td><td align="left">剪贴/拷贝/粘贴行为。</td><td align="left">行为可以被阻止。<br><code>event.clipboardData</code> 属性可以用于读/写剪贴板。</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="431-change-事件">4.3.1 change 事件<a class="hash-link" href="#431-change-事件" title="标题的直接链接">​</a></h3><p>当元素更改完成时，将触发 <code>change</code> 事件。</p><ul><li>对于文本输入框，当其失去焦点时，就会触发 <code>change</code> 事件。</li><li>其它元素：<code>select</code>，<code>input type=checkbox/radio</code>，在选项更改后立即触发 <code>change</code> 事件。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="432-input-事件">4.3.2 input 事件<a class="hash-link" href="#432-input-事件" title="标题的直接链接">​</a></h3><p>当用户对输入值进行修改后，就会触发 <code>input</code> 事件。</p><ul><li>与键盘事件不同，只要值发生改变，<code>input</code> 事件就会触发。使用鼠标粘贴，或者使用语音识别来输入文本也会改变。</li><li>比如键盘输入：&quot;123&quot;，每输入一个字母，就触发一次。一共会触发三次 <code>input</code> 事件。</li><li>如果不更改文本内容，不会出发 <code>change</code> 事件，比如按方向键进行光标移动。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="433-cutcopypaste-事件">4.3.3 cut，copy，paste 事件<a class="hash-link" href="#433-cutcopypaste-事件" title="标题的直接链接">​</a></h3><p>这些事件发生于剪切 / 拷贝 / 粘贴一个值的时候。</p><p>它们属于 <a href="https://www.w3.org/TR/clipboard-apis/#clipboard-event-interfaces" target="_blank" rel="noopener noreferrer">ClipboardEvent</a> 类，并提供了对拷贝/粘贴的数据的访问方法。</p><ul><li><p>可以使用 <code>event.preventDefault()</code> 来中止行为，然后什么都不会被复制/粘贴。</p></li><li><p>不仅可以对文本操作，复制 / 粘贴所有内柔都有效果：图片、OS文件管理器中的文件等。</p></li><li><p><a href="https://www.w3.org/TR/clipboard-apis/#dfn-datatransfer" target="_blank" rel="noopener noreferrer">在规范中</a> 有一系列方法，这些方法可用于不同的数据类型，包括文件，对剪贴板（clipboard）进行读/写。</p></li><li><p>但是请注意，剪贴板是“全局”操作系统级别的。安全起见，大多数浏览器仅在特定的用户行为下，才允许对剪贴板进行读/写，例如在 <code>onclick</code> 事件处理程序中。</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="44-表单的提交-submit">4.4 表单的提交 submit<a class="hash-link" href="#44-表单的提交-submit" title="标题的直接链接">​</a></h2><p> <code>submit</code> 事件：在提交表单时被触发。</p><ul><li>用于在将表单发送到服务器之前对表单进行校验，或者中止提交，并使用 JavaScript 来处理表单。</li></ul><p><code>form.submit()</code> 方法：允许从 JavaScript 启动表单发送。</p><ul><li>使用此方法动态地创建表单，并将其发送到服务器。</li></ul><p>提交表单，也就是触发表单的 <code>submit</code> 事件。主要有两种方式：</p><ol><li>点击 <code>&lt;input type=&quot;submit&quot;&gt;</code> 或 <code>&lt;input type=&quot;image&quot;&gt;</code>。</li><li>在 <code>input</code> 字段中，（文本输入完毕后）按下 <code>Enter</code> 键。</li><li>调用 <code>form.submit()</code>。手动将表单提交到服务器。<ul><li>有时该方法被用来手动创建和发送表单。</li></ul></li></ol><ul><li>处理程序可以检查数据，如果有错误，就显示出来，并调用 <code>event.preventDefault()</code>，这样表单就不会被发送到服务器了。</li><li>注：点击  <code>&lt;input type=&quot;submit&quot;&gt;</code> 和 <code>&lt;input type=&quot;image&quot;&gt;</code>。</li><li>注：在输入框中使用 Enter 发送表单时，会在 <code>&lt;input type=&quot;submit&quot;&gt;</code> 上触发一次 <code>click</code> 事件。</li></ul><h1>5 加载文档和其他资源</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="51--页面生命周期">5.1  页面生命周期<a class="hash-link" href="#51--页面生命周期" title="标题的直接链接">​</a></h2><p>HTML 页面的生命周期包含三个重要事件：</p><ul><li><code>DOMContentLoaded</code>：浏览器已完全加载 HTML，并构建了 DOM 树。</li><li><code>load</code>：浏览加载完成了所有外部资源：图片，样式等。</li><li><code>beforeunload/unload</code>：当用户正在离开页面时。</li></ul><p>每个事件都是有用的，依时间顺序：</p><ul><li><code>DOMContentLoaded</code> 事件 ：DOM 已经就绪，因此处理程序可以查找 DOM 节点，并初始化接口。</li><li><code>load</code> 事件 ：外部资源已加载完成，样式已被应用，图片大小也已知了。</li><li><code>unload</code> 事件 ：用户几乎已经离开了，但是我们仍然可以启动一些操作，例如发送统计数据。</li><li><code>beforeunload</code> 事件 ： 用户正在离开，可以检查用户是否保存了更改，并询问他是否真的要离开。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="511-domcontentloaded-事件">5.1.1 DOMContentLoaded 事件<a class="hash-link" href="#511-domcontentloaded-事件" title="标题的直接链接">​</a></h3><p><code>DOMContentLoaded</code> 事件发生在 <code>document</code> 对象上。</p><p>必须使用 <code>addEventListener</code> 来捕获它：</p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;DOMContentLoaded&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ready</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 不是 &quot;document.onDOMContentLoaded = ...&quot;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="5111-script-脚本的阻塞">5.1.1.1 <code>&lt;script&gt;</code> 脚本的阻塞<a class="hash-link" href="#5111-script-脚本的阻塞" title="标题的直接链接">​</a></h4><p>当浏览器处理一个 HTML 文档时，会优先把所有 <code>script</code> 标签内的 Js 代码全部运行完毕，然后 DOM 才全部构建完毕，最后触发 <code>DOMContentLoaded</code> 事件。</p><ul><li>执行流程：浏览器顺次处理 HTML 文档中的代码，同时在构建 DOM。每当遇到一个 <code>&lt;script&gt;</code> 标签，就停止构建 DOM，运行处理标签内的 JavaScript 代码。运行完毕后，继续构建 DOM。当 DOM 全部构建完毕（此时所有 <code>&lt;script&gt;</code> 也都执行完毕）后，才触发 <code>DOMContentLoaded</code> 事件。</li><li>原因：为什么会先执行 <code>&lt;script&gt;</code> 内的代码，暂停 DOM 构建？<ul><li>一种防范措施。脚本（JavaScript 代码）可能想要修改 DOM，甚至对其执行 <code>document.write</code> 操作。</li></ul></li></ul><p> <code>DOMContentLoaded</code> 事件的阻塞：不论 <code>&lt;script&gt;</code> 标签在 HTML 文档的什么位置（开头 / 结尾），都会优先被执行完毕，才触发 <code>DOMContentLoaded</code> 事件。以下两种情况不会阻塞 <code>DOMContentLoaded</code> 事件：</p><ul><li>具有 <code>async</code> 特性（attribute）的脚本（JavaScript）不会阻塞；</li><li>使用 <code>document.createElement(&#x27;script&#x27;)</code> 动态生成，并添加到网页的脚本也不会阻塞 。</li></ul><p>一个 CSS 样式表的陷阱：</p><p>外部样式表不会影响 DOM，因此 <code>DOMContentLoaded</code> 不会等待它们。但是，如果在样式后面有一个脚本，那么该脚本必须等待样式表加载完成：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text/css</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">stylesheet</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">style.css</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 在样式表加载完成之前，该脚本都不会执行,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript function" style="color:#d73a49">getComputedStyle</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">body</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">marginTop</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>原因是，脚本可能想要获取元素的坐标和其他与样式相关的属性，如上例所示。因此，它必须等待样式加载完成。</p><p>当 <code>DOMContentLoaded</code> 等待该脚本时，它现在也在等待该脚本前面的样式。</p><p>总结：可以阻塞 <code>DOMContentLoaded</code> 事件的 2 种情况，实质上就是发生了对 DOM 流构建的阻塞：</p><ul><li>HTML 文档流中，有 <code>&lt;script&gt;</code> 脚本，需要优先执行所有脚本，最后触发 <code>DOMContentLoaded</code> 事件。</li><li>HTML 文档流中，CSS样式表后，紧跟一个 <code>&lt;script&gt;</code> 脚本，需要优先执行 CSS样式表，然后执行脚本，最近在触发  <code>DOMContentLoaded</code> 事件。</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="5112-浏览器的自动填充">5.1.1.2 浏览器的自动填充<a class="hash-link" href="#5112-浏览器的自动填充" title="标题的直接链接">​</a></h4><p>Firefox，Chrome 和 Opera 都会在 <code>DOMContentLoaded</code> 事件中，自动填充表单。</p><p>也就是说，如果页面有一个带有登录名和密码的表单、并且浏览器记住了这些值、同时得到了用户允许，那么在 <code>DOMContentLoaded</code> 事件触发时，浏览器会尝试自动填充它们。</p><ul><li>有些网页 DOM 流构建需要很长时间，所以会导致 <code>DOMContentLoaded</code> 触发会有明显的延迟感，那么自动填充也会等待许久。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="512-load-事件">5.1.2 load 事件<a class="hash-link" href="#512-load-事件" title="标题的直接链接">​</a></h3><p>当整个页面，包括样式、图片和其他资源被加载完成时，会触发 <code>window</code> 对象上的 <code>load</code> 事件。</p><ul><li><code>window.onload</code> 设置监听。</li><li><code>window.addEventListener(&#x27;load&#x27;, (event) =&gt; { .... };</code> 方法设置监听。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="513--beforeunload-unload-事件">5.1.3  beforeunload 、unload 事件<a class="hash-link" href="#513--beforeunload-unload-事件" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="5131--触发的时机">5.1.3.1  触发的时机<a class="hash-link" href="#5131--触发的时机" title="标题的直接链接">​</a></h4><p>以下情况均会触发这两个事件：</p><ol><li>在浏览器地址栏输入地址，然后点击跳转；</li><li>点击页面的链接实现跳转；</li><li>关闭或刷新当前页面;</li><li>操作当前页面的 <code>Location</code> 对象，修改当前页面地址;</li><li>调用 <code>window.navigate</code> 实现跳转;</li><li>调用 <code>window.open</code> 或 <code>document.open</code> 方法在当前页面加载其他页面或重新打开输入流。</li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="5132--触发的顺序">5.1.3.2  触发的顺序<a class="hash-link" href="#5132--触发的顺序" title="标题的直接链接">​</a></h4><ol><li>先 <code>beforeunload</code>；</li><li>后 <code>unload</code>。</li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="5133-触发时环境">5.1.3.3 触发时环境<a class="hash-link" href="#5133-触发时环境" title="标题的直接链接">​</a></h4><p><strong><code>beforeunload</code> 事件</strong></p><ol><li>页面所有资源均未释放，且页面可视区域效果<strong>没有变化</strong>；</li><li>UI 人机交互失效 (<code>window.open</code>, <code>alert</code>, <code>confirm</code>全部失效)；</li><li>最后一个可以阻止 <code>unload</code> 过程执行的时机。<code>beforeunload</code> 事件的 <code>Cancelable</code> 属性值为 <code>Yes</code>。</li></ol><p><strong><code>unload</code> 事件</strong></p><ol><li>页面所有资源均未被释放，但是页面可视区域<strong>一片空白</strong>；</li><li>UI 人机交互失效 (<code>window.open</code>, <code>alert</code>, <code>confirm</code>全部失效)；</li><li>没有任何操作可以阻止 <code>unload</code> 过程的执行。(unload事件的 <code>Cancelable </code>属性值为 <code>No</code>。</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="514-unload-事件">5.1.4 unload 事件<a class="hash-link" href="#514-unload-事件" title="标题的直接链接">​</a></h3><p>当访问者离开页面时，<code>window</code> 对象上的 <code>unload</code> 事件就会被触发。</p><ul><li><p>可以在那里做一些不涉及延迟的操作，例如关闭相关的弹出窗口。</p></li><li><p>可以收集有关页面使用情况的数据：鼠标点击，滚动，被查看的页面区域等。当用户要离开时，通过 <code>unload</code> 事件将数据保存到服务器上。</p><ul><li><p><code>navigator.sendBeacon(url, data)</code> 使用该方法，异步（后台）发送数据。即使要跳转另一个页面也不会有延迟：浏览器离开页面，但仍然在执行 <code>sendBeacon</code>。使用方法：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> analyticsData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">/* 带有收集的数据的对象 */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;unload&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  navigator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sendBeacon</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/analytics&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">analyticsData</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>请求以 POST 方式发送，数据大小限制在 64kb。</p></li><li><p>允许发送字符串、表单、其他格式的数据，在 <a href="https://zh.javascript.info/fetch" target="_blank" rel="noopener noreferrer">Fetch</a> 一章有详细讲解。但通常它是一个字符串化的对象。</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="-1"><a class="hash-link" href="#-1" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="515-beforeunload-事件">5.1.5 beforeunload 事件<a class="hash-link" href="#515-beforeunload-事件" title="标题的直接链接">​</a></h3><p>如果访问者触发了页面跳转，或试图关闭窗口，就会触发 <code>beforeunload</code> 事件。</p><p>当用户想切换页面，可以在此事件中询问用户是否确定要关闭网页。</p><p> <img loading="lazy" alt="image-20210705174939737" src="data:image/png;base64,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" width="455" height="165" class="img_E7b_"></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function-variable function" style="color:#d73a49">onbeforeunload</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="516-documentreadystate-属性">5.1.6 document.readyState 属性<a class="hash-link" href="#516-documentreadystate-属性" title="标题的直接链接">​</a></h3><p><strong><code>Document.readyState</code></strong> 属性描述了 document 的加载状态（DOM构建完毕了吗？）。</p><p>当该属性值发生变化时，会在 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document" target="_blank" rel="noopener noreferrer"><code>document</code></a> 对象上触发  <code>readystatechange</code> 事件。</p><p>它有 3 个可能值：</p><ul><li><code>loading</code>：文档正在被加载。</li><li><code>interactive</code>：文档被全解析，但诸如图像、样式表和框架之类的子资源仍在加载。</li><li><code>complete</code>：文档和所有子资源已完成加载。 <code>load</code> 事件即将被触发。</li></ul><p>可以在状态发生改变时，通过触发  <code>readystatechange</code> 事件，查看当前 <code>readyState</code> 属性值：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 当前状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">readyState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 状态改变时打印它</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;readystatechange&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">readyState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><code>readystatechange</code> 事件是跟踪文档加载状态的另一种机制，现在很少被使用。</p><p>为了完整起见，让我们看看完整的事件流。这是一个带有 <code>&lt;iframe&gt;</code>，<code>&lt;img&gt;</code> 和记录事件的处理程序的文档：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript function" style="color:#d73a49">log</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;initial readyState:&#x27;</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">readyState</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">addEventListener</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;readystatechange&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">                            </span><span class="token script language-javascript function" style="color:#d73a49">log</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;readyState:&#x27;</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">readyState</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">addEventListener</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;DOMContentLoaded&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">log</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;DOMContentLoaded&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  window</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function-variable function" style="color:#d73a49">onload</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">log</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;window onload&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">iframe</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">iframe.html</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag special-attr attr-name" style="color:#00a4db">onload</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag special-attr attr-value value javascript language-javascript function" style="color:#d73a49">log</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">(</span><span class="token tag special-attr attr-value value javascript language-javascript string" style="color:#e3116c">&#x27;iframe onload&#x27;</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">)</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">iframe</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">![img](http://en.js.cx/clipart/train.gif&quot; id=&quot;img&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  img</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function-variable function" style="color:#d73a49">onload</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">log</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;img onload&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>此示例运行 <a href="https://plnkr.co/edit/ct5SNvrHCA75b2KZ?p=preview" target="_blank" rel="noopener noreferrer">在 sandbox 中</a>。</p><p>典型输出：</p><ol><li>[1]<!-- --> initial readyState:<strong>loading</strong></li><li>[2]<!-- --> readyState:<strong>interactive</strong></li><li>[2]<!-- --> DOMContentLoaded</li><li>[3]<!-- --> iframe onload</li><li>[4]<!-- --> img onload</li><li>[4]<!-- --> readyState:<strong>complete</strong></li><li>[4]<!-- --> window onload    // window.onload 在所有 onload 最后运行</li></ol><p>方括号中的数字表示发生这种情况的大致时间。标有相同数字的事件几乎是同时发生的（± 几毫秒）。</p><ul><li>在 <code>DOMContentLoaded</code> 之前，<code>document.readyState</code> 会立即变成 <code>interactive</code>。<ul><li>它们俩的意义实际上是相同的。</li></ul></li><li>当所有资源（<code>iframe</code> 和 <code>img</code>）都加载完成后，<code>document.readyState</code> 变成 <code>complete</code>。<ul><li>这里可以发现，它与 <code>img.onload</code>（<code>img</code> 是最后一个资源）和 <code>window.onload</code> 几乎同时发生。转换到 <code>complete</code> 状态的意义与 <code>window.onload</code> 相同。<strong>区别在于 <code>window.onload</code> 始终在所有其他 <code>load</code> 处理程序之后运行。</strong></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="517-总结">5.1.7 总结<a class="hash-link" href="#517-总结" title="标题的直接链接">​</a></h3><p>页面生命周期事件：</p><ul><li>当 DOM 准备就绪时，<code>document</code> 上的 <code>DOMContentLoaded</code> 事件就会被触发。<ul><li>在这个阶段，我们可以将 JavaScript 应用于元素。</li><li>诸如 <code>&lt;script&gt;...&lt;/script&gt;</code> 或 <code>&lt;script src=&quot;...&quot;&gt;&lt;/script&gt;</code> 之类的脚本会阻塞。 </li><li>图片和其他资源仍然可以继续被加载。</li></ul></li><li>当页面和所有资源都加载完成时，<code>window</code> 上的 <code>load</code> 事件就会被触发。<ul><li>很少使用，因为通常无需等待那么长时间。</li></ul></li><li>当用户想要离开页面时，<code>window</code> 上的 <code>beforeunload</code> 事件就会被触发。<ul><li>如果取消这个事件（<code>return false</code>），浏览器就会询问我们是否真的要离开。</li></ul></li><li>当用户最终离开时，<code>window</code> 上的 <code>unload</code> 事件就会被触发。<ul><li>在处理程序中，只能执行不涉及延迟或询问用户的简单操作。正是由于这个限制，很少被使用。</li><li>通常使用 <code>navigator.sendBeacon</code> 来发送网络请求。</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="52-加载脚本---defer--async---动态">5.2 加载脚本 - defer / async  / 动态<a class="hash-link" href="#52-加载脚本---defer--async---动态" title="标题的直接链接">​</a></h2><p>上文提到过，当浏览器加载 HTML，构建 DOM 的时候，遇到  <code>&lt;script&gt;...&lt;/script&gt; </code> 标签，浏览器就需要暂停 DOM 构建，而优先处理脚本中的 JavaScript 代码，</p><p>这样会造成两个问题：</p><ul><li>脚本在运行时，无法访问位于它们下方的 DOM 元素，也无法对这些元素进行操作（设置监听、修改内容等）</li><li>如果 HTML 文档中间，有一个量很大的脚本，就会发生严重的 “页面阻塞”，脚本在没有下载、解析完之前， DOM 无法构建完毕，用户无法看到文档内容。</li></ul><p>解决方案：</p><ul><li>一个常规性的动作，就是把脚本放置在页面的底部，<code>&lt;/body&gt;</code> 的上边，这样它可以顺利的访问所有 DOM 元素，切不会影响 DOM 构建。</li><li>利用两个 <code>&lt;script&gt;</code> 特性（attribute）也可以解决这个问题：<code>defer</code> 和 <code>async</code>。 </li><li>最后，利用动态方式加载脚本，也是方案之一。</li></ul><p>把总结放在开头：</p><p><code>async</code> 和 <code>defer</code> 有一个共同点：加载这样的脚本都不会阻塞页面的渲染。</p><p>不同点是：</p><table><thead><tr><th align="left"></th><th align="left">顺序</th><th align="left"><code>DOMContentLoaded</code></th></tr></thead><tbody><tr><td align="left"><code>async</code></td><td align="left"><strong>加载优先顺序</strong>。脚本在文档中的顺序不重要 —— 先加载完成的先执行</td><td align="left">不相关。可能在文档加载完成前加载并执行完毕。如果脚本很小或者来自于缓存，同时文档足够长，就会发生这种情况。</td></tr><tr><td align="left"><code>defer</code></td><td align="left"><strong>文档顺序</strong>（它们在文档中的顺序）</td><td align="left">在文档加载和解析完成之后（如果需要，则会等待），即在 <code>DOMContentLoaded</code> 之前执行。</td></tr></tbody></table><p>在实际开发中，</p><ul><li><code>defer</code> 用于需要查看完整 DOM 的脚本，或需要严格脚本执行顺序的时候。</li><li><code>async</code> 用于独立脚本，例如计数器或广告，这些脚本的相对执行顺序无关紧要。</li></ul><p>注意：</p><p>没有脚本的页面应该先给用户一定的提示，例如 “正在加载” 的提示。同时禁用尚不可用的按钮。
以让用户可以清楚地看到，他现在可以在页面上做什么、还有什么是正在准备中的。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="521-defer">5.2.1 defer<a class="hash-link" href="#521-defer" title="标题的直接链接">​</a></h3><p><code>defer</code>  -- <strong>推迟</strong>。</p><p><code>&lt;script defer src=&quot;https://xxxxx&quot;&gt; &lt;/script&gt;</code></p><p>特性告诉浏览器遇到脚本不会等待，而是继续处理后面的 HTML 结构，构建 DOM。脚本会异步（后台） 下载，等 DOM 构建完成后，脚本才会执行。</p><p>具有 <code>defer</code> 特性的脚本：</p><ul><li>不会阻塞页面。</li><li>DOM 解析完毕后、 <code>DOMContentLoaded</code> 事件之前执行。</li><li>依次执行。多个 <code>defer</code> 脚本，保持相对顺序，就像常规脚本一样(按正常的次序，依次执行)。<ul><li>如果遇到了两个脚本，按 HTML 中的次序依次是：<code>large.js</code> 和 <code>small.js</code>。当浏览器依次扫描到这两个脚本时，把它们丢到异步下载。或许排在后面的 <code>small.js</code> 先下载完成，但是也会等待 <code>large.js</code> 下载完毕并且执行后，才会执行。</li></ul></li><li>仅用于外部脚本。如果 <code>&lt;script&gt;</code> 脚本没有 <code>src</code>，则会忽略 <code>defer</code> 特性。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="522-async">5.2.2 async<a class="hash-link" href="#522-async" title="标题的直接链接">​</a></h3><p><code>async</code> -- <strong>异步</strong>。</p><p><code>&lt;script async src=&quot;https://xxxxx&quot;&gt; &lt;/script&gt;</code></p><p><code>async</code> 特性与 <code>defer</code> 相同的时，它也能够让脚本不阻塞页面。</p><p>不同的是，<code>async</code> 特性意味着脚本是完全独立的，和其他脚本、HTML 文档流是异步关系。</p><p>具有 <code>async</code> 特性的脚本：</p><ul><li>不会阻塞页面。</li><li>一旦异步下载完毕，立即执行。这意味着：<ul><li>先来先执行。多个 <code>async</code> 脚本之间没有执行顺序，先下载完成先执行。</li><li>DOM 构建和脚本异步。一旦 DOM 构建完毕，就会触发  <code>DOMContentLoaded</code> 事件，不会等待脚本。<ul><li><code>DOMContentLoaded</code> 可能发生在异步脚本之前（如果异步脚本在页面完成后才加载完成）</li><li><code>DOMContentLoaded</code> 可能发生在异步脚本之后（如果异步脚本很短，或者是从 HTTP 缓存中加载的）</li></ul></li></ul></li></ul><p>应用：当我们将独立的第三方脚本集成到页面时，采用异步加载方式是非常棒的：计数器，广告等，因为它们不依赖于我们的脚本，我们的脚本也不应该等待它们。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="523-动态加载">5.2.3 动态加载<a class="hash-link" href="#523-动态加载" title="标题的直接链接">​</a></h3><p>使用 JavaScript 动态地创建一个脚本，并将其附加（append）到文档（document）中：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> script </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;script&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">script</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">src </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/article/script-async-defer/long.js&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">script</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 添加脚本</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>默认情况下，动态脚本的行为是 <strong>“异步”</strong> 的，采用 <code>async</code> 方式加载，也就是说：</p><ul><li>不会等待其他结构，执行到该代码，就会丢到异步去加载。</li><li>先来先执行。先加载完成的脚本先执行。</li></ul><p>可以调整为 <code>defer</code> 方式加载动态脚本，通过显式地设置 <code>script.async=false</code>，此时：</p><ul><li>脚本将按照在文档中的顺序执行。</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">loadScript</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">src</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> script </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;script&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  script</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">src </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> src</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  script</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">async </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// 采用 defer 执行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">script</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">loadScript</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;long.js&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// long.js 先执行，因为代码中设置了 async=false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">loadScript</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;small.js&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="53-资源加载---onload--onerror">5.3 资源加载 - onload / onerror<a class="hash-link" href="#53-资源加载---onload--onerror" title="标题的直接链接">​</a></h2><p>浏览器允许我们跟踪外部资源的加载 —— 脚本，iframe，图片等。基本上适用于具有 <code>src</code> 特性的所有资源，有两个事件：</p><ul><li><code>onload</code> ：成功加载；</li><li><code>onerror</code> ：出现错误。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="531-onload--onerror">5.3.1 onload / onerror<a class="hash-link" href="#531-onload--onerror" title="标题的直接链接">​</a></h3><p>上文提到过，可以利用创建一个 <code>&lt;script&gt;</code> 标签，然后添加到 HTML 结构中，来动态的加载脚本。</p><p>但需要注意的是，只有当该脚本成功的下载、加载完成，才可以在其他脚本中使用该脚本创建的函数。</p><p><code>script.onload</code> 事件，会在脚本加载、并执行完成时触发。</p><p><code>script.onerror</code> 事件，会在脚本加载期间出现 error 时触发。</p><ul><li>比如请求一个不存在的脚本，加载 404 都会发生加载错误。</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> script </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;script&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">script</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">src </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my.js&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">script</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// 动态加载脚本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">script</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function-variable function" style="color:#d73a49">onload</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;脚本加载成功&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">script</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function-variable function" style="color:#d73a49">onerror</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;脚本加载出现错误&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>onload</code> / <code>onerror</code> 事件仅跟踪加载本身，即只监听当前资源是否出现加载错误。</li><li><code>window.onerror</code> 全局监听，可以监听脚本中，是否出现编程错误。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="532-跨源策略">5.3.2 跨源策略<a class="hash-link" href="#532-跨源策略" title="标题的直接链接">​</a></h3><p>更多跨源问题，会在 fetch 中讲解，这里主要是为了解释脚本 error 报错追踪的问题。</p><p>一条规则：来自一个网站的脚本无法访问其他网站的内容。</p><ul><li>例如，<code>https://facebook.com</code> 的脚本无法读取位于 <code>https://gmail.com</code> 的用户邮箱。</li></ul><p>更确切地说，一个源（域 / 端口 / 协议）无法获取另一个源（origin）的内容。因此，即使我们有一个子域，或另一个端口，这都是不同的源，彼此无法相互访问。</p><ul><li>所以，如果网页使用的是来自其他域的脚本，并且该脚本中存在 error，那么网页就无法获取 error 的详细信息。</li></ul><p>为什么我们需要 error 的详细信息？</p><ul><li>有很多服务使用 <code>window.onerror</code> 监听全局 error，同时保存 error 信息，并提供访问和分析 error 的接口。这样程序员就可以看到由用户触发的实际中的 error。但是，如果一个脚本来自于另一个源（origin），就无法准确获取更多的 error 的信息。</li></ul><p>解决方案：</p><ul><li>CORS： 一个W3C标准，全程跨域资源共享 (Cross-Origin Resource Sharing)。</li></ul><p>要允许跨源访问，<code>&lt;script&gt;</code> 标签需要具有 <code>crossorigin</code> 特性（attribute），并且远程服务器必须提供特殊的 header。</p><p>这里有三个级别的跨源访问，具体内容参考 fetch 章节。</p><h1>6 杂项</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="61-mutationobserver">6.1 MutationObserver<a class="hash-link" href="#61-mutationobserver" title="标题的直接链接">​</a></h2><p><code>MutationObserver</code> 是 DOM 变动观察器，一个内建对象，它可以随时监听 DOM 元素，并在检测到更改时触发回调。</p><ol><li><p>创建一个带有回调函数的观察器：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> observer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">MutationObserver</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">callback</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>然后将其附加到一个 DOM 节点：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">elem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">observe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">node</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ol><ul><li><code>config</code> 是一个具有布尔选项的对象，该布尔选项表示“将对哪些更改做出反应”：<ul><li><code>childList</code> ：监听 <code>node</code> 的直接子节点的更改；</li><li><code>subtree</code> ：监听 <code>node</code> 的所有后代的更改；</li><li><code>attributes</code> ：监听 <code>node</code> 的特性（attribute）；</li><li><code>attributeFilter</code> ：特性名称数组，只监听选定的特性；</li><li><code>characterData</code> ：是否监听 <code>node.data</code>（文本内容）；</li><li><code>attributeOldValue</code> ：如果为 <code>true</code>，则将特性的旧值和新值都传递给回调，否则只传新值（需要 <code>attributes</code> ）。</li><li><code>characterDataOldValue</code> ：如果为 <code>true</code>，则将 <code>node.data</code> 的旧、新值都传递给回调，否则只传新值（需要 <code>characterData</code> </li></ul></li></ul><ol start="3"><li>在发生任何更改后，将执行“回调”：<ul><li>记录的内容，包装为一个  <a href="https://dom.spec.whatwg.org/#mutationrecord" target="_blank" rel="noopener noreferrer">MutationRecord</a> 对象列表传入第一个参数，而观察器自身作为第二个参数。</li><li>MutationRecord 对象具有以下属性：<ul><li>type ：变动类型，以下类型之一：<ul><li><code>&quot;attributes&quot;</code>：特性被修改了；</li><li><code>&quot;characterData&quot;</code>：数据被修改了，用于文本节点；</li><li><code>&quot;childList&quot;</code>：添加/删除了子元素。</li></ul></li><li><code>target</code>：更改发生在何处：<ul><li><code>&quot;attributes&quot;</code> 所在的元素，</li><li><code>&quot;characterData&quot;</code> 所在的文本节点，</li><li><code>&quot;childList&quot;</code> 变动所在的元素，</li></ul></li><li><code>addedNodes/removedNodes</code> ：添加/删除的节点，</li><li><code>previousSibling/nextSibling</code> ：添加/删除的节点的上一个/下一个兄弟节点，</li><li><code>attributeName/attributeNamespace</code> ：被更改的特性的名称/命名空间（用于 XML），</li><li><code>oldValue</code> ：旧值，仅适用于特性或文本更改，如果设置了相应选项 <code>attributeOldValue</code>/<code>characterDataOldValue</code>。</li></ul></li></ul></li></ol><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> observer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">MutationObserver</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">mutationRecords</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mutationRecords</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 发生变化，就会打印。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 观察除了特性之外的所有变动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">observer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">observe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">elem</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">childList</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// 监听直接子节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">subtree</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// 监听其更低的后代节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">characterDataOldValue</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// 将旧的数据传递给回调</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>其他方法：</strong></p><p><code>observer.disconnect()</code> ：停止观察。</p><p><code>observer.takeRecords()</code> ：获取尚未处理的变动记录列表，表中记录的是已经发生，但回调暂未处理的变动。</p><ul><li>当我们停止观察时，观察器可能尚未处理某些更改，使用该方法可以获取这些信息。</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 如果你关心可能未处理的近期的变动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 那么，应该在 disconnect 前调用获取未处理的变动列表</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> mutationRecords </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> observer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">takeRecords</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 停止跟踪变动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">observer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">disconnect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">...</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="611-应用方法">6.1.1 应用方法：<a class="hash-link" href="#611-应用方法" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="1-用于集成">.1 用于集成<a class="hash-link" href="#1-用于集成" title="标题的直接链接">​</a></h4><ol><li><p>如果要在网页中添加一个第三方脚本，该脚本可能会执行一些负面操作，例如显示广告 <code>&lt;div class=&quot;ads&quot;&gt;ads&lt;/div&gt;</code>。我们可以使用 <code>MutationObserver</code>，监测到我们不需要的元素何时出现在我们的 DOM 中，并将其删除。</p></li><li><p>还有一些其他情况，例如第三方脚本会将某些内容添加到我们的文档中，并且我们希望检测出这种情况何时发生，以调整页面，动态调整某些内容的大小等。<code>MutationObserver</code> 使我们能够实现这种需求。</p></li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="2-用于架构">.2 用于架构<a class="hash-link" href="#2-用于架构" title="标题的直接链接">​</a></h4><p>假设我们正在建立一个有关编程的网站。自然地，文章中可能包含一些源代码段，我们通常会对源代码段进行一定的美化工作。如果文章是我们直接加载好的，那很简单，直接利用 JavaScript 脚本对源代码内容进行修改即可。</p><p>但有可能是动态加载的文章，此时可以用 <code>MutationObserver</code> 监测何时在页面中插入了新的代码段，然后运行相应的美化代码。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="62-selection--range">6.2 Selection / Range<a class="hash-link" href="#62-selection--range" title="标题的直接链接">​</a></h2><p>这里将介绍文档中的<strong>选择</strong>，以及在表单字段（如 <code>&lt;input&gt;</code>）中的<strong>选择</strong>。</p><p>JavaScript 可以获取现有选择，也可以 选择 / 取消全部 或 部分选择，从文档中删除所选部分，将其包装到一个标签（tag）中，等等操作。</p><p>总体来说，根据要选择的内容，可划分为以下两种选择方式：</p><ol><li>对于文档：<code>Selection</code> 和 <code>Range</code> 对象。</li><li>对于 <code>input</code>，<code>textarea</code>：其他方法和属性。</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="621-范围-range">6.2.1 范围 Range<a class="hash-link" href="#621-范围-range" title="标题的直接链接">​</a></h3><p>选择的基本概念是 <a href="https://dom.spec.whatwg.org/#ranges" target="_blank" rel="noopener noreferrer">Range</a>：本质上是一对“边界点”：范围起点和范围终点。</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> range </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>利用相对于起点（父节点）的相对偏移（offset）值，确定每个点的位置：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">range</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setStart</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parentNode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> offset</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// 包括 offset</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">range</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setEnd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parentNode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> offset</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// 不包括 offset</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li>我们不必在 <code>setStart</code> 和 <code>setEnd</code> 中使用相同的 node 节点。一个范围可能跨越许多不相关的节点。唯一要注意的是终点要在起点之后。</li></ul><p>举例1：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">p</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Example: </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">i</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">italic</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">i</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> and </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">b</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">bold</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">b</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p> <img loading="lazy" alt="image-20210706105421537" src="data:image/png;base64,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" width="392" height="225" class="img_E7b_"></p><ol><li>选择 <code>&quot;Example: &lt;i&gt;italic&lt;/i&gt;&quot;</code>。它是 <code>&lt;p&gt;</code> 的前两个子节点（文本节点也算在内）：</li></ol><p><img loading="lazy" alt="image-20210706105458968" src="data:image/png;base64,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" width="495" height="65" class="img_E7b_"></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> range </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">range</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setStart</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// 设置起点，从下标 0 开始</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">range</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setEnd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// 设置终点，到下标 2 截止，不包括 2.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">range</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Example: italic  ,range的 toString形式直接输出文本内容。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getSelection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addRange</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">range</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>举例2，范围跨越不同的 node 节点：</p><p><img loading="lazy" alt="image-20210706134329671" src="data:image/png;base64,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" width="496" height="69" class="img_E7b_"></p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">p</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Example: </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">i</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">italic</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">i</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> and </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">b</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">bold</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">b</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">let</span><span class="token script language-javascript"> range </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name">Range</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  range</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">setStart</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">p</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">firstChild</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript number" style="color:#36acaa">2</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  range</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">setEnd</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">p</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">querySelector</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;b&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">firstChild</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript number" style="color:#36acaa">3</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">range</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"> </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// ample: italic and bol</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  window</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">getSelection</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">addRange</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">range</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"> </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 将范围应用于文档选择</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="6211-range-的属性">6.2.1.1 <code>range</code> 的属性<a class="hash-link" href="#6211-range-的属性" title="标题的直接链接">​</a></h4><p> <img loading="lazy" alt="image-20210706134550343" src="/assets/images/image-20210706134550343-69b3b95720ff5ee66042baeb64e3c285.png" width="563" height="145" class="img_E7b_"></p><ul><li><code>startContainer</code>，<code>startOffset</code>：起始节点和偏移量，<ul><li>在上例中：分别是 <code>&lt;p&gt;</code> 中的第一个文本节点和 <code>2</code>。</li></ul></li><li><code>endContainer</code>，<code>endOffset</code>：结束节点和偏移量，<ul><li>在上例中：分别是 <code>&lt;b&gt;</code> 中的第一个文本节点和 <code>3</code>。</li></ul></li><li><code>collapsed</code>：布尔值。如果范围在同一点上开始和结束（ range 内没有内容）则为<code>true</code>，<ul><li>在上例中：<code>false</code></li></ul></li><li><code>commonAncestorContainer</code>：在范围内的所有节点中最近的共同祖先节点。<ul><li>在上例中：<code>&lt;p&gt;</code></li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="6212-range-的方法">6.2.1.2 <code>range</code> 的方法<a class="hash-link" href="#6212-range-的方法" title="标题的直接链接">​</a></h4><p>设置范围的起点：</p><ul><li><code>setStart(node, offset)</code> 将起点设置在：<code>node</code> 中的位置 <code>offset</code></li><li><code>setStartBefore(node)</code> 将起点设置在：<code>node</code> 前面</li><li><code>setStartAfter(node)</code> 将起点设置在：<code>node</code> 后面</li></ul><p>设置范围的终点：</p><ul><li><code>setEnd(node, offset)</code> 将终点设置为：<code>node</code> 中的位置 <code>offset</code></li><li><code>setEndBefore(node)</code> 将终点设置为：<code>node</code> 前面</li><li><code>setEndAfter(node)</code> 将终点设置为：<code>node</code> 后面</li></ul><p><code>node</code> 既可以是文本节点，也可以是元素节点：</p><ul><li>对于文本节点，<code>offset</code> 偏移的是字符数，</li><li>对于元素节点，<code>offset</code> 偏移是子节点数。</li></ul><p>其他：</p><ul><li><code>selectNode(node)</code> ：设置一个选择整个 <code>node</code>的 range</li><li><code>selectNodeContents(node)</code> ：设置一个选择整个 <code>node</code> 内容的 range。</li><li><code>collapse(toStart)</code> ：折叠 range。如果 <code>toStart=true</code> 则设置 end=start，否则设置 start=end。</li><li><code>cloneRange()</code> 创建一个具有相同起点/终点的新 range。</li></ul><p>如要操纵范围内的内容：</p><ul><li><code>deleteContents()</code>：从文档中删除范围内容。</li><li><code>extractContents()</code>：从文档中删除范围内容，并将删除的内容作为 <a href="https://zh.javascript.info/modifying-document#document-fragment" target="_blank" rel="noopener noreferrer">DocumentFragment</a> 返回。</li><li><code>cloneContents()</code>：复制范围内容，并将复制的内容作为 <a href="https://zh.javascript.info/modifying-document#document-fragment" target="_blank" rel="noopener noreferrer">DocumentFragment</a> 返回。</li><li><code>insertNode(node)</code>：在范围的起始处将 <code>node</code> 插入文档。</li><li><code>surroundContents(node)</code> ：使用 <code>node</code> 将所选范围内容包裹起来。<ul><li>要使此操作有效，则该范围必须包含其中所有元素的开始和结束标签：不能像 <code>&lt;i&gt;abc</code> 这样的部分范围。</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="622-选择-selection">6.2.2 选择 selection<a class="hash-link" href="#622-选择-selection" title="标题的直接链接">​</a></h3><p><code>Range</code> 是用于管理选择范围的对象。文档选择就是由 <code>Selection</code> 对象表示的，</p><ul><li><code>window.getSelection()</code>  或 <code>document.getSelection()</code> 来获取对象中的文档选择。</li></ul><p>用户有许多种选择内容的方式。可能是用鼠标、热键、手机上的点击+拖动等等。</p><p>一个  selection 可以包括零个或多个 range 。实际上，只有 Firefox 允许用户使用 Ctrl+click (Mac 上用 Cmd+click) 在文档中选择多个范围。其他浏览器最多支持 1 个范围。</p><ul><li>某些 <code>Selection</code> 方法暗示可能有多个范围，但是在除 Firefox 之外的所有浏览器中，范围最多是 1。</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="6221-selection-的属性">6.2.2.1 <code>selection</code> 的属性<a class="hash-link" href="#6221-selection-的属性" title="标题的直接链接">​</a></h4><p>与范围相似，选择的起点称为“锚点（anchor）”，终点称为“焦点（focus）”。</p><p>主要的选择属性有：</p><ul><li><code>anchorNode</code>：起始节点，</li><li><code>anchorOffset</code> ：相对于起始节点  <code>anchorNode</code> 的偏移量，</li><li><code>focusNode</code> ：结束节点，</li><li><code>focusOffset</code> ：相对于结束节点 <code>focusNode</code> 的偏移量，</li><li><code>isCollapsed</code> ：是否为空。如果未选择任何内容（空范围）或不存在，则为 <code>true</code> 。</li><li><code>rangeCount</code> ：保存该 selection 对象中的范围数。除 Firefox 外，其他浏览器最多为 <code>1</code>。</li></ul><p><strong>在文档中，<code>selection</code>的终点可能在起点之前，而 <code>Range</code> 的起点必须在开头。</strong></p><ul><li><p>例如鼠标，允许从两个方向创建相同的选择：“从左到右”和“从右到左”。</p></li><li><p>“===&gt;”  forward。选择的起点（anchor）在终点（focus）之前，则称此选择具有 “forward” 方向。</p></li><li><p>“===&gt;” backward。相反，终点在前面，在成为 backward 方向。</p><p> <img loading="lazy" alt="image-20210706140830253" src="data:image/png;base64,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" width="516" height="100" class="img_E7b_"></p><p>上图为 forward 方向，下图为 backward 方向。</p><p> <img loading="lazy" alt="image-20210706140908304" src="data:image/png;base64,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" width="504" height="94" class="img_E7b_"></p></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="6322--selection-的事件">6.3.2.2  <code>selection</code> 的事件<a class="hash-link" href="#6322--selection-的事件" title="标题的直接链接">​</a></h4><p>可以追踪发生 selection 的事件：</p><ul><li><code>elem.onselectstart</code> ：当用户从 <code>elem</code> 上开始选择时，触发该事件。<ul><li>例如，用户在 elem 元素上，按下鼠标键并开始移动鼠标。</li><li>阻止默认行为会使选择无法开始。</li></ul></li><li><code>document.onselectionchange</code>：当选择的区域发生变动时（重新选择、刚开始选择），触发该事件。<ul><li>注：此处理程序只能在 <code>document</code> 上设置。</li><li>事实上，第二个事件的第一次触发，就相当于第一个事件被触发。</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="6323--selection-的方法">6.3.2.3  <code>selection</code> 的方法<a class="hash-link" href="#6323--selection-的方法" title="标题的直接链接">​</a></h4><p>添加/移除范围的选择方法：</p><ul><li><code>getRangeAt(i)</code> ：获取从 <code>0</code> 开始到第 i 个的全部 range 。<ul><li>在除 Firefox 之外的所有浏览器中，仅使用 <code>0</code>。</li></ul></li><li><code>addRange(range)</code> ：将 <code>range</code> 添加到 selection 中。<ul><li>如果选择已有关联的范围，则除 Firefox 外的所有浏览器都将忽略该调用。</li></ul></li><li><code>removeRange(range)</code> ：从 selection  中删除 <code>range</code>。</li><li><code>removeAllRanges()</code> ：删除所有 range。</li><li><code>empty()</code> ：<code>removeAllRanges</code> 的别名。</li></ul><p>直接选择范围，而无需使用 <code>Range</code>：</p><ul><li><code>collapse(node, offset)</code> ：用一个新的范围替换选定的范围，从 <code>node</code> 处开始，到偏移 <code>offset</code> 处结束。</li><li><code>setPosition(node, offset)</code> ：<code>collapse</code> 的别名。</li><li><code>collapseToStart()</code> ：折叠（替换为空范围）到选择起点，</li><li><code>collapseToEnd()</code> ：折叠到选择终点，</li><li><code>extend(node, offset)</code> ：将选择的焦点（focus）移到给定的 <code>node</code>，位置偏移 <code>oofset</code>，</li><li><code>setBaseAndExtent(anchorNode, anchorOffset, focusNode, focusOffset)</code> ：用给定的起点 <code>anchorNode/anchorOffset</code> 和终点 <code>focusNode/focusOffset</code> 来替换选择范围。选中它们之间的所有内容。</li><li><code>selectAllChildren(node)</code> ：选择 <code>node</code> 的所有子节点。</li><li><code>deleteFromDocument()</code> ：从文档中删除所选择的内容。</li><li><code>containsNode(node, allowPartialContainment = false)</code> ：检查选择中是否包含 <code>node</code>（特别是如果第二个参数是 <code>true</code> 的话）</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="633-表单控件中的选择">6.3.3 表单控件中的选择<a class="hash-link" href="#633-表单控件中的选择" title="标题的直接链接">​</a></h3><p>诸如 <code>input</code> 和 <code>textarea</code> 等表单元素提供了 <a href="https://html.spec.whatwg.org/#textFieldSelection" target="_blank" rel="noopener noreferrer">专用的选择 API</a>，没有 <code>Selection</code> 或 <code>Range</code> 对象。</p><p>由于输入值是纯文本而不是 HTML，因此也不需要此类对象，直接利用属性和方法即可：</p><p>属性：</p><ul><li><code>input.selectionStart</code> ：选择的起始位置（可修改），</li><li><code>input.selectionEnd</code> ：选择的结束位置（可修改），</li><li><code>input.selectionDirection</code> ：选择方向：“forward”，“backward” 或 “none”。<ul><li>例如使用鼠标双击进行的选择时，要朝哪个方向。</li></ul></li></ul><p>事件：</p><ul><li><code>input.onselect</code> ：当发生选择时，触发该事件。</li></ul><p>方法：</p><ul><li><p><code>input.select()</code> ：选择文本控件中的所有内容，</p></li><li><p><code>input.setSelectionRange(start, end, [direction])</code> ：在给定方向上（可选），从 <code>start</code> 一直选择到 <code>end</code>。</p></li><li><p><code>input.setRangeText(replacement, [start], [end], [selectionMode])</code> ：用新文本替换范围中的文本。</p><p>可选参数 <code>start</code> 和 <code>end</code>，如果提供的话，则设置范围的起点和终点，否则使用用户的选择。</p><p>最后一个参数 <code>selectionMode</code> 决定替换文本后如何设置选择。可能的值为：</p><ul><li><code>&quot;select&quot;</code> ：将选择新插入的文本。</li><li><code>&quot;start&quot;</code> ：选择范围将在插入的文本之前折叠（光标将在其之前）。</li><li><code>&quot;end&quot;</code> ：选择范围将在插入的文本之后折叠（光标将紧随其后）。</li><li><code>&quot;preserve&quot;</code> ：尝试保留选择。这是默认值。</li></ul></li></ul><p>有许多实例，在 <a href="https://zh.javascript.info/selection-range#shi-li-gen-zong-xuan-ze" target="_blank" rel="noopener noreferrer">示例：跟踪选择</a> 。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="634-使不可选择">6.3.4 使不可选择<a class="hash-link" href="#634-使不可选择" title="标题的直接链接">​</a></h3><p>要使某些内容不可选，有三种方式：</p><ol><li>使用 CSS 属性阻止元素的可被选择： <code>user-select: none</code>。<ul><li>这样不允许选择从 <code>elem</code> 开始。但用户可以在其他地方开始选择，并可以把  <code>elem</code> 包含在内。</li><li>然后 <code>elem</code> 将成为 <code>document.getSelection()</code> 的一部分，因此选择实际发生了，但是在复制粘贴中，其内容通常会被忽略。</li></ul></li><li>阻止 <code>onselectstart</code> 或 <code>mousedown</code> 事件中的默认行为。<ul><li><code> elem.onselectstart = ()=&gt;false</code> 和上面一样，用户也可通过从其他元素开始选择，而扩展到这里。</li></ul></li><li>使用 <code>document.getSelection().empty()</code> 来在选择发生后清除选择。<ul><li>很少使用这种方法，因为这会在选择项消失时导致不必要的闪烁。</li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="63-事件循环微任务宏任务">6.3 事件循环：微任务、宏任务<a class="hash-link" href="#63-事件循环微任务宏任务" title="标题的直接链接">​</a></h2><p>宏任务：</p><ol><li>引擎执行任务时（完成一次整体循环），永远不会进行渲染（render）。即使任务事件非常长，也只在完成后才绘制对 DOM 的更改。</li><li>如果一项任务执行花费的时间过长，浏览器将无法执行其他任务，例如处理用户事件。
因此，在一定时间后，浏览器会抛出一个如“页面未响应”之类的警报，建议任务。</li></ol><p>微任务：</p><ol><li>微任务仅来自于我们的代码。它们通常是由 promise 创建的：
对 <code>.then/catch/finally</code> 处理程序的执行会成为微任务。微任务也被用于 <code>await</code> 的“幕后”，因为它是 promise 处理的另一种形式。</li></ol><p>还有一个特殊的函数 <code>queueMicrotask(func)</code>，它对 <code>func</code> 进行排队，以在微任务队列中执行。</p><ul><li>宏任务 --&gt; 微任务 --&gt; 渲染 --&gt; 宏任务 ...。它确保了在同一个宏任务后的多个微任务，应用程序环境基本相同（没有鼠标坐标更改，没有新的网络数据等）。</li></ul><p>事件循环算法（这是 <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop-processing-model" target="_blank" rel="noopener noreferrer">规范</a> 的简化版本）：</p><ol><li>任务从 <strong>宏任务</strong> 队列（例如 “script”）中出队（dequeue）并执行最早的任务。</li><li>执行所有 <strong>微任务</strong> ，依次出队后，执行。</li><li>执行 <strong>渲染</strong>，如果有的话。</li><li>如果宏任务队列为空，则休眠直到出现宏任务。<ul><li>否则，转到步骤 1。</li></ul></li></ol><p>添加一个新的 <strong>宏任务</strong>：</p><ol><li>使用零延迟的 <code>setTimeout(f)</code>。<ul><li>用于将繁重的计算任务拆分成多个部分，以使浏览器能够对用户事件及时作出反应、或在任务的各部分之间显示任务进度。</li></ul></li><li>也用于在事件处理程序中，将一个行为（action）添加在事件被完全处理（冒泡完成）后。</li></ol><p>添加一个新的 <strong>微任务</strong>：</p><ol><li>promise 的相关方法 <code>.then/catch/finally</code>，以及衍生方法 <code>generator/async/await</code>。</li><li>使用 <code>queueMicrotask(f)</code>。<ul><li>微任务之间，没有 UI 或网络事件的处理：它们一个接一个地立即执行。</li><li>所以常用 <code>queueMicrotask</code> 来在保持 <strong>环境状态一致</strong> 的情况下，<strong>异步</strong> 地执行一个函数。</li></ul></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>标签：</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/docs/tags/dom、bom">DOM、BOM</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/frontEnd/JavaScript/DOM&amp;BOM/1 Document &amp; 事件"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Document、事件</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/frontEnd/JavaScript/DOM&amp;BOM/3 弹窗、网络请求、存储"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Frame、Window、网络请求、存储</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#31-鼠标事件" class="table-of-contents__link toc-highlight">3.1 鼠标事件</a><ul><li><a href="#311-常见鼠标事件" class="table-of-contents__link toc-highlight">3.1.1 常见鼠标事件</a></li><li><a href="#312-事件顺序" class="table-of-contents__link toc-highlight">3.1.2 事件顺序</a></li><li><a href="#313-事件属性---鼠标按钮" class="table-of-contents__link toc-highlight">3.1.3 事件属性 - 鼠标按钮</a></li><li><a href="#314-事件属性---组合键" class="table-of-contents__link toc-highlight">3.1.4 事件属性 - 组合键</a></li><li><a href="#315-事件属性---坐标" class="table-of-contents__link toc-highlight">3.1.5 事件属性 - 坐标</a></li><li><a href="#316-干扰" class="table-of-contents__link toc-highlight">3.1.6 干扰</a><ul><li><a href="#3161-防止复制" class="table-of-contents__link toc-highlight">3.1.6.1 防止复制</a></li></ul></li></ul></li><li><a href="#32-移动鼠标" class="table-of-contents__link toc-highlight">3.2 移动鼠标</a><ul><li><a href="#321-事件属性---eventrelatedtarget" class="table-of-contents__link toc-highlight">3.2.1 事件属性 - event.relatedTarget</a></li><li><a href="#323-元素的跳过" class="table-of-contents__link toc-highlight">3.2.3 元素的跳过</a></li><li><a href="#324-mouseover-的细节" class="table-of-contents__link toc-highlight">3.2.4 mouseover 的细节</a><ul><li><a href="#3241-父元素--子元素" class="table-of-contents__link toc-highlight">3.2.4.1 父元素 ==&gt; 子元素</a></li><li><a href="#3242-子元素--父元素" class="table-of-contents__link toc-highlight">3.2.4.2 子元素 ==&gt; 父元素</a></li></ul></li><li><a href="#325-mouseenter-和-mouseleave" class="table-of-contents__link toc-highlight">3.2.5 <code>mouseenter</code> 和 <code>mouseleave</code></a></li><li><a href="#326-事件委托" class="table-of-contents__link toc-highlight">3.2.6 事件委托</a></li></ul></li><li><a href="#33-拖放鼠标" class="table-of-contents__link toc-highlight">3.3 拖放鼠标</a><ul><li><a href="#331-算法" class="table-of-contents__link toc-highlight">3.3.1 算法</a></li></ul></li><li><a href="#34-指针事件" class="table-of-contents__link toc-highlight">3.4 指针事件</a><ul><li><a href="#341-历史" class="table-of-contents__link toc-highlight">3.4.1 历史</a></li><li><a href="#342-指针事件类型" class="table-of-contents__link toc-highlight">3.4.2 指针事件类型</a></li><li><a href="#343-指针事件属性" class="table-of-contents__link toc-highlight">3.4.3 指针事件属性</a></li><li><a href="#344-多点触控" class="table-of-contents__link toc-highlight">3.4.4 多点触控</a></li><li><a href="#341-指针中断---pointercancel" class="table-of-contents__link toc-highlight">3.4.1 指针中断 - pointercancel</a></li><li><a href="#112-指针捕获---setpointercapture" class="table-of-contents__link toc-highlight">1.1.2 指针捕获 - setPointerCapture()</a></li></ul></li><li><a href="#35-键盘事件" class="table-of-contents__link toc-highlight">3.5 键盘事件</a><ul><li><a href="#351-事件对象" class="table-of-contents__link toc-highlight">3.5.1 事件对象</a></li><li><a href="#352-兼容性问题" class="table-of-contents__link toc-highlight">3.5.2 兼容性问题</a></li><li><a href="#353-自动重复" class="table-of-contents__link toc-highlight">3.5.3 自动重复</a></li><li><a href="#356-浏览器默认行为" class="table-of-contents__link toc-highlight">3.5.6 浏览器默认行为</a></li></ul></li><li><a href="#36-滚动事件" class="table-of-contents__link toc-highlight">3.6 滚动事件</a></li><li><a href="#41-表单" class="table-of-contents__link toc-highlight">4.1 表单</a><ul><li><a href="#411-navigation---导航属性" class="table-of-contents__link toc-highlight">4.1.1 navigation - 导航属性</a></li><li><a href="#412-表单元素" class="table-of-contents__link toc-highlight">4.1.2 表单元素</a><ul><li><a href="#4121-input-和-textarea" class="table-of-contents__link toc-highlight">4.1.2.1 input 和 textarea</a></li><li><a href="#4122-select-和-option" class="table-of-contents__link toc-highlight">4.1.2.2 select 和 option</a></li></ul></li></ul></li><li><a href="#42-聚焦" class="table-of-contents__link toc-highlight">4.2 聚焦</a><ul><li><a href="#421-focus--blur-事件" class="table-of-contents__link toc-highlight">4.2.1 focus / blur 事件</a></li><li><a href="#422-允许在任何元素上聚焦tabindex" class="table-of-contents__link toc-highlight">4.2.2 允许在任何元素上聚焦：tabindex</a></li></ul></li><li><a href="#focusblur-委托" class="table-of-contents__link toc-highlight">focus/blur 委托</a></li><li><a href="#43-数据更新的相关事件" class="table-of-contents__link toc-highlight">4.3 数据更新的相关事件</a><ul><li><a href="#431-change-事件" class="table-of-contents__link toc-highlight">4.3.1 change 事件</a></li><li><a href="#432-input-事件" class="table-of-contents__link toc-highlight">4.3.2 input 事件</a></li><li><a href="#433-cutcopypaste-事件" class="table-of-contents__link toc-highlight">4.3.3 cut，copy，paste 事件</a></li></ul></li><li><a href="#44-表单的提交-submit" class="table-of-contents__link toc-highlight">4.4 表单的提交 submit</a></li><li><a href="#51--页面生命周期" class="table-of-contents__link toc-highlight">5.1  页面生命周期</a><ul><li><a href="#511-domcontentloaded-事件" class="table-of-contents__link toc-highlight">5.1.1 DOMContentLoaded 事件</a><ul><li><a href="#5111-script-脚本的阻塞" class="table-of-contents__link toc-highlight">5.1.1.1 <code>&lt;script&gt;</code> 脚本的阻塞</a></li><li><a href="#5112-浏览器的自动填充" class="table-of-contents__link toc-highlight">5.1.1.2 浏览器的自动填充</a></li></ul></li><li><a href="#512-load-事件" class="table-of-contents__link toc-highlight">5.1.2 load 事件</a></li><li><a href="#513--beforeunload-unload-事件" class="table-of-contents__link toc-highlight">5.1.3  beforeunload 、unload 事件</a><ul><li><a href="#5131--触发的时机" class="table-of-contents__link toc-highlight">5.1.3.1  触发的时机</a></li><li><a href="#5132--触发的顺序" class="table-of-contents__link toc-highlight">5.1.3.2  触发的顺序</a></li><li><a href="#5133-触发时环境" class="table-of-contents__link toc-highlight">5.1.3.3 触发时环境</a></li></ul></li><li><a href="#514-unload-事件" class="table-of-contents__link toc-highlight">5.1.4 unload 事件</a></li><li><a href="#515-beforeunload-事件" class="table-of-contents__link toc-highlight">5.1.5 beforeunload 事件</a></li><li><a href="#516-documentreadystate-属性" class="table-of-contents__link toc-highlight">5.1.6 document.readyState 属性</a></li><li><a href="#517-总结" class="table-of-contents__link toc-highlight">5.1.7 总结</a></li></ul></li><li><a href="#52-加载脚本---defer--async---动态" class="table-of-contents__link toc-highlight">5.2 加载脚本 - defer / async  / 动态</a><ul><li><a href="#521-defer" class="table-of-contents__link toc-highlight">5.2.1 defer</a></li><li><a href="#522-async" class="table-of-contents__link toc-highlight">5.2.2 async</a></li><li><a href="#523-动态加载" class="table-of-contents__link toc-highlight">5.2.3 动态加载</a></li></ul></li><li><a href="#53-资源加载---onload--onerror" class="table-of-contents__link toc-highlight">5.3 资源加载 - onload / onerror</a><ul><li><a href="#531-onload--onerror" class="table-of-contents__link toc-highlight">5.3.1 onload / onerror</a></li><li><a href="#532-跨源策略" class="table-of-contents__link toc-highlight">5.3.2 跨源策略</a></li></ul></li><li><a href="#61-mutationobserver" class="table-of-contents__link toc-highlight">6.1 MutationObserver</a><ul><li><a href="#611-应用方法" class="table-of-contents__link toc-highlight">6.1.1 应用方法：</a><ul><li><a href="#1-用于集成" class="table-of-contents__link toc-highlight">.1 用于集成</a></li><li><a href="#2-用于架构" class="table-of-contents__link toc-highlight">.2 用于架构</a></li></ul></li></ul></li><li><a href="#62-selection--range" class="table-of-contents__link toc-highlight">6.2 Selection / Range</a><ul><li><a href="#621-范围-range" class="table-of-contents__link toc-highlight">6.2.1 范围 Range</a><ul><li><a href="#6211-range-的属性" class="table-of-contents__link toc-highlight">6.2.1.1 <code>range</code> 的属性</a></li><li><a href="#6212-range-的方法" class="table-of-contents__link toc-highlight">6.2.1.2 <code>range</code> 的方法</a></li></ul></li><li><a href="#622-选择-selection" class="table-of-contents__link toc-highlight">6.2.2 选择 selection</a><ul><li><a href="#6221-selection-的属性" class="table-of-contents__link toc-highlight">6.2.2.1 <code>selection</code> 的属性</a></li><li><a href="#6322--selection-的事件" class="table-of-contents__link toc-highlight">6.3.2.2  <code>selection</code> 的事件</a></li><li><a href="#6323--selection-的方法" class="table-of-contents__link toc-highlight">6.3.2.3  <code>selection</code> 的方法</a></li></ul></li><li><a href="#633-表单控件中的选择" class="table-of-contents__link toc-highlight">6.3.3 表单控件中的选择</a></li><li><a href="#634-使不可选择" class="table-of-contents__link toc-highlight">6.3.4 使不可选择</a></li></ul></li><li><a href="#63-事件循环微任务宏任务" class="table-of-contents__link toc-highlight">6.3 事件循环：微任务、宏任务</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">分享</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/frontEnd/JavaScript">前端</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/code/algorithm">算法笔记</a></li><li class="footer__item"><a class="footer__link-item" href="/project">我的项目</a></li></ul></div><div class="col footer__col"><div class="footer__title">社交媒体</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/about">关于我</a></li><li class="footer__item"><a href="https://github.com/moxyNJ" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/user/2005151873514024" target="_blank" rel="noopener noreferrer" class="footer__link-item">掘金<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items"><li class="footer__item"><a href="https://www.ninjee.co" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ninjee 的前端篮子</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p>Copyright © 2022 Ninjee Built with Docusaurus.</p><p><a href="http://beian.miit.gov.cn/">晋ICP备2021017941号-2</a></p></div></div></div></footer></div>
<script src="/assets/js/runtime~main.888661c5.js"></script>
<script src="/assets/js/main.946b6ab0.js"></script>
</body>
</html>