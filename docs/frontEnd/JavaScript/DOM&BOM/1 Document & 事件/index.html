<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-frontEnd/JavaScript/DOM&BOM/1 Document & 事件">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="ninjee RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="ninjee Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="ninjee JSON Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Ninjee的前端篮子" href="/opensearch.xml">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?0930342e569f854bebdeb485c0eac7f8",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<link rel="icon" href="/img/ninjee.jpeg">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)"><title data-rh="true">Document、事件 - Ninjee的前端篮子</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ninjee.netlify.app/img/ninjee.jpeg"><meta data-rh="true" name="twitter:image" content="https://ninjee.netlify.app/img/ninjee.jpeg"><meta data-rh="true" property="og:url" content="https://ninjee.netlify.app/docs/frontEnd/JavaScript/DOM&amp;BOM/1 Document &amp; 事件"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="keywords" content="Moxy, Ninjee, blog, javascript, typescript, python ,node, react, vue, web, 前端, 后端"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Document、事件 - Ninjee的前端篮子"><meta data-rh="true" name="description" content="1.1 浏览器环境，规格"><meta data-rh="true" property="og:description" content="1.1 浏览器环境，规格"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ninjee.netlify.app/docs/frontEnd/JavaScript/DOM&amp;BOM/1 Document &amp; 事件"><link data-rh="true" rel="alternate" href="https://ninjee.netlify.app/docs/frontEnd/JavaScript/DOM&amp;BOM/1 Document &amp; 事件" hreflang="zh"><link data-rh="true" rel="alternate" href="https://ninjee.netlify.app/docs/frontEnd/JavaScript/DOM&amp;BOM/1 Document &amp; 事件" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://AJRH2JRXVY-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.cb2f47c4.css">
<link rel="preload" href="/assets/js/runtime~main.6ad002de.js" as="script">
<link rel="preload" href="/assets/js/main.fe74e720.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ninjee-icon.png" alt="ninjee" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/ninjee-icon.png" alt="ninjee" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Ninjee</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">前端知识</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/frontEnd/JavaScript">JavaScript</a></li><li><a class="dropdown__link" href="/docs/frontEnd/HTML&amp;CSS">HTML &amp; CSS</a></li><li><a class="dropdown__link" href="/docs/frontEnd/React">React</a></li><li><a class="dropdown__link" href="/docs/frontEnd/浏览器原理">浏览器原理</a></li><li><a class="dropdown__link" href="/docs/frontEnd/other">other</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">敲代码</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/code/algorithm">算法</a></li><li><a class="dropdown__link" href="/docs/code/writtenJs">手写Js</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">面试</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/interview/summary">总结</a></li><li><a class="dropdown__link" href="/docs/interview/iot">物联网</a></li></ul></div><a class="navbar__item navbar__link" href="/project">我的项目</a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/javascript">JavaScript</a><button aria-label="打开/收起侧边栏菜单「JavaScript」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript">概述</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/frontEnd/JavaScript/DOM&amp;BOM/1 Document &amp; 事件">BOM &amp; DOM</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/frontEnd/JavaScript/DOM&amp;BOM/1 Document &amp; 事件">Document、事件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/DOM&amp;BOM/2 UI、表达控件、加载资源、杂项">UI、表达控件、加载资源、杂项</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/DOM&amp;BOM/3 弹窗、网络请求、存储">Frame、Window、网络请求、存储</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/JavaScript的执行过程">1. JavaScript的执行过程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/执行上下文">2. 执行上下文</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/作用域链和闭包">3. 作用域链和闭包</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/this与箭头函数">4. this与箭头函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/提升与暂时性死区">5. 提升与暂时性死区</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/函数与函数式编程">6. 函数与函数式编程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/对象">7. 对象</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/原型链">8. 原型链</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/继承和类">9. 继承和类</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/ES6+基础">10. ES6+ 基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/Symbol, Set, Map">11. Symbol, Set, Map</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/Proxy, Reflect">12. Proxy, Reflect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/Promise">13. Promise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/async:await, 异步编程">15. 迭代, 异步编程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/模块化">16. 模块化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/z-ArrayAPI">Array API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/z-类型判断">类型判断与类型转换</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/frontEnd/JavaScript/z-执行上下文-ES3">执行上下文(ES3)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/html--css">HTML &amp; CSS</a><button aria-label="打开/收起侧边栏菜单「HTML &amp; CSS」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/react">React</a><button aria-label="打开/收起侧边栏菜单「React」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/浏览器原理">浏览器原理</a><button aria-label="打开/收起侧边栏菜单「浏览器原理」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/algorithm">algorithm</a><button aria-label="打开/收起侧边栏菜单「algorithm」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/手写-js">手写 Js</a><button aria-label="打开/收起侧边栏菜单「手写 Js」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/总结">总结</a><button aria-label="打开/收起侧边栏菜单「总结」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/other">other</a><button aria-label="打开/收起侧边栏菜单「other」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_FykI"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_DTRl"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/javascript"><span itemprop="name">JavaScript</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">BOM &amp; DOM</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Document、事件</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Document、事件</h1></header><h1>1 Document</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="11-浏览器环境规格">1.1 浏览器环境，规格<a class="hash-link" href="#11-浏览器环境规格" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="111-整体结构">1.1.1 整体结构<a class="hash-link" href="#111-整体结构" title="标题的直接链接">​</a></h3><p>下图为JavaScript 在浏览器中运行时的结构图，<code>Window</code> 作为根对象，承担的两个角色：</p><ul><li><p><code>window</code> 是JavaScript的全局对象；</p></li><li><p><code>window</code>是“浏览器窗口”，控制浏览器窗口的各种方法都绑定在<code>window</code>上。</p><p><img loading="lazy" alt="截屏2021-06-21 下午5.07.40" src="/assets/images/截屏2021-06-21 下午5.07.40-1ab64d83649e337c43b741e506578381.png" width="363" height="318" class="img_E7b_"></p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="112-document-object-model">1.1.2 Document Object Model<a class="hash-link" href="#112-document-object-model" title="标题的直接链接">​</a></h3><p>DOM是文档对象模型。利用DOM的概念，把网页中所有的内容都被表示为可以修改的对象。DOM规范解释了文档的结构，提供了操作文档的对象和方法，不仅支持浏览器，也对其他设备提供支持。</p><p>其中，<code>Document</code>对象是页面的主要“入口点”，可以使用它来更改或创建页面上的任何内容。</p><p>也就是说，</p><ul><li>JavaScript利用DOM操作页面的内容，不恰当的说，就是操作“HTML”部分；</li><li>JavaScript利用CSSOM（CSS Object Model）操作页面的样式，也就是“CSS”部分，但是不常用。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="113-browser-object-model">1.1.3 Browser Object Model<a class="hash-link" href="#113-browser-object-model" title="标题的直接链接">​</a></h3><p>BOM是浏览器对象模型。BOM的概念规定了主机环境（浏览器）除处理document（归BOM管）以外，所有内容以及这些内容的对象。</p><p>例如：</p><ul><li><a href="https://developer.mozilla.org/zh/docs/Web/API/Window/navigator" target="_blank" rel="noopener noreferrer">navigator</a> 对象提供了有关浏览器和操作系统的背景信息。</li><li><a href="https://developer.mozilla.org/zh/docs/Web/API/Window/navigator" target="_blank" rel="noopener noreferrer">location</a> 对象允许我们读取当前 URL，并且可以将浏览器重定向到新的 URL。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="114-总结">1.1.4 总结<a class="hash-link" href="#114-总结" title="标题的直接链接">​</a></h3><p>以下是各个标准：</p><ul><li>DOM规范：描述文档的结构、操作和事件，详见 <a href="https://dom.spec.whatwg.org/" target="_blank" rel="noopener noreferrer">https://dom.spec.whatwg.org</a>。</li><li>CSSOM规范：描述样式表和样式规则，对它们进行的操作，以及它们与文档的绑定，详见 <a href="https://www.w3.org/TR/cssom-1/%E3%80%82" target="_blank" rel="noopener noreferrer">https://www.w3.org/TR/cssom-1/。</a></li><li>HTML规范：描述 HTML 语言（例如标签）以及 BOM（浏览器对象模型）— 各种浏览器函数：<code>setTimeout</code>，<code>alert</code>，<code>location</code> 等，详见 <a href="https://html.spec.whatwg.org/" target="_blank" rel="noopener noreferrer">https://html.spec.whatwg.org</a>。它采用了 DOM 规范，并使用了许多其他属性和方法对其进行了扩展。</li></ul><p>此外，某些类被分别描述在 <a href="https://spec.whatwg.org/%E3%80%82" target="_blank" rel="noopener noreferrer">https://spec.whatwg.org/。</a></p><ul><li><p>当你想要了解某个属性或方法时，使用<a href="https://developer.mozilla.org/en-US/search" target="_blank" rel="noopener noreferrer">Mozilla 手册</a> 。</p></li><li><p>要查找某些内容时，可以使用互联网搜索 “WHATWG <!-- -->[term]<!-- -->” 或 “MDN <!-- -->[term]<!-- -->”，</p><p>例如 <a href="https://google.com/?q=whatwg+localstorage" target="_blank" rel="noopener noreferrer">https://google.com?q=whatwg+localstorage</a>，<a href="https://google.com/?q=mdn+localstorage" target="_blank" rel="noopener noreferrer">https://google.com?q=mdn+localstorage</a>。</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="12-dom树">1.2 DOM树<a class="hash-link" href="#12-dom树" title="标题的直接链接">​</a></h2><p>在DOM文档对象模型中，HTML文档的主干是由一个个标签（tag）组成的，每个标签都声明为一个对象，这些标签对象和其他对象共同构成了一个DOM树结构。用JavaScript对对象进行修改，通过修改DOM文档，最终修改页面内容。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="121-举例">1.2.1 举例<a class="hash-link" href="#121-举例" title="标题的直接链接">​</a></h3><p>一个简单的document，用HTML代码则表示如下结构。</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">HTML</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">About elk</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  The truth about elk.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>如果用DOM模型的树形结构表示，可以想象为如下结构：</p><p> <img loading="lazy" alt="img" src="/assets/images/截屏2021-06-21 下午8.04.59-5e717c9a9f70250d6522b3e07106c83d.png" width="376" height="290" class="img_E7b_"></p><p>在HTML中的“标签(tag)”和其他元素，在DOM模型中则表示为“对象”，在树形结构中则称之为“节点”。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="122-节点类型">1.2.2 节点类型<a class="hash-link" href="#122-节点类型" title="标题的直接链接">​</a></h3><p><strong>HTML 中的所有内容,都会成为 DOM 的一部分。</strong>DOM中含有的节点类型，一共有<!-- -->[12种]<!-- -->(<a href="https://dom.spec.whatwg.org/#node" target="_blank" rel="noopener noreferrer">DOM Standard (whatwg.org)</a>)：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 摘录12种节点类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsigned short </span><span class="token constant" style="color:#36acaa">ELEMENT_NODE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                              </span><span class="token comment" style="color:#999988;font-style:italic">// 元素节点(常见)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsigned short </span><span class="token constant" style="color:#36acaa">ATTRIBUTE_NODE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                            </span><span class="token comment" style="color:#999988;font-style:italic">// 属性节点(常见)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsigned short </span><span class="token constant" style="color:#36acaa">TEXT_NODE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                                     </span><span class="token comment" style="color:#999988;font-style:italic">// 文本节点(常见)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsigned short </span><span class="token constant" style="color:#36acaa">CDATA_SECTION_NODE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// CDATASection节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsigned short </span><span class="token constant" style="color:#36acaa">ENTITY_REFERENCE_NODE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// legacy EntityReference节点(历史)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsigned short </span><span class="token constant" style="color:#36acaa">ENTITY_NODE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// legacy                  Entity节点(历史)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsigned short </span><span class="token constant" style="color:#36acaa">PROCESSING_INSTRUCTION_NODE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// ProcessingInstruction节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsigned short </span><span class="token constant" style="color:#36acaa">COMMENT_NODE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                              </span><span class="token comment" style="color:#999988;font-style:italic">// 注释节点(常见)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsigned short </span><span class="token constant" style="color:#36acaa">DOCUMENT_NODE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                             </span><span class="token comment" style="color:#999988;font-style:italic">// 文档节点(常见)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsigned short </span><span class="token constant" style="color:#36acaa">DOCUMENT_TYPE_NODE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// DocumentType节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsigned short </span><span class="token constant" style="color:#36acaa">DOCUMENT_FRAGMENT_NODE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// 文档片段节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsigned short </span><span class="token constant" style="color:#36acaa">NOTATION_NODE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// legacy           Notation节点(历史)</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>常见的节点类型为：</p><ol><li><p><code>#document</code>：Document node 文档节点，代表整个网页，是网页内容的入口，也是DOM树的根节点。</p></li><li><p><code>#元素名</code>：标签被称为 Element node <strong>元素节点</strong>。<code>&lt;html&gt;</code>是根元素，也称为“顶级标签”，除此之外，还有子节点、父节点、兄弟节点等概念；</p></li><li><p><code>#text</code>：文本被称为 Text node<strong>文本节点</strong>，它一定被某个元素节点包含；</p></li><li><p><code>#comment</code>：Comment node <strong>注释节点</strong>，即HTML代码中的注释部分，会被创建为一个注释节点；</p></li><li><p>``：Attributes node 属性节点。对每一个元素设置的属性，都在创建的属性节点中保存。</p><p><img loading="lazy" alt="img" src="data:image/png;base64,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" width="481" height="255" class="img_E7b_"></p></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="123-特征">1.2.3 特征<a class="hash-link" href="#123-特征" title="标题的直接链接">​</a></h3><p><strong>自动修正</strong></p><p>和HTML的灵活性对应，当浏览器遇到不正确的HTML，会在形成DOM时自动更正它：</p><ul><li>如果HTML中，没有顶级标签或<code>&lt;body&gt;</code>标签，则形成DOM时自动创建<code>&lt;html&gt;</code>对象或<code>&lt;body&gt;</code>对象。</li><li>如果HTML中，有没有闭合的标签，则会自动闭合。<code>&lt;p&gt;xxx&lt;/p&gt;</code></li></ul><p><strong>与控制台交互</strong></p><p>在我们处理 DOM 时，我们可能还希望对其应用 JavaScript。例如：获取一个节点并运行一些代码来修改它，以查看结果。以下是在元素（Elements）选项卡和控制台（Console）之间切换的一些技巧。</p><p>首先，打开 <a href="https://zh.javascript.info/article/dom-nodes/elks.html" target="_blank" rel="noopener noreferrer">elks.html</a>：</p><ul><li>在元素（Elements）选项卡中选择第一个 <code>&lt;li&gt;</code>。</li><li>按下 Esc — 它将在元素（Elements）选项卡下方打开控制台（Console）。</li></ul><p>现在最后选中的元素可以通过 <code>$0</code> 来进行操作，先前选择的是 <code>$1</code>，等。</p><p>我们可以对它们执行一些命令。例如，<code>$0.style.background = &#x27;red&#x27;</code> 使选定的列表项（list item）变成红色，像这样：</p><p> <img loading="lazy" alt="img" src="/assets/images/截屏2021-06-21 下午9.06.47-9fc7c197e09946d1b956f6e960fc642a.png" width="696" height="448" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="13-遍历dom">1.3 遍历DOM<a class="hash-link" href="#13-遍历dom" title="标题的直接链接">​</a></h2><p>修改页面内容，就是通过对DOM进行操作；对 DOM 的所有操作，要先获取对应的DOM对象；获取DOM对象，都是以 <code>document</code> 对象开始。它是 DOM 的主“入口点”，从它我们可以访问任何节点。</p><p>对象之前存在一定的关系，就像上文提到的，有父节点、子节点、前驱节点、后继节点、第一个子节点、最后一个子节点等等。</p><p>![img]<!-- -->(images/1%20Document%20&amp;%20%E4%BA%8B%E4%BB%B6.assets/%E6%88%AA%E5%B1%8F2021-06-21%20%E4%B8%8B%E5%8D%889.11.28.png&quot; alt=&quot;截屏2021-06-21 下午9.11.28&quot; style=&quot;zoom:50%;&quot; /&gt; </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="131-顶层节点document">1.3.1 顶层节点：document<a class="hash-link" href="#131-顶层节点document" title="标题的直接链接">​</a></h3><p>以网站 <a href="https://zh.javascript.info/article/dom-nodes/elks.html" target="_blank" rel="noopener noreferrer">elks.html</a>为例，在控制台中，键入：</p><p> <img loading="lazy" alt="img" src="/assets/images/截屏2021-06-21 下午9.18.14-a9ec8bf66b1e990ac91726692cd02c32.png" width="666" height="490" class="img_E7b_"></p><p>可以看到，<code>document</code>对象是一个是最顶层节点。同时为了方便起见，把一些主要的元素节点地址，直接绑定在 <code>document</code>对象的属性中：</p><ul><li><code>document.documentElement</code>：指向<code>&lt;html&gt;</code>节点；</li><li><code>document.body</code>：指向<code>&lt;body&gt;</code>节点；</li><li><code>document.head</code>：指向<code>&lt;head&gt;</code>节点。</li></ul><p>注：</p><ul><li><code>document.body</code>可能出现值为 null 的时候。出现这种情况是因为当要执行某段JavaScript代码，去读取<code>document.body</code>的时候，浏览器还尚未读取到 <code>&lt;body&gt;</code>元素，所以只能返回“节点不存在”。</li><li>在 DOM 中，<code>null</code> 值就意味着“不存在”或者“没有这个节点”。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="132-子节点">1.3.2 子节点<a class="hash-link" href="#132-子节点" title="标题的直接链接">​</a></h3><p>术语：</p><ul><li>子节点：表示某节点的直系的子元素。</li><li>子孙元素：表示某节点下嵌套的所有元素，包括子元素，以及子元素的子元素等。</li></ul><p>经常使用到的属性和方法：</p><ul><li><code>childNodes</code> 集合：列出了所有子节点，包括文本节点。</li><li><code>firstChild</code> 属性：访问第一个子元素。</li><li><code>lastChild</code> 属性：访问最后一个子元素。</li><li><code>elem.hasChildNodes()</code>方法：检查节点是否有子节点。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="133-dom-集合">1.3.3 DOM 集合<a class="hash-link" href="#133-dom-集合" title="标题的直接链接">​</a></h3><p>DOM 集合是一个类数组的可迭代对象，不是一个数组。其特点：</p><ol><li>可迭代性。可以用<code>for...of</code>迭代；</li><li>不是数组。不可使用未继承的数组方法。（使用转换为数组、绑定数组方法变通）</li><li>只读。DOM 集合都是只读的，无法通过直接修改获取的<code>childNodes</code>集合，来修改DOM树中的节点。</li><li>实时。除了特例，几乎所有的DOM集合都是实时的，反应了DOM的当前状态。<ul><li><strong>整理特例！</strong></li></ul></li></ol><p>通常不会使用<code>for...in </code>遍历，使用该方法，会便利该对象下所有可枚举(enumerable)的属性，会额外遍历出很少用的属性。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="134-基本导航navigation属性">1.3.4 基本导航(navigation)属性<a class="hash-link" href="#134-基本导航navigation属性" title="标题的直接链接">​</a></h3><p><strong>兄弟节点（Sibling）</strong> 是指有同一个父节点的节点。</p><p>某元素的导航(navigation)属性：</p><p>不区分节点类型：</p><ul><li><p>访问后继兄弟节点：<code>elem.nextSibling</code></p></li><li><p>访问前驱兄弟节点：<code>elem.previousSibling</code></p></li><li><p>访问父节点：<code>elem.parentNode</code></p></li><li><p>访问第一个子节点：</p></li><li><p>访问最后一个子节点：</p></li></ul><p>只导航元素类型：</p><ul><li>访问后继兄弟<strong>元素</strong>节点：<code>nextElementSibling</code></li><li>访问前驱兄弟<strong>元素</strong>节点：<code>previousElementSibling</code></li><li>访问父<strong>元素</strong>节点：<code>elem.parentElement</code></li><li>访问第一个<strong>元素</strong>子节点：<code>elem.firstElementChild</code></li><li>访问最后一个<strong>元素</strong>子节点：<code>elem.lastElementChild</code></li></ul><p><img loading="lazy" alt="截屏2021-06-22 上午9.21.12" src="/assets/images/截屏2021-06-22 上午9.21.12-ee723d12b5c14cb1c3f2c7e15d7dc995.png" width="449" height="337" class="img_E7b_"></p><p>注：</p><ul><li><p>在绝大多数情况下，<code>elem.parentElement</code>和<code>elem.parentNode</code>都会返回同一个父节点。例外的是，<code>document.documentELement</code>。根元素<code>document.documentElement</code>指向<code>&lt;html&gt;</code>，其父节点就是<code>document</code>根节点，但是<code>#document</code>不是一个元素节点，所以访问<code>parentElement</code>会返回<code>null</code>	。</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">documentElement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parentNode         </span><span class="token comment" style="color:#999988;font-style:italic">// document</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">documentElement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parentElement      </span><span class="token comment" style="color:#999988;font-style:italic">// null</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="1341-表格table">1.3.4.1 表格(table)<a class="hash-link" href="#1341-表格table" title="标题的直接链接">​</a></h4><p>表格节点拥有额外的导航属性：</p><p><code>&lt;table&gt;</code> 拥有额外的属性:</p><ul><li><code>table.rows</code> ：指向 <code>&lt;tr&gt;</code> 元素的集合；<ul><li><code>table.rows[i]</code>：可访问第 i 个单元格。</li></ul></li><li><code>table.caption</code>：指向元素 <code>&lt;caption&gt;</code>；</li><li><code>table.tHead</code>：指向元素<code>&lt;thead&gt;</code>；</li><li><code>table.tFoot</code>：指向元素<code>&lt;tfoot&gt;</code>；</li><li><code>table.tBodies</code>：指向<code>&lt;tbody&gt;</code> 元素的集合。</li></ul><p><code>&lt;thead&gt;</code>，<code>&lt;tfoot&gt;</code>，<code>&lt;tbody&gt;</code> 元素提供了 <code>rows</code> 属性：</p><ul><li><code>tbody.rows</code>：表格内部 <code>&lt;tr&gt;</code> 元素的集合。</li><li><code>tfoot.rows</code></li><li><code>tbody.rows</code></li></ul><p><code>&lt;tr&gt;</code>：</p><ul><li><code>tr.cells</code> ：某 <code>&lt;tr&gt;</code> 中的 <code>&lt;td&gt;</code> 和 <code>&lt;th&gt;</code> 单元格的集合。</li><li><code>tr.sectionRowIndex</code> ：某 <code>&lt;tr&gt;</code> 在 <code>&lt;thead&gt;/&lt;tbody&gt;/&lt;tfoot&gt;</code> 中的位置（索引）。</li><li><code>tr.rowIndex</code> ：在整个表格中 <code>&lt;tr&gt;</code> 的编号（包括表格的所有行）。</li></ul><p><code>&lt;td&gt;</code> 和 <code>&lt;th&gt;</code>：</p><ul><li><code>td.cellIndex</code> ：在封闭的 <code>&lt;tr&gt;</code> 中单元格的编号。</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="1432-表单form">1.4.3.2 表单(form)<a class="hash-link" href="#1432-表单form" title="标题的直接链接">​</a></h4><p>HTML 表单（form）还有其它导航（navigation）属性，后面再补充。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="14-搜索getelement-queryselector">1.4 搜索：<code>getElement*</code>, <code>querySelector*</code><a class="hash-link" href="#14-搜索getelement-queryselector" title="标题的直接链接">​</a></h2><p>DOM不仅提供了导航(navigation)属性，还提供了搜索方法来访问到其他元素：</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="141-根据-id-搜索">1.4.1 根据 id 搜索<a class="hash-link" href="#141-根据-id-搜索" title="标题的直接链接">​</a></h3><p>根据元素的 <code>id</code> 特性(attribute)，可以通过以下方法获取到：</p><ul><li><code>document.getElementById(&#x27;SomeId&#x27;)</code> 方法：直接搜索到该元素。</li><li><code>window.SomeId</code> 属性：浏览器把所有 id 名都放置在全局变量中，可以直接访问。</li><li><code>window[&#x27;Some-Id&#x27;]</code> 属性：当某些 id 名称不满足变量名标准时，可以用方括号访问它。</li></ul><p>注：</p><ol><li>不要使用 <code>window.SomeId</code> 通过全局变量访问元素。</li><li>不要使 id重名，其具有唯一性。</li><li><code>document.getElementById(&#x27;SomeId&#x27;)</code> 是绑定在 <code>document</code>上的方法，不能在其他元素上调用。</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="142-根据-css-选择器搜索">1.4.2 根据 CSS 选择器搜索<a class="hash-link" href="#142-根据-css-选择器搜索" title="标题的直接链接">​</a></h3><p>根据 CSS 选择器，来查找元素：</p><ul><li><p><code>elem.querySelectorAll(&#x27;CSS Rule&#x27;)</code> ：返回匹配的所有元素的集合；</p></li><li><p><code>elem.querySelector(&#x27;CSS Rule&#x27;)</code>：返回匹配的第一个元素；</p><ul><li>结果与 <code>elem.querySelectorAll(&#x27;CSS Rule&#x27;)[0]</code>相同，只是反应更快。</li></ul></li><li><p><code>elem.matches(&#x27;CSS Rule&#x27;)</code>：返回布尔值。判断该elem元素是否满足 CSS 选择器规则，满足返回 true。</p></li><li><p><code>elem.closest(&#x27;CSS Rule&#x27;)</code> ：获取满足 CSS 选择器的第一个祖先，会先检查自身，所以会包括自己在内。</p><ul><li>元素的祖先(ancestor)：是由父级、父级的父级等，直到根节点的一系列节点的父级链。</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="143-其他搜索方式">1.4.3 其他搜索方式<a class="hash-link" href="#143-其他搜索方式" title="标题的直接链接">​</a></h3><ul><li><code>elem.getElementsByTagName(&#x27;tag&#x27;)</code> ：返回具有给定标签的元素的集合。可以输入<code>*</code>匹配任何标签，如 <code>&lt;div&gt;</code>。</li><li><code>elem.getElementsByClassName(&#x27;className&#x27;)</code> ：返回具有给定 CSS 类的元素集合，如 <code>&lt;img class=&quot;hello&quot;&gt;</code>。</li><li><code>document.getElementsByName(&#x27;name&#x27;)</code> ：返回文档范围内满足 <code>name</code> 特性的元素，如 <code>&lt;img name=&quot;hello&quot;&gt;</code>。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="144-集合的实时性">1.4.4 集合的实时性<a class="hash-link" href="#144-集合的实时性" title="标题的直接链接">​</a></h3><ol><li>所有的 <code>&quot;getElementsBy*&quot;</code> 方法都会返回一个 <strong>实时的（live）</strong> 集合。这样的集合始终反映的是文档的当前状态，并且在文档发生更改时会“自动更新”。</li><li>相反，<code>querySelectorAll</code> 返回的是一个 <strong>静态的</strong> 集合。就像元素的固定数组。</li></ol><table><thead><tr><th>Method</th><th>Searches by...</th><th>Can call on an element?</th><th>Live?</th></tr></thead><tbody><tr><td><code>querySelector</code></td><td>CSS-selector</td><td>✔</td><td>-</td></tr><tr><td><code>querySelectorAll</code></td><td>CSS-selector</td><td>✔</td><td>✘</td></tr><tr><td><code>getElementById</code></td><td><code>id</code></td><td>✘ - just document</td><td>-</td></tr><tr><td><code>getElementsByName</code></td><td><code>name</code></td><td>✘ - just document</td><td>✔</td></tr><tr><td><code>getElementsByTagName</code></td><td><code>tag</code> or <code>&#x27;*&#x27;</code></td><td>✔</td><td>✔</td></tr><tr><td><code>getElementsByClassName</code></td><td><code>class</code></td><td>✔</td><td>✔</td></tr></tbody></table><p>目前，最常用的方法：</p><ul><li><code>elem.querySelector</code>：获取某个元素；</li><li><code>elem.querySelectorAll</code>：获取某类元素；</li><li><code>elem.matches</code>：判断该元素是否与 CSS 选择器匹配；</li><li><code>elem.closest</code>：查找满足的祖先元素（包括自己）。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="15-节点属性type-tag-content">1.5 节点属性：type, tag, content<a class="hash-link" href="#15-节点属性type-tag-content" title="标题的直接链接">​</a></h2><p>每个 DOM 节点都属于相应的内建类。这些类依次继承，构成了一个单一的层次结构(single-hierarchy)。“单一”的一次是所有内建类都是从同一个根节点出发，形成唯一的一个树结构。</p><p>层次结构（hierarchy）的根节点是 <a href="https://dom.spec.whatwg.org/#eventtarget" target="_blank" rel="noopener noreferrer">EventTarget</a>，<a href="http://dom.spec.whatwg.org/#interface-node" target="_blank" rel="noopener noreferrer">Node</a> 继承自它，其他 DOM 节点继承自 Node。</p><p> <img loading="lazy" alt="img" src="/assets/images/截屏2021-06-22 上午10.54.54-e7657d626708b9ffd04100a9c648e35b.png" width="956" height="728" class="img_E7b_"></p><p>简单介绍这些类：</p><ul><li><a href="https://dom.spec.whatwg.org/#eventtarget" target="_blank" rel="noopener noreferrer">EventTarget</a> ：根的“抽象（abstract）”类。<ul><li>该类的对象从未被创建。作为基础，它让所有 DOM 节点都支持事件（event）。</li></ul></li><li><a href="http://dom.spec.whatwg.org/#interface-node" target="_blank" rel="noopener noreferrer">Node</a> ：也是“抽象”类。<ul><li><code>Node</code> 类的对象从未被创建，用来充当 DOM 节点的基础。其他不同类型的类，都继承自 <code>Node</code>。</li><li>它提供了DOM树的核心功能：<code>parentNode</code>，<code>nextSibling</code>，<code>childNodes</code> 等基础导航（它们都是 getter）。</li></ul></li><li><a href="http://dom.spec.whatwg.org/#interface-element" target="_blank" rel="noopener noreferrer">Element</a>：是 DOM 元素的基本类。<ul><li>它提供了元素级的导航（navigation），如 <code>nextElementSibling</code>，<code>children</code>，以及 <code>getElementsByTagName</code> 和 <code>querySelector</code> 这样的搜索方法。</li><li>浏览器中不仅有 HTML，还会有 XML 和 SVG，这些特定类都继承自<code>Element</code> 类：<code>SVGElement</code>, <code>XMLElement</code> , <code>HTMLElement</code>。</li></ul></li><li><a href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement" target="_blank" rel="noopener noreferrer">HTMLElement</a> ：所有 HTML 元素的基本类，所有 HTML 元素均继承自它：<ul><li><a href="https://html.spec.whatwg.org/multipage/forms.html#htmlinputelement" target="_blank" rel="noopener noreferrer">HTMLInputElement</a> ：<code>&lt;input&gt;</code> 元素的类，</li><li><a href="https://html.spec.whatwg.org/multipage/semantics.html#htmlbodyelement" target="_blank" rel="noopener noreferrer">HTMLBodyElement</a> ： <code>&lt;body&gt;</code> 元素的类，</li><li><a href="https://html.spec.whatwg.org/multipage/semantics.html#htmlanchorelement" target="_blank" rel="noopener noreferrer">HTMLAnchorElement</a> ： <code>&lt;a&gt;</code> 元素的类，</li><li>……等，每个标签都有自己的类，这些类有包含了自己特有的属性和方法。</li></ul></li></ul><p>举例： <code>&lt;input&gt;</code> 元素的 DOM 对象。它属于 HTMLInputElement 类，按照祖先顺序，它依次继承了如下属性和方法：</p><ul><li><code>HTMLInputElement</code> 类：提供特定于输入的属性；</li><li><code>HTMLElement</code> 类：提供通用（common）的 HTML 元素方法（以及 getter 和 setter）；</li><li><code>Element</code> 类：提供通用（generic）元素方法；</li><li><code>Node</code> 类：提供通用 DOM 节点属性；</li><li><code>EventTarget</code> ：提供事件相关的支持；</li><li>……最后，它继承自 <code>Object</code>，因为像 <code>hasOwnProperty</code> 这样的“普通对象”方法也是可用的。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="151-查看类名">1.5.1 查看类名<a class="hash-link" href="#151-查看类名" title="标题的直接链接">​</a></h3><p>对于页面中某个节点，查看实例化它的类名：</p><ul><li><p><code>elem.constructor.name</code> 属性</p></li><li><p><code>elem.toString</code> 方法</p></li><li><p><code>instanceof</code> 运算符</p></li><li><p><code>elem.nodeType</code> 属性，不常用。</p></li><li><p>元素的属性值是一个数值，代表了该元素的元素类型。</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">constructor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name              </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;HTMLBodyElement&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// [object Undefined] why?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                             </span><span class="token comment" style="color:#999988;font-style:italic">// [object HTMLBodyElement]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body </span><span class="token keyword" style="color:#00009f">instanceof</span><span class="token plain"> </span><span class="token class-name">HTMLBodyElement</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">elem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nodeType </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 元素节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">elem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nodeType </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 文本节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">elem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nodeType </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// document 对象</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul><p>以下两个方法，对于 JavaScript 对象，结论是相同的；对于 DOM 元素，会得到不同的内容：</p><ul><li><p><code>console.dir()</code>：将元素显示为DOM对象。</p></li><li><p><code>console.log()</code>：显示元素的DOM树。</p><p><img loading="lazy" alt="截屏2021-06-22 下午3.01.45" src="/assets/images/截屏2021-06-22 下午3.01.45-dad2952af98c75a69d1aa65a5e86a88b.png" width="412" height="289" class="img_E7b_"></p><p><img loading="lazy" alt="截屏2021-06-22 下午3.02.13" src="/assets/images/截屏2021-06-22 下午3.02.13-4d3d2e1d0652db82e4850b4c3c80ccf3.png" width="315" height="160" class="img_E7b_"></p></li></ul><p>注：在规范中，DOM的内置类不是用 JavaScript 来描述的，而是使用 <a href="https://en.wikipedia.org/wiki/Interface_description_language" target="_blank" rel="noopener noreferrer">接口描述语言(Interface description language)</a>，IDL。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="152-查看标签名">1.5.2 查看标签名<a class="hash-link" href="#152-查看标签名" title="标题的直接链接">​</a></h3><ul><li><code>elem.nodeName</code> 属性：可以查看任意类型节点的当前标签名。</li><li><code>elem.tagName</code> 属性：仅适用于 Element 类型节点，查看它当前的标签名。</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nodeName       </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;#document&quot; </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tagName        </span><span class="token comment" style="color:#999988;font-style:italic">// undefined（不是元素）</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="153-获取修改元素的内容">1.5.3 获取/修改元素的内容<a class="hash-link" href="#153-获取修改元素的内容" title="标题的直接链接">​</a></h3><ol><li><code>elem.innerHTML</code></li><li><code>elem.outerHTML</code></li><li><code>elem.textContent</code></li></ol><p><code>elem.innerHTML</code> 属性，获取<strong>元素内部</strong>的HTML代码的字符串形式。也可以通过该属性修改其内容。</p><ul><li>通过该属性插入有语法错误的HTML代码时，浏览器会尝试自动更正；</li><li>通过该属性插入<code>&lt;script&gt;</code>标签，同时插入 JavaScript 代码后，会成功插入HTML流中，但不会执行。</li><li>谨用该属性，会造成HTML的重新加载。<ul><li>比如使用 <code>elem.innerHTML += &quot;....&quot;</code> ，尝试为HTML添加更多内容时，不是对现有内容的直接追加。而是会先清空HTML的全部内容，然后再重新写入新/旧结合后的内容。这样会导致已经加载过的图片、文本的内容，会重载一遍。</li></ul></li></ul><p><code>elem.outerHTML</code> 属性，获取包括<strong>元素自身</strong>在内的HTML代码的字符串形式。</p><ul><li>与<code>innerHTML</code> 相比：<ul><li>从划定范围上：多了获取元素本身。</li><li>从赋值效果上：不会改变元素，</li></ul></li></ul><p>在执行 <code>div.outerHTML = &lt;p&gt;A new element&lt;/p&gt;</code> 时，发生了如下事情：</p><ol><li><p><code>div</code> 被从文档(document)中移除；</p></li><li><p>另一个HTML片段<code>&lt;p&gt;A new element&lt;/p&gt;</code> 被插入到其原有位置上，此时页面会显示为更改后的内容；</p></li><li><p><code>div</code> 变量仍旧有其旧的值，新的HTML没有被赋值到这个变量上。需要查询 DOM 来获取对新元素的引用。</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> li1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">querySelector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;li&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">li1     </span><span class="token comment" style="color:#999988;font-style:italic">// &lt;li&gt;&quot;Hello Moxy&quot;&lt;/li&gt; </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">li1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">outerHTML </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;p&gt;outerHTML&lt;/p&gt;&quot;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// 此时页面会发生改变，DOM文档被写入新内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">li1         </span><span class="token comment" style="color:#999988;font-style:italic">// &lt;li&gt;&quot;Hello Moxy&quot;&lt;/li&gt;  变量 li1 的值没有发生改变，此时该变量保存了一个DOM文档流中不存在的HTML片段字符串。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 如果是 innerHTML：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> li2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">querySelector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;li&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">li2         </span><span class="token comment" style="color:#999988;font-style:italic">// &lt;li&gt;&quot;Hello Moxy&quot;&lt;/li&gt;                    </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">li2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">innerHTML </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;p&gt;123&lt;/p&gt;&quot;</span><span class="token plain">                            </span><span class="token comment" style="color:#999988;font-style:italic">// 此时页面会发生改变，DOM文档被写入新内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">li2         </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;&lt;p&gt;123&lt;/p&gt;&quot;  变量 li2 的值发生改变，li2 依然指向了当前DOM文档流中之前的位置。</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ol><p><code>elem.textContent</code> 属性：获取该<strong>元素节点</strong>内的所有纯文本字符串，剔除所有 <code>&lt;tags&gt;</code>。</p><ul><li>可对该属性赋值，但是会替换其元素节点内部所有内容，包括其他节点。</li></ul><p><code>textContent</code> 与 <code>innerHTML</code>的区别：</p><p>通过<code>textContent</code> 属性写入DOM流，是“安全方式”写入文本，通常应用在另用户输入任意字符串。</p><ul><li><p>使用 <code>innerHTML</code>，DOM会将其“作为 HTML”插入，带有所有 HTML 标签，会改变页面样式。</p></li><li><p>使用 <code>textContent</code>，DOM会将其“作为文本”插入，所有符号（symbol）均按字面意义处理，也就是全部处理为文本。</p><p> <!-- -->![img]<!-- -->(source/截屏2021-06-22 下午4.33.02.png)</p></li></ul><p>上图的效果，就是利用 <code>document.querySelector(&quot;li&quot;).textContent = &quot;&lt;p&gt;123&lt;/p&gt;&quot;</code> 得来，<code>&quot;&lt;p&gt;123&lt;/p&gt;&quot;</code>被处理成了一个文本。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="154-获取修改文本注释节点的内容">1.5.4 获取/修改文本、注释节点的内容<a class="hash-link" href="#154-获取修改文本注释节点的内容" title="标题的直接链接">​</a></h3><ul><li><code>nodeValue</code> 属性</li><li><code>data</code> 属性</li></ul><p>两者差异非常小，不讨论，通常使用 <code>data</code>，因为更短。</p><ul><li>可以对属性值修改，会正确显示修改后的DOM文档流。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="155-隐藏可见">1.5.5 隐藏/可见<a class="hash-link" href="#155-隐藏可见" title="标题的直接链接">​</a></h3><p>通常有两种方式，一种是DOM属性(property)操作，一种是HTML的标签特性(attribute)。</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div hidden</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">With the attribute </span><span class="token string" style="color:#e3116c">&quot;hidden&quot;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// 使用 HTML 标签特性隐藏</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div id</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;elem&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">JavaScript assigned the property </span><span class="token string" style="color:#e3116c">&quot;hidden&quot;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> elem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hidden </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 使用 DOM 属性隐藏</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="16-特性-attributes-属性-properties">1.6 特性 attributes, 属性 properties<a class="hash-link" href="#16-特性-attributes-属性-properties" title="标题的直接链接">​</a></h2><p>当浏览器加载页面时，会解析HTML并从中生成 DOM 对象。对于元素节点，大多数HTML 特性（attributes）会转译为 DOM 对象的属性（properties），两者名称一一对应，但也会存在少数名称不一一对应的情况。</p><ul><li><p>DOM节点就是通过 JavaScript 对象，我们可以任意添加/修改这些节点的属性和方法，就像对待 JavaScript 一样对待它们。</p></li><li><p>对于HTML标签，当一个标签 <strong>标准的</strong> 特性(如 <code>id</code>)，就会生成对应的 DOM 属性（<code>elem.id</code>）。但是非 <strong>标准的</strong> 特性则不会。</p></li></ul><p>对定义的规定：</p><ul><li>特性（attribute）： 在 HTML 中的内容，<code>&lt;p href=&quot;xxx&quot;&gt;</code>。</li><li>属性（property）： 在 DOM 对象中的内容 <code>p.href</code>。</li></ul><p>简略的对比：</p><table><thead><tr><th align="left"></th><th align="left">属性</th><th align="left">特性</th></tr></thead><tbody><tr><td align="left">类型</td><td align="left">任何值，标准的属性具有规范中描述的类型</td><td align="left">字符串</td></tr><tr><td align="left">名字 name</td><td align="left">大小写敏感</td><td align="left">大小写不敏感</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="161-访问属性">1.6.1 访问属性<a class="hash-link" href="#161-访问属性" title="标题的直接链接">​</a></h3><p>这里指的是直接访问DOM对象的属性值：</p><ul><li><code>elem.id</code> 等等</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="162-访问特性">1.6.2 访问特性<a class="hash-link" href="#162-访问特性" title="标题的直接链接">​</a></h3><p>这里指的是通过“特性”方法来访问特性：</p><ul><li><code>elem.attributes</code> ：读取所有特性。返回属于内建 <a href="https://dom.spec.whatwg.org/#attr" target="_blank" rel="noopener noreferrer">Attr</a> 类的对象的集合，具有 <code>name</code> 和 <code>value</code> 属性。<ul><li>集合是可迭代对象，可用 <code>for...of</code> 遍历。</li></ul></li><li><code>elem.hasAttribute(&#x27;name&#x27;)</code> ：检查特性是否存在。</li><li><code>elem.getAttribute(&#x27;name&#x27;)</code> ：获取这个特性值。</li><li><code>elem.setAttribute(&#x27;name&#x27;, &#x27;value&#x27;)</code> ：设置这个特性值。</li><li><code>elem.removeAttribute(&#x27;name&#x27;)</code> ：移除这个特性。</li></ul><p>注意，HTML 特性有以下几个特征：</p><ul><li>它们的名字是大小写不敏感的（<code>id</code> 与 <code>ID</code> 相同），所以传入的<code>name</code> 并不区分大小写。</li><li>它们的值总是字符串类型的。</li></ul><p>DOM 属性有以下几个特征：</p><ul><li><p>有些属性，先通过属性改变数值，在通过特性方法获取的这个值，会发现没有被更新，例如对 <code>input.value</code> 进行修改。</p></li><li><p>属性值不一定都是字符串类型：</p><ul><li><p><code>input.checked</code> 属性值是布尔型。</p></li><li><p><code>elem.style</code> 属性值是一个对象；<code>elem.getAttribute(&#x27;style&#x27;)</code> 特性是字符串。</p></li><li><p><code>elem.href</code> 属性值可以是相对路径；<code>elem.getAttribute(&#x27;href&#x27;)</code> 特性是一个完整的路径：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">a href</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;#Hello_world&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">Moxy</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">a</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 特性访问</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getAttribute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;href&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// #Hello_world</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 属性访问</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">href </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                            </span><span class="token comment" style="color:#999988;font-style:italic">// http://site.com/page#Hello_world</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="163-非标准的特性">1.6.3 非标准的特性<a class="hash-link" href="#163-非标准的特性" title="标题的直接链接">​</a></h3><p>使用场景：</p><ol><li>通过非标准的特性，将自定义的数据从 HTML 传递到 JavaScript；</li><li>用于为 JavaScript “标记” HTML 标签。<ul><li>为拥有特殊标记的 HTML 标签内，添加特定的内容；</li><li>为拥有特殊标记的 HTML 标签，添加特定的 CSS 样式。</li></ul></li></ol><p>为了避免程序员在自定义非标准特性后，DOM中官方引入了这个名称为标准属性，从而与程序员的命名产生冲突。HTML 语言中定义了 &quot;data-*&quot; 特性。所有用 <code>data-</code> 开头的特性都被保留给程序员使用，不会冲突。同时，它可以在 <code>elem.dataset</code> 属性中被找到</p><ul><li><code>elem.dataset</code> ：返回所有自定义特性的集合，保存了所有自定义属性名。</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// HTML 代码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">head data</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">moxy</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">hello</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">world</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Hello_world&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">body data</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">moxy</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Hello&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dataset                                   </span><span class="token comment" style="color:#999988;font-style:italic">// DOMStringMap {moxyHelloWorld: &quot;hello_world&quot;} - 一个集合</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dataset</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">moxyHelloWorld    </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;hello_world&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dataset</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">about</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;Hello&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">documemt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">moxy</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// noe defined - data-*开头的特性没有直接保存在body对象中，而是存储在dataset属性内。</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="17-修改文档-document">1.7 修改文档 document<a class="hash-link" href="#17-修改文档-document" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="171-创建-dom-节点">1.7.1 创建 DOM 节点<a class="hash-link" href="#171-创建-dom-节点" title="标题的直接链接">​</a></h3><ul><li><code>document.createElement(&#x27;tag&#x27;)</code> ：创建元素节点</li><li><code>document.createTextNode(&#x27;some text&#x27;)</code>：创建文本节点</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="172-插入-dom-节点">1.7.2 插入 DOM 节点<a class="hash-link" href="#172-插入-dom-节点" title="标题的直接链接">​</a></h3><ul><li><code>node.append(...nodes or strings)</code> —— 在 <code>node</code> 中，<strong>末尾</strong> 插入节点或字符串；插入后， <code>node</code> 与其是<strong>父子</strong>关系。</li><li><code>node.prepend(...nodes or strings)</code> —— 在 <code>node</code> 中，<strong>开头</strong> 插入节点或字符串；插入后， <code>node</code> 与其是<strong>父子</strong>关系。</li><li><code>node.before(...nodes or strings)</code> —— 在 <code>node</code> 外，<strong>前面</strong> 插入节点或字符串；插入后， <code>node</code> 与其是<strong>兄弟</strong>关系。</li><li><code>node.after(...nodes or strings)</code> —— 在 <code>node</code> 外，<strong>后面</strong> 插入节点或字符串；插入后， <code>node</code> 与其是<strong>兄弟</strong>关系。</li><li><code>node.replaceWith(...nodes or strings)</code> —— 将 <code>node</code> 替换为给定的节点或字符串。</li></ul><p>其中，</p><ul><li>参数可以是要插入的任意类型 DOM 节点，或者字符串（会被转换成一个文本节点，然后插入）</li><li>可以一次插入多个节点，参数可传递多个。</li><li>安全插入。插入字符串时，字符都被 “作为文本” 插入，而不是“作为 HTML 代码”，例如<code>div.before(&#x27;&lt;p&gt;HEllo&lt;/p&gt;&#x27;)</code> 是作为文本插入，特殊符号都会被自动转译处理。</li></ul><p>举例如下，将一个由于 ol 和 li 标签组成的 HTML 结构中，插入某个元素：</p><p> <img loading="lazy" alt="img" src="/assets/images/截屏2021-06-22 下午8.22.54-c5b7613788cab806964a38088ec1b2fd.png" width="746" height="450" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="173-通用插入方式">1.7.3 通用插入方式<a class="hash-link" href="#173-通用插入方式" title="标题的直接链接">​</a></h3><ul><li><code>elem.insertAdjacentHTML(&quot;where&quot;, &quot;htmlCode&quot;)</code>：在指定位置插入 HTML 代码；</li><li><code>elem.insertAdjacentText(where, text)</code> ：在指定位置插入 Text 文本；</li><li><code>elem.insertAdjacentElement(where, elem)</code> ：在指定位置插入 Element 元素。</li></ul><p>举例，<code>elem.insertAdjacentHTML(&quot;where&quot;, &quot;htmlCode&quot;)</code>：</p><ul><li><p>参数1：代码字（code word），指定相对于 elem 的插入位置，从下择其一而填之。</p><ul><li><code>&quot;beforebegin&quot;</code> — 将 <code>&quot;htmlCode&quot;</code> 插入到 <code>elem</code> 的前面；插入后， <code>elem</code> 与其是<strong>兄弟</strong>关系。</li><li><code>&quot;afterend&quot;</code> — 将 <code>&quot;htmlCode&quot;</code> 插入到 <code>elem</code> 的后面；插入后， <code>elem</code> 与其是<strong>兄弟</strong>关系。</li><li><code>&quot;afterbegin&quot;</code> — 将 <code>&quot;htmlCode&quot;</code> 插入到 <code>elem</code> 内的开头；插入后， <code>elem</code> 与其是<strong>父子</strong>关系。</li><li><code>&quot;beforeend&quot;</code> — 将 <code>&quot;htmlCode&quot;</code> 插入到 <code>elem</code> 内的末尾；插入后， <code>elem</code> 与其是<strong>父子</strong>关系。</li></ul></li><li><p>参数2：要插入的 HTML 代码字符串，会作为代码插入。</p><p><img loading="lazy" alt="img" src="/assets/images/截屏2021-06-22 下午8.37.07-0b373886ad6c15cfec233b5d48ae6d96.png" width="840" height="444" class="img_E7b_"></p></li></ul><p>注：</p><ul><li><code>elem.insertAdjacentHTML()</code> 更为常用，因为它可以把 <strong>内容</strong> 作为代码插入；</li><li>如果要插入 text 或 element，通常会使用更简洁的<code>elem.append()</code>等四个方法，它们把 内容 作为文本插入，或作为元素插入。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="174-移除移动节点">1.7.4 移除/移动节点<a class="hash-link" href="#174-移除移动节点" title="标题的直接链接">​</a></h3><p>移除节点： <code>node.remove()</code></p><p>移动节点：把某个位置的节点，移动到新的位置，使用上文介绍的插入节点方式。</p><ul><li>比如 <code>node.append</code>，会自动把 <code>node</code> 该节点从原有位置删掉，然后插入到新指定的位置去。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="175-克隆节点">1.7.5 克隆节点<a class="hash-link" href="#175-克隆节点" title="标题的直接链接">​</a></h3><ul><li><p><code>elem.cloneNode(true)</code>：深拷贝。返回一个新元素，具有 <code>elem</code> 的全部特性（attribute）和子元素。</p></li><li><p><code>elem.cloneNode(false)</code> ：浅拷贝。返回一个新元素，只有 <code>elem</code> 的全部特性，没有子元素。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="176-documentfragment-节点">1.7.6 DocumentFragment 节点<a class="hash-link" href="#176-documentfragment-节点" title="标题的直接链接">​</a></h3><p>如果有许多字节点要整理后再添加到 DOM 流中。可以先把各种子节点添加到一个 DocumentFragment 中，全部添加完毕后，再把这些子节点一起添加到 DOM 流中。DocumentFragment 节点相当于一个用来传递节点列表的包装器(wrapper)。</p><p>注意，在把 DocumentFragment 节点添加到 DOM 流中时，不会添加 DocumentFragment 节点本身，只是把其内容添加到 DOM 流的指定位置。</p><p>例子：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">ul id</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ul&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">ul</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getListContent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> fragment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">DocumentFragment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> li </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;li&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    li</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fragment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">li</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> fragment</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ul</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">getListContent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>最终文档结构：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>这种用法其实并不常见，可以用一个数组来包含所有子节点：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">ul id</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ul&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">ul</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getListContent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// 利用数组代替 DocumentFragment 节点</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> li </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;li&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    li</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">li</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ul</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">...</span><span class="token function" style="color:#d73a49">getListContent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...运算符，把数组展开</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="177-过时用法">1.7.7 过时用法<a class="hash-link" href="#177-过时用法" title="标题的直接链接">​</a></h3><p>对节点的添加、删除、移动：</p><p><code>elem.appendChild(node)</code>：将 node 附加为 elem 的最后一个子节点。</p><p><code>elem.insertBefore(node, nextSibling)</code>：将 node 插入到 elem 的 nextSibling 上（后继兄弟节点）。</p><p><code>elem.replaceChild(node, oldChild)</code>：把 <code>elem</code> 子元素中的 <code>oldChild</code> 替换为 <code>node</code>。</p><p><code>elem.removeChild(node)</code>：从 <code>elem</code> 的子节点中，删除 <code>node</code>。</p><p>对页面内容的添加：</p><p><code>document.write</code></p><ul><li><p>调用该方法，只在页面加载时工作，在“加载完成”阶段是不可用的。</p><ul><li>如果稍后调用它，则已经加载的文档内容将被擦除，载入插入的内容。</li></ul></li><li><p>通常使用在 HTML 代码流中，插入一段 HTML 代码。</p></li><li><p>调用 <code>document.write(html)</code> 意味着将 <code>html</code> “就地马上”写入页面。<code>html</code> 字符串可以是动态生成的。</p><div class="codeBlockContainer_I0IT language-HTML theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-HTML codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;p&gt;Somewhere in the page...&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  document.write(&#x27;&lt;b&gt;Hello from JS&lt;/b&gt;&#x27;);   // &quot;就地马上&quot;的写入页面</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;p&gt;The end&lt;/p&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul><ul><li>优点：写入页面的速度非常快。因为不涉及 DOM 修改，而是直接在加载时把内容写入页面。对于浏览器来说，这些插入的内容会像本来就在 HTML 文本中那样顺利依次加载。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="18-样式和类">1.8 样式和类<a class="hash-link" href="#18-样式和类" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="181-class">1.8.1 class<a class="hash-link" href="#181-class" title="标题的直接链接">​</a></h3><p>HTML中，标签中的 <code>class</code> 特性，对于DOM操作中的：</p><ul><li><code>elem.className</code> 属性：获取 elem 节点的所有 class 名称。</li><li><code>elem.classList</code> 属性：是一个类，支持三种方法，对 class 名称进行单个操作。<ul><li><code>elem.classList.add(name)</code> 方法：添加；</li><li><code>elem.classList.remove(name)</code> 方法：删除；</li><li><code>elem.classList.toggle(name)</code> 方法：不存在就添加，存在就删除；</li><li><code>elem.classList.contains(name)</code> 方法：检查是否存在，返回 布尔值。</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="182-style">1.8.2 style<a class="hash-link" href="#182-style" title="标题的直接链接">​</a></h3><p><code>elem.style</code> 属性是一个对象，它对应于HTML标签中的 <code>&quot;style&quot;</code> 特性（attribute）中所写的内容。</p><p>注：不是针对 CSS 联级，而只是在 HTML标签中的 style 特性。</p><ul><li><p>设置属性：<code>elem.style.backgroundColor=&quot;100px&quot;    // background-color</code></p><ul><li>对于多词（multi-word）属性，使用驼峰式 camelCase。</li></ul></li><li><p>删除属性：<code>elem.style.display = &quot;&quot;    // 把样式置为空</code></p></li><li><p>获取 CSS 特性，包括联级在内，应用在该 HTML 标签上的所有 CSS 特性：</p><ul><li><code>getComputedStyle(element, [pseudo])</code></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="19-元素大小与滚动">1.9 元素大小与滚动<a class="hash-link" href="#19-元素大小与滚动" title="标题的直接链接">​</a></h2><p>下图为某元素在 CSS（左）和 DOM（右） 中对应的属性名称：</p><p> <img loading="lazy" alt="img" src="/assets/images/截屏2021-06-24 下午2.17.55-a3b54fa61b35aeae125cdd3099024236.png" width="1120" height="876" class="img_E7b_"></p><ul><li><p><code>elem.offsetParent</code>，<code>elem.offsetLeft</code>，<code>elem.offsetRight</code>：获取元素相对于父 container 的偏移值；</p></li><li><p><code>elem.offsetWidth</code>，<code>elem.offsetHeight</code>：获取元素包括 content、padding、（scrollbar）、border 在内的总宽度/高度；</p></li><li><p><code>elem.clientWidth</code>，<code>elem.clientHeight</code>：获取元素 content、padding 在内的宽度/高度。不包括滚动轴区域；</p></li><li><p><code>elem.clientLeft</code>，<code>elem.clientTop</code>：获取元素的 border；</p></li><li><p><code>scrollWidth</code>，<code>scrollHeight</code>：相比 <code>clientWidth / Height</code> 属性，多了隐藏的、滚动尚未显示的内容，但不包括滚动轴区域；</p></li><li><p><code>scrollLeft</code>，<code>scrollTop</code>：从元素的左上角开始，滚动出元素的上半部分的 width/height。</p><ul><li>换句话说，<code>scrollTop</code> 就是“已经滚动了多少”，见下图。</li></ul><p><img loading="lazy" alt="img" src="/assets/images/截屏2021-06-24 下午2.27.18-4516080-9d155c8106bc55c3ddfec87cd3e17cad.png" width="488" height="537" class="img_E7b_"></p></li></ul><p>通常，利用 JavaScript 获取元素 CSS 的尺寸，不会直接获取 <code>width / height</code> 而是像上面的方法获取最终的解析值，也就是最终页面呈现出来的比例数值。利用 <code>getComputedStyle</code> 获取的 width 值，有可能得到 &quot;auto&quot;，也有可能该值会受 CSS 的 <code>box-sizing</code> 影响。	</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="110-window-尺寸与滚动">1.10 Window 尺寸与滚动<a class="hash-link" href="#110-window-尺寸与滚动" title="标题的直接链接">​</a></h2><p> <code>document.documentElement</code>：保存了与 HTML 相关的尺寸信息，浏览器页面的尺寸信息。</p><p> <img loading="lazy" alt="img" src="/assets/images/截屏2021-06-24 下午2.58.58-58a1c91b3dfcc844b098fc98d7ffa3eb.png" width="529" height="223" class="img_E7b_"></p><ul><li><code>document.documentElement.clientWidth/clientHeight</code>：获取窗口（window）的宽度和高度，不包括滚动条的尺寸。</li><li><code>window.innerWidth/innerHeight</code> ：获取了整个窗口的宽度，包活了滚动条的尺寸。</li><li><code>documentElement.scrollWidth/scrollHeight</code> ：文档的完整大小，也就是不用滚动条隐藏，完全展开的尺寸，<strong>时会有bug</strong>。</li><li><code>document.documentElement.scrollLeft/scrollTop</code>：文档滚动过的部分。<ul><li><code>document.body.scrollLeft/scrollTop</code>：部分浏览器（如Safari，使用这种方法）。</li><li><code>window.pageYOffset</code> ，<code>window.scrollY</code>：效果相同，优先使用。这三个方法的具体不同点，暂不细讨论。</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1101-滚动">1.10.1 滚动<a class="hash-link" href="#1101-滚动" title="标题的直接链接">​</a></h3><p><code>scrollTop/scrollLef</code>：对元素进行常规的滚动操作</p><ul><li><p><code>document.documentElement.scrollTop/scrollLeft</code>： 对页面进行滚动操作。</p><ul><li><code>document.body.scrollTop/Left</code> ：部分浏览器（如Safari，使用这种方法）。</li></ul></li><li><p><code>window.scrollBy(x, y)</code>：将页面滚动至<strong>相对于当前位置的 <code>(x, y)</code> 位置</strong>；</p></li><li><p><code>window.scrollTo(pageX, pageY)</code>：将页面滚动至 <strong>绝对坐标</strong>；</p></li><li><p><code>elem.scrollIntoView(top)</code>：滚动页面以使 <code>elem</code> 在窗口顶部、底部可见。</p><ul><li>top参数为 true：默认，窗口滚动到 elem 正好在窗口的顶端；</li><li>top参数为 false：窗口滚动到 elem 正好在窗口的底端；</li></ul></li><li><p>禁止滚动： <code>document.body.style.overflow = &quot;hidden&quot;</code></p></li><li><p>恢复滚动： <code>document.body.style.overflow = &quot;&quot;</code></p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="111-坐标">1.11 坐标<a class="hash-link" href="#111-坐标" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="1111-两种坐标的属性">1.11.1 两种坐标的属性<a class="hash-link" href="#1111-两种坐标的属性" title="标题的直接链接">​</a></h3><p>JavaScript 有以下两种坐标系：</p><ol><li>相对于窗口：<code>position:fixed</code>，从窗口的顶部/左侧边缘计算得出。<ul><li>这些坐标表示为 <code>clientX/clientY</code>，该名称与事件属性有关。</li></ul></li><li>相对于文档： <code>position:absolute</code>，从文档根（document root）的顶部/左侧边缘计算得出。 <ul><li>表示为 <code>pageX/pageY</code>。</li></ul></li></ol><p>不论文档是否滚动，某个文字的 <code>pageX/pageY</code> 都不会发生改变。因为这个属性是相对于文档而言的位置；但如果页面滚动（文档滚动），<code>clientX/clientY</code> 的数值就会发生改变。</p><p><img loading="lazy" alt="img" src="/assets/images/截屏2021-06-24 下午3.20.50-19d90d846f616e2e85f5173a5fc9809f.png" width="1522" height="766" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="1112-元素的相对位置">1.11.2 元素的相对位置<a class="hash-link" href="#1112-元素的相对位置" title="标题的直接链接">​</a></h3><p><code>elem.getBoundingClientRect()</code> 方法：返回元素的大小及其相对于视口的位置。</p><ul><li><p>如果是标准盒子模型，元素的尺寸等于<code>width/height</code> + <code>padding</code> + <code>border-width</code>的总和。</p></li><li><p>如果是 <code>box-sizing: border-box</code>，元素的的尺寸等于 <code>width/height</code>。</p></li><li><p>返回值是一个 DOMRect 对象，其属性值。</p><ul><li><code>y/x</code>：相对于窗口<code>(0, 0)</code>的坐标；</li><li><code>width/height</code>：相当于 CSS 的 <code>width/height</code> 属性；	</li><li><code>left</code>：相当于<code>x</code>；</li><li><code>top</code>：相当于<code>y</code>；</li><li><code>right</code>：相当于  <code>x + width</code>；</li><li><code>bottom</code>：相当于 <code>y + height</code>。</li></ul></li></ul><p>注：如果 width 和 height 的属性值是负数（矩形框没有体积），则 left/top 和 x/y 的值不相等。</p><p> <img loading="lazy" alt="截屏2021-06-24 下午3.34.49" src="/assets/images/截屏2021-06-24 下午3.34.49-ff32e072db2350644bb04831702af5c1.png" width="527" height="403" class="img_E7b_"></p><p>返回值是一个 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/DOMRect" target="_blank" rel="noopener noreferrer"><code>DOMRect</code></a> 对象，这个对象是由该元素的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getClientRects" target="_blank" rel="noopener noreferrer"><code>getClientRects()</code></a> 方法返回的一组矩形的集合，就是该元素的 CSS 边框大小。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="1113-获取某处元素">1.11.3 获取某处元素<a class="hash-link" href="#1113-获取某处元素" title="标题的直接链接">​</a></h3><p> <code>document.elementFromPoint(x, y)</code> ：返回在窗口坐标 <code>(x, y)</code> 处嵌套最多（the most nested）的元素。</p><ul><li><p>也就是说，取得输入坐标位置附近“最深、最子孙”的元素。</p></li><li><p>对于在窗口之外的坐标，<code>elementFromPoint</code> 返回 <code>null</code></p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1114-文档的坐标">1.11.4 文档的坐标<a class="hash-link" href="#1114-文档的坐标" title="标题的直接链接">​</a></h3><p>文档相对坐标从文档的左上角开始计算，而不是窗口。</p><p>上文提到过的这两个坐标系统通过以下公式相连接：</p><ul><li><code>pageY</code> = <code>clientY</code>  +  <code>window.pageYOffset</code>（文档的垂直滚动出的部分的高度）。</li><li><code>pageX</code> = <code>clientX</code>  + <code>window.pageXOffset</code> （文档的水平滚动出的部分的宽度）。</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 通过视口坐标，获取某元素的文档坐标</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getCoords</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">elem</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> box </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> elem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getBoundingClientRect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">top</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">top </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pageYOffset</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">right</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">right </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pageXOffset</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">bottom</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bottom </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pageYOffset</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">left</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> box</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">left </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pageXOffset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h1>2 事件</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="21-浏览器事件简介">2.1 浏览器事件简介<a class="hash-link" href="#21-浏览器事件简介" title="标题的直接链接">​</a></h2><p><strong>事件</strong> 是某事发生的信号。所有的 DOM 节点都生成这样的信号（但事件不仅限于 DOM）。</p><p>这是最有用的 DOM 事件的列表，你可以浏览一下：</p><p><strong>鼠标事件：</strong></p><ul><li><code>click</code> —— 当鼠标点击一个元素时（触摸屏设备会在点击时生成）。</li><li><code>contextmenu</code> —— 当鼠标右键点击一个元素时。</li><li><code>mouseover</code> / <code>mouseout</code> —— 当鼠标指针移入/离开一个元素时。</li><li><code>mousedown</code> / <code>mouseup</code> —— 当在元素上按下/释放鼠标按钮时。</li><li><code>mousemove</code> —— 当鼠标移动时。</li></ul><p><strong>键盘事件</strong>：</p><ul><li><code>keydown</code> 和 <code>keyup</code> —— 当按下和松开一个按键时。</li></ul><p><strong>表单（form）元素事件</strong>：</p><ul><li><code>submit</code> —— 当访问者提交了一个 <code>&lt;form&gt;</code> 时。</li><li><code>focus</code> —— 当访问者聚焦于一个元素时，例如聚焦于一个 <code>&lt;input&gt;</code>。</li></ul><p><strong>Document 事件</strong>：</p><ul><li><code>DOMContentLoaded</code> —— 当 HTML 的加载和处理均完成，DOM 被完全构建完成时。</li></ul><p><strong>CSS 事件</strong>：</p><ul><li><code>transitionend</code> —— 当一个 CSS 动画完成时。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="211-事件处理器">2.1.1 事件处理器<a class="hash-link" href="#211-事件处理器" title="标题的直接链接">​</a></h3><p>为了对事件作出响应，我们可以分配一个 <strong>处理程序（handler）/或称“回调函数”</strong>—— 一个在事件发生时运行的函数。</p><p>处理程序是在发生用户行为（action）时运行 JavaScript 代码的一种方式。</p><p>下面是几种分配处理程序的方法：</p><ol><li><strong>attribute</strong>。HTML 特性：处理程序可以设置在 HTML 中名为 <code>on&lt;event&gt;</code> 的特性（attribute）中，如 <code>onclick</code>。</li><li><strong>property</strong>。DOM 属性：可以在 JavaScript 代码中为对应的 DOM 属性（property）添加事件回调函数，如<code>onclick</code>。</li><li><strong>method</strong>。使用添加事件函数：<code>elem.addEventListener()</code></li></ol><ul><li><p>回调函数的括号问题：</p><ul><li><p>通过 DOM 操作，对属性值添加事件回调函数，不加括号：<code>elem.onclick = SaySomething</code></p></li><li><p>通过 HTML 操作，需要添加括号。这是因为 浏览器会将特性中的内容全部添加到一个新创建的回调函数中：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">input type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;button&quot;</span><span class="token plain"> onclick</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;SaySomething()&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 浏览器对上面的 onclick 属性，会解析为这样：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  button</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function-variable function" style="color:#d73a49">onclick</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">SaySomething</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 参数：event 事件对象，自动保存了事件触发时的相关信息，这个在2.1.2会讲到。</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul></li></ul><p><code>element.addEventListener(event, handler[, options]);</code>：添加一个事件监听。</p><ul><li>对应的参数分别表示：事件名称、回调函数、附加对象<ul><li>附加对象可选的属性值：</li><li><code>once</code>：如果为 <code>true</code>，只监听一次，被事件触发后自动删除该监听器。</li><li><code>capture</code>：事件处理的阶段，冒泡 false 默认 <strong>/</strong> 捕获 true。<ul><li>由于历史原因，<code>options</code> 也可以是 <code>false/true</code>，与 <code>{capture: false/true}</code> 相同。</li></ul></li><li><code>passive</code>：如果为 <code>true</code>，那么处理程序将不会调用 <code>preventDefault()</code>，我们稍后将在 <a href="https://zh.javascript.info/default-browser-action" target="_blank" rel="noopener noreferrer">浏览器默认行为</a> 一章中介绍。</li></ul></li><li>同一元素的同一阶段的监听器，按其设置顺序运行。</li></ul><p><code>element.removeEventListener(event, handler[, options]) </code>：移除一个事件监听。</p><ul><li>参数要移除的回调函数，必须与添加时的回调函数相同（通过变量，指向同一个回调函数）。</li><li>需要在与设置事件监听时的统一阶段（冒泡、捕获），来移除事件监听。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="212-事件对象">2.1.2 事件对象<a class="hash-link" href="#212-事件对象" title="标题的直接链接">​</a></h3><p>在触发设定好的事件监听时，会自动调用事件回调函数。此时，对被触发元素的相关信息 ，如鼠标指针坐标、指针是否被点击等等信息，会存储在一个对象中，作为第一个参数传入回调函数。这个对象通常命名为 <code>event</code>。</p><p><code>elem.onclick = function(event) { ... }</code></p><ul><li><code>event.type</code>：事件类型，这里是 <code>&quot;click&quot;</code>。</li><li><code>event.currentTarget</code>：处理事件的元素，与 <code>this</code> 相同。<ul><li>如果回调函数是箭头函数，或者它的 <code>this</code> 被绑定到了其他东西上，就从 <code>event.currentTarget</code> 获取元素。</li></ul></li><li><code>event.clientX / event.clientY</code>：指针事件（pointer event）的指针的窗口相对坐标。</li><li>等等其他属性，根据事件类型的不同，也会有事件独有的 <code>event</code> 属性。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="22-冒泡和捕获">2.2 冒泡和捕获<a class="hash-link" href="#22-冒泡和捕获" title="标题的直接链接">​</a></h2><p>冒泡和捕获的最大差别，就是触发事件监听的顺序不同。</p><ul><li>冒泡：会首先在“最直接、最底层、最子孙”的元素触发，然后依次向上，直到祖先。</li><li>捕获：会首先出发祖先元素，然后逐层向下，直到子孙。</li></ul><p>换句话说，从 <code>&lt;div&gt;</code> 标签的逐层嵌套来考虑触发顺序：<strong>冒泡会从最内层逐渐向外；捕获会从最外层逐渐向内。</strong></p><p><a href="http://www.w3.org/TR/DOM-Level-3-Events/" target="_blank" rel="noopener noreferrer">DOM 事件</a> 标准描述了事件传播的 3 个阶段：</p><ol><li>捕获阶段（Capturing phase）—— 事件（从 Window）向下走近元素。</li><li>目标阶段（Target phase）—— 事件到达目标元素。</li><li>冒泡阶段（Bubbling phase）—— 事件从元素上开始冒泡。</li></ol><p>下面是在表格中点击 <code>&lt;td&gt;</code> 的图片，摘自规范：</p><p> <img loading="lazy" alt="img" src="/assets/images/image-20210630152652129-67ea6c4e944c3ceccef5de7fe9a9050f.png" width="575" height="575" class="img_E7b_"></p><p>需要说明的是，在第二个“目标阶段”，只是一个概念，并没有“显式的”表现这个阶段，而是包含在了冒泡和捕获这两个阶段中。</p><ul><li>换句话说，如果对一个目标元素（比如上图的 <code>&lt;tr&gt;</code> ），既设置了捕获，又设置了冒泡。如果事件被触发，这个目标元素会在冒泡阶段和捕获阶段触发两次事件监听。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="221-冒泡">2.2.1 冒泡<a class="hash-link" href="#221-冒泡" title="标题的直接链接">​</a></h3><p>冒泡（bubbling）：当事件发生在某元素上，会首先运行在该元素上的处理程序，然后运行其父元素上的处理程序，然后一直向上到其他祖先上的处理程序。</p><p>冒泡事件从目标元素开始向上冒泡。通常，它会一直上升到 <code>&lt;html&gt;</code>，然后再到 <code>document</code> 对象，有些事件甚至会到达 <code>window</code>，它们会调用路径上所有的事件回调函数。</p><ul><li><p>这个过程被称为“冒泡（bubbling）”，因为事件从内部元素“冒泡”到所有父级，就像在水里的气泡一样。</p></li><li><p>“几乎”，而不是所有事件都会发生冒泡：<code>focus</code> 等事件就不会冒泡。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="222-eventtarget">2.2.2 event.target<a class="hash-link" href="#222-eventtarget" title="标题的直接链接">​</a></h3><p>目标元素：父元素上的事件监听（它的回调函数），始终可以获取事件实际发生位置的详细信息。</p><p>引发事件的那个嵌套层级最深的元素被称为<strong>目标元素</strong>,可以通过 <code>event.target</code> 访问。</p><p>注意区别：</p><ul><li><code>event.target</code> ：引发事件的“目标”元素，它在冒泡过程中不会发生变化。</li><li><code>event.currentTarget</code>：表示“当前”元素，即目前正在运行的回调函数。</li><li><code>this</code>： 除非有其他指定，否则和<code>event.currentTarget</code> 相同。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="223-停止冒泡">2.2.3 停止冒泡<a class="hash-link" href="#223-停止冒泡" title="标题的直接链接">​</a></h3><p> <code>event.stopPropagation()</code>：执行该方法后，该事件会停止向上冒泡。</p><p>如果所有对象都设置了事件监听，冒泡事件从目标元素开始向上冒泡，会一直上升到 <code>&lt;html&gt;</code> 节点，然后到 <code>document</code> 对象，最后到 <code>window</code> 对象，同时会调用路径上所有的回调函数。</p><p>在这个过程中，任何一个回调函数，都可以通过调用停止冒泡方法，停止事件的冒泡。</p><ul><li><p>某回调函数执行该方法，只会停止事件向上冒泡。这个回调函数中的各种操作，依然会被触发且执行。受影响的是当前回调函数的全部上层事件监听。</p></li><li><p>从经验上讲，除非特殊需要，不会频繁的使用停止冒泡功能。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="224-捕获">2.2.4 捕获<a class="hash-link" href="#224-捕获" title="标题的直接链接">​</a></h3><p>capturing，捕获阶段通常在开发中使用较少，默认的<code>addEventListener(event, handler)</code> 事件监听，通常被设置为默认的冒泡阶段，需要手动设置<code>capture:ture</code> 才调整为捕获阶段：</p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">elem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">capture</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">elem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 或，用 {capture: true} 的别名 &quot;true&quot;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="23-事件委托">2.3 事件委托<a class="hash-link" href="#23-事件委托" title="标题的直接链接">​</a></h2><p>是一种编程思维，见这里：<!-- -->[事件委托]<!-- -->(<a href="https://zh.javascript.info/event-delegation" target="_blank" rel="noopener noreferrer">事件委托 (javascript.info)</a>)。</p><p>该思维是这样的：当需要为一套体系内的每个元素设定事件监听，整体来完成一个任务时，可以考虑不必为每一个元素都设置一个事件监听，这样监听数量过多，不仅编程复杂，而且影响浏览器性能。</p><p>可以只在整体框架上设置一个监听，用事件的 <code>event.target</code> 属性来区分每一个被触发的元素，然后定义元素各自不同的行为，这样就相当于为每一个元素定义了一个自己的事件监听。</p><h3></h3><h3 class="anchor anchorWithStickyNavbar_mojV" id="231-行为模式">2.3.1 行为模式<a class="hash-link" href="#231-行为模式" title="标题的直接链接">​</a></h3><p>利用事件委托，将“行为（behavior）”以 <strong>声明方式</strong> 添加到具有特殊特性（attribute）和类的元素中。</p><p>行为模式分为两个部分：</p><ol><li>我们将自定义特性添加到描述其行为的元素。</li><li>用文档范围级的处理程序追踪事件，如果事件发生在具有特定特性的元素上 —— 则执行行为（action）。</li></ol><p>例如如下形式：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">button</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-counter</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">    // data-counter：一个 “自定义特性”，一个“特定声明”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">addEventListener</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;click&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">event</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript">      </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 文档范围级的事件监听</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">event</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">target</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">dataset</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">counter </span><span class="token script language-javascript operator" style="color:#393A34">!=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">undefined</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript">      </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 如果这个特性存在，则执行“特定行为”</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// ...</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="232-总结">2.3.2 总结<a class="hash-link" href="#232-总结" title="标题的直接链接">​</a></h3><p>事件委托是 DOM 事件最有用的模式之一。它通常用于为许多相似的元素添加相同的处理，但不仅限于此。</p><p>算法：</p><ol><li>在容器（container）上放一个处理程序。</li><li>在处理程序中 —— 检查源元素 <code>event.target</code>。</li><li>如果事件发生在我们感兴趣的元素内，那么处理该事件。</li></ol><p>好处：</p><ul><li>简化初始化并节省内存：无需添加许多处理程序。</li><li>更少的代码：添加或移除元素时，无需添加/移除处理程序。</li><li>DOM 修改 ：我们可以使用 <code>innerHTML</code> 等，来批量添加/移除元素。</li></ul><p>局限性：</p><ul><li>事件必须冒泡。有些事件不会冒泡，谨慎使用 <code>event.stopPropagation()</code>。</li><li>增加 CPU 负载。因为容器级别的事件监听，会对容器中任意位置的事件做出反应，而不管我们是否对该事件感兴趣。但是，通常负载可以忽略不计，所以我们不考虑它。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="24-浏览器默认行为">2.4 浏览器默认行为<a class="hash-link" href="#24-浏览器默认行为" title="标题的直接链接">​</a></h2><ul><li>点击一个链接 —— 触发导航（navigation）到该 URL。</li><li>点击表单的提交按钮 —— 触发提交到服务器的行为。</li><li>在文本上按下鼠标按钮并移动 —— 选中文本。</li></ul><p>这些都是浏览器提前设置好的事件监听，也就是所谓“浏览器默认行为”。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="241-阻止默认行为">2.4.1 阻止默认行为<a class="hash-link" href="#241-阻止默认行为" title="标题的直接链接">​</a></h3><p>以下两种方式可以阻止浏览器执行默认行为。</p><ul><li>主流方式：使用 <code>event</code> 对象。有一个 <code>event.preventDefault()</code> 方法。</li><li>使用 <code>on&lt;event&gt;</code>设定事件：<code>return false</code> 。事件的设置不是 <code>addEventListener</code>。</li></ul><p>例：点击链接不会触发导航（navigation），浏览器不会执行任何操作：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag special-attr attr-name" style="color:#00a4db">onclick</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag special-attr attr-value value javascript language-javascript" style="color:#e3116c">event</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">.</span><span class="token tag special-attr attr-value value javascript language-javascript method function property-access" style="color:#d73a49">preventDefault</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">(</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">)</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">here</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">       // 主流方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag special-attr attr-name" style="color:#00a4db">onclick</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag special-attr attr-value value javascript language-javascript keyword control-flow" style="color:#00009f">return</span><span class="token tag special-attr attr-value value javascript language-javascript" style="color:#e3116c"> </span><span class="token tag special-attr attr-value value javascript language-javascript boolean" style="color:#36acaa">false</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Click here</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">           // 利用 return false</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>注：事件处理程序返回的值，除了<code>false</code>，都会被忽略。</p><ul><li><p>唯一的例外是从使用 <code>on&lt;event&gt;</code> 分配的处理程序中返回的 <code>return false</code>。</p></li><li><p>在所有其他情况下，<code>return</code> 值都会被忽略。并且，返回 <code>true</code> 没有意义。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="242-passive---告知不会阻止">2.4.2 passive - 告知不会阻止<a class="hash-link" href="#242-passive---告知不会阻止" title="标题的直接链接">​</a></h3><p>当被触发的事件，需要执行浏览器默认行为的时候，则事件监听被被触发后，会先执行所有用户定义的事件回调函数，然后再判断是否有 <code>event.preventDefault()</code>来阻止浏览器默认行为。这样导致的结果是，浏览器默认行为的执行，可能会有些许“延迟”和“卡顿” 。</p><p>所以，<code>addEventListener</code> 的可选项 <code>passive: true</code> 参数，告知了浏览器 <strong>一定</strong> 会执行浏览器默认行为，那么这样浏览器就不会一直等待，确认没有 <code>event.preventDefault()</code>来阻止浏览器默认行为，才能执行默认行为了。</p><p>比如：再移动设备上的用户手指滚动行为 <code>touchmove</code> ，浏览器默认行为会导致屏幕滚动。当浏览器检测到 <code>touchmove</code> 时，它必须首先执行事件回调函数内的代码，然后如果没有任何地方调用 <code>preventDefault</code>，则页面可以继续滚动。这可能会导致 UI 中不必要的延迟和“抖动”。</p><p><code>passive: true</code>  选项告诉浏览器，处理程序不会取消滚动。然后浏览器立即滚动页面以提供最大程度的流畅体验，并通过某种方式处理事件。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="243-defaultprevented---告知已阻止">2.4.3 defaultPrevented - 告知已阻止<a class="hash-link" href="#243-defaultprevented---告知已阻止" title="标题的直接链接">​</a></h3><p>如果默认行为被阻止，那么 <code>event.defaultPrevented</code> 属性为 <code>true</code>，否则为 <code>false</code>。</p><p>程序员可以通过该属性判断是否已阻止浏览器默认行为。</p><p>常见用法：</p><p>之前提到过，利用 <code>event.stopPropagation()</code> 来阻止事件冒泡，很有很多负面效果。此时可以用 <code>event.defaultPrevented</code> 代替。</p><p>用 <code>event.defaultPrevented</code> 来通知其他事件监听，该事件已经被处理过。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="25-创建自定义事件">2.5 创建自定义事件<a class="hash-link" href="#25-创建自定义事件" title="标题的直接链接">​</a></h2><p>内建事件类形成一个层次结构（hierarchy），类似于 DOM 元素类。根是内建的 <a href="http://www.w3.org/TR/dom/#event" target="_blank" rel="noopener noreferrer">Event</a> 类。</p><p>创建 <code>Event</code> 对象，：</p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> event </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Event</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">type</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>参数：</p><ul><li><p><strong>type</strong> —— 事件类型，可以是像这样 <code>&quot;click&quot;</code> 的字符串，或者我们自己的像这样 <code>&quot;my-event&quot;</code> 的参数。</p></li><li><p><strong>options</strong> —— 具有两个可选属性的对象：</p><ul><li><code>bubbles: true/false</code> —— 如果为 <code>true</code>，那么事件会冒泡。</li><li><code>cancelable: true/false</code> —— 如果为 <code>true</code>，那么“默认行为”就会被阻止。如果不是 <code>true</code>，<code>preventDefault</code> 将不起作用。</li></ul><p>默认情况下，以上两者都为 false：<code>{bubbles: false, cancelable: false}</code>。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="251-派发事件">2.5.1 派发事件<a class="hash-link" href="#251-派发事件" title="标题的直接链接">​</a></h3><p><code>addEventListener(type,event)</code> 是设置监听一个事件，当触发事件时，会执行回调函数。</p><p><code>elem.dispatchEvent(event)</code> 当被执行时，事件监听就会监听到，然后该事件就会被触发。</p><ul><li><code>elem.dispatchEvent(event)</code>：把事件在某个元素上“运行”。</li></ul><p>参数</p><ul><li><code>event</code> ：要被派发的事件对象。</li><li><code>elem</code> ：被用来初始化 事件 和 决定将会触发 目标.</li></ul><p>返回值</p><ul><li><p>如果该事件是可取消的 (<code>cancelable:true</code>)，该事件的事件处理方法曾经调用了 <code>Event.preventDefault()</code>，则：</p><p>返回值为<code>false</code>；否则返回<code>true</code>。</p></li></ul><p>举例：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">elem</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag special-attr attr-name" style="color:#00a4db">onclick</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag special-attr attr-value value javascript language-javascript function" style="color:#d73a49">alert</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">(</span><span class="token tag special-attr attr-value value javascript language-javascript string" style="color:#e3116c">&#x27;Click!&#x27;</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">)</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">;</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Autoclick</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// ... get &quot;elem&quot; element</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">let</span><span class="token script language-javascript"> event </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name">Event</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;click&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  elem</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">dispatchEvent</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">event</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="252-自定义">2.5.2 自定义<a class="hash-link" href="#252-自定义" title="标题的直接链接">​</a></h3><p>这是一个摘自于 <a href="https://www.w3.org/TR/uievents" target="_blank" rel="noopener noreferrer">UI 事件规范</a> 的一个简短的 UI 事件类列表：</p><ul><li><code>UIEvent</code></li><li><code>FocusEvent</code></li><li><code>MouseEvent</code></li><li><code>WheelEvent</code></li><li><code>KeyboardEvent</code></li><li>…</li></ul><p>如果想创建这样的事件，应该使用它们的名称创建，而不是 <code>new Event</code>。例如，<code>new MouseEvent(&quot;click&quot;)</code>。</p><ul><li>正确的构造器允许为该类型的事件指定<strong>标准属性</strong>，而 <code>new Event</code> 不允许这样做。</li><li>比如：鼠标事件的 <code>clientX/clientY</code> ：</li></ul><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> event </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">MouseEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;click&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">bubbles</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">cancelable</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">clientX</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">clientY</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clientX</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 100</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="253-自定义事件">2.5.3 自定义事件<a class="hash-link" href="#253-自定义事件" title="标题的直接链接">​</a></h3><p>自定义事件类型，使用 <code>new CustomEvent</code>。从技术上讲，<a href="https://dom.spec.whatwg.org/#customevent" target="_blank" rel="noopener noreferrer">CustomEvent</a> 和 <code>Event</code> 基本一样，除了：</p><ul><li>在第二个参数（是一个对象）中，<code>new CustomEvent</code> 可以添加一个附加的属性 <code>detail</code>，用来给事件传递信息额外的信息。</li></ul><p>例如：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">elem</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Hello for John!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 事件附带给处理程序的其他详细信息</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  elem</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">addEventListener</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;hello&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">event</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">event</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">detail</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">name</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  elem</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">dispatchEvent</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript keyword" style="color:#00009f">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name">CustomEvent</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;hello&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript literal-property property" style="color:#36acaa">detail</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"> </span><span class="token script language-javascript literal-property property" style="color:#36acaa">name</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;John&quot;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="254-取消默认行为">2.5.4 取消默认行为<a class="hash-link" href="#254-取消默认行为" title="标题的直接链接">​</a></h3><p><code>event.preventDefault()</code> 会取消事件的默认行为。在自定义事件中，如果执行了该函数，则<code>dispatchEvent(event)</code>事件派发会返回 <code>false</code>，然后程序员可以根据返回的 <code>false</code> 或者 <code>true</code> 来决定接下来的行为是否应该继续。</p><p>许多浏览器事件都有“默认行为”，例如，导航到链接，开始一个选择，等。</p><p>对于新的，自定义的事件，绝对没有默认的浏览器行为，但是分派（dispatch）此类事件的代码可能有自己的计划，触发该事件之后应该做什么。</p><p>通过调用 <code>event.preventDefault()</code>，事件处理程序可以发出一个信号，指出这些行为应该被取消。</p><p>在这种情况下，<code>elem.dispatchEvent(event)</code> 的调用会返回 <code>false</code>。那么分派（dispatch）该事件的代码就会知道不应该再继续。</p><p>让我们看一个实际的例子 —— 一只隐藏的兔子（可以是关闭菜单或者其他）。</p><p>在下面，你可以看到一个在其上分派了 <code>&quot;hide&quot;</code> 事件的 <code>#rabbit</code> 和 <code>hide()</code> 函数，以使所有感兴趣的各方面都知道这只兔子要隐藏起来。</p><p>任何处理程序都可以使用 <code>rabbit.addEventListener(&#x27;hide&#x27;,...)</code> 来监听该事件，并在需要时使用 <code>event.preventDefault()</code> 来取消该行为。然后兔子就不会藏起来了：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">pre</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">rabbit</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |\   /|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   \|_|/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   /. .\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  =\_Y_/=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   {&gt;o&lt;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">pre</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag special-attr attr-name" style="color:#00a4db">onclick</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag special-attr attr-value value javascript language-javascript function" style="color:#d73a49">hide</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">(</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">)</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Hide()</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">hide</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">let</span><span class="token script language-javascript"> event </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name">CustomEvent</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;hide&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript literal-property property" style="color:#36acaa">cancelable</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript boolean" style="color:#36acaa">true</span><span class="token script language-javascript"> </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 没有这个标志，preventDefault 将不起作用</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript operator" style="color:#393A34">!</span><span class="token script language-javascript">rabbit</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">dispatchEvent</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">event</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;The action was prevented by a handler&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">else</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      rabbit</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript">hidden </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript boolean" style="color:#36acaa">true</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  rabbit</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">addEventListener</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;hide&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">event</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript function" style="color:#d73a49">confirm</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;Call preventDefault?&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      event</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">preventDefault</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>这代码的执行顺序是这样的：</p><ol><li>为 button 绑定一个click事件，当button被click时，执行hide方法</li><li>为 rabbit 绑定一个hide事件，当rabbit收到hide事件时，弹出confirm</li><li>初始化程序执行完毕</li></ol><p>此后进入事件循环等待各个绑定的事件被触发</p><p>用户点击了button，触发了hide事件，依次执行了</p><ol><li>定义了一个自定义事件，事件名为 hide</li><li>发布该事件</li><li>绑定了hide事件的ribbit接收到了该事件，进入之前预设的逻辑，弹出confirm</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="255-事件的同步">2.5.5 事件的同步<a class="hash-link" href="#255-事件的同步" title="标题的直接链接">​</a></h3><p>通常事件是在队列中处理的。</p><p>也就是说，如果浏览器正在处理某个 <code>onclick</code>，这时发生了一个新的事件（例如鼠标移动了），那么它的处理程序会被排入队列，相应的 <code>mousemove</code> 处理程序将在 <code>onclick</code> 事件处理完成后被调用。</p><p>例外：一个事件是在另一个事件中发起的。</p><ul><li>例如，在某个事件中使用 <code>dispatchEvent</code>，这类事件将会被立即处理。在新的事件处理程序被调用之后，才会恢复到先前尚未执行完的事件处理程序中。</li><li>下面例子的执行顺序： 1 -&gt; nested -&gt; 2</li></ul><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">menu</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Menu (click me)</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 在 1 和 2 之间触发</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">addEventListener</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;menu-open&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;nested&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">//先为Menu按钮添加一个 menu-open 事件触发</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  menu</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function-variable function" style="color:#d73a49">onclick</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript number" style="color:#36acaa">1</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    menu</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript function" style="color:#d73a49">dispatchEvent</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript keyword" style="color:#00009f">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name">CustomEvent</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;menu-open&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">//派发（触发）刚自定义的 menu-open 事件</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript literal-property property" style="color:#36acaa">bubbles</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript boolean" style="color:#36acaa">true</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript number" style="color:#36acaa">2</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><p>如果希望让 <code>onclick</code> 不受 <code>menu-open</code> 或者其它嵌套事件的影响，优先被处理完毕。</p><p>那么，我们就可以将 <code>dispatchEvent</code>（或另一个触发事件的调用）放在 <code>onclick</code> 末尾，或者最好将其包装到零延迟的 <code>setTimeout</code> 中：</p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>标签：</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/docs/tags/dom">DOM</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/frontEnd/JavaScript"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">概述</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/frontEnd/JavaScript/DOM&amp;BOM/2 UI、表达控件、加载资源、杂项"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">UI、表达控件、加载资源、杂项</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#11-浏览器环境规格" class="table-of-contents__link toc-highlight">1.1 浏览器环境，规格</a><ul><li><a href="#111-整体结构" class="table-of-contents__link toc-highlight">1.1.1 整体结构</a></li><li><a href="#112-document-object-model" class="table-of-contents__link toc-highlight">1.1.2 Document Object Model</a></li><li><a href="#113-browser-object-model" class="table-of-contents__link toc-highlight">1.1.3 Browser Object Model</a></li><li><a href="#114-总结" class="table-of-contents__link toc-highlight">1.1.4 总结</a></li></ul></li><li><a href="#12-dom树" class="table-of-contents__link toc-highlight">1.2 DOM树</a><ul><li><a href="#121-举例" class="table-of-contents__link toc-highlight">1.2.1 举例</a></li><li><a href="#122-节点类型" class="table-of-contents__link toc-highlight">1.2.2 节点类型</a></li><li><a href="#123-特征" class="table-of-contents__link toc-highlight">1.2.3 特征</a></li></ul></li><li><a href="#13-遍历dom" class="table-of-contents__link toc-highlight">1.3 遍历DOM</a><ul><li><a href="#131-顶层节点document" class="table-of-contents__link toc-highlight">1.3.1 顶层节点：document</a></li><li><a href="#132-子节点" class="table-of-contents__link toc-highlight">1.3.2 子节点</a></li><li><a href="#133-dom-集合" class="table-of-contents__link toc-highlight">1.3.3 DOM 集合</a></li><li><a href="#134-基本导航navigation属性" class="table-of-contents__link toc-highlight">1.3.4 基本导航(navigation)属性</a><ul><li><a href="#1341-表格table" class="table-of-contents__link toc-highlight">1.3.4.1 表格(table)</a></li><li><a href="#1432-表单form" class="table-of-contents__link toc-highlight">1.4.3.2 表单(form)</a></li></ul></li></ul></li><li><a href="#14-搜索getelement-queryselector" class="table-of-contents__link toc-highlight">1.4 搜索：<code>getElement*</code>, <code>querySelector*</code></a><ul><li><a href="#141-根据-id-搜索" class="table-of-contents__link toc-highlight">1.4.1 根据 id 搜索</a></li><li><a href="#142-根据-css-选择器搜索" class="table-of-contents__link toc-highlight">1.4.2 根据 CSS 选择器搜索</a></li><li><a href="#143-其他搜索方式" class="table-of-contents__link toc-highlight">1.4.3 其他搜索方式</a></li><li><a href="#144-集合的实时性" class="table-of-contents__link toc-highlight">1.4.4 集合的实时性</a></li></ul></li><li><a href="#15-节点属性type-tag-content" class="table-of-contents__link toc-highlight">1.5 节点属性：type, tag, content</a><ul><li><a href="#151-查看类名" class="table-of-contents__link toc-highlight">1.5.1 查看类名</a></li><li><a href="#152-查看标签名" class="table-of-contents__link toc-highlight">1.5.2 查看标签名</a></li><li><a href="#153-获取修改元素的内容" class="table-of-contents__link toc-highlight">1.5.3 获取/修改元素的内容</a></li><li><a href="#154-获取修改文本注释节点的内容" class="table-of-contents__link toc-highlight">1.5.4 获取/修改文本、注释节点的内容</a></li><li><a href="#155-隐藏可见" class="table-of-contents__link toc-highlight">1.5.5 隐藏/可见</a></li></ul></li><li><a href="#16-特性-attributes-属性-properties" class="table-of-contents__link toc-highlight">1.6 特性 attributes, 属性 properties</a><ul><li><a href="#161-访问属性" class="table-of-contents__link toc-highlight">1.6.1 访问属性</a></li><li><a href="#162-访问特性" class="table-of-contents__link toc-highlight">1.6.2 访问特性</a></li><li><a href="#163-非标准的特性" class="table-of-contents__link toc-highlight">1.6.3 非标准的特性</a></li></ul></li><li><a href="#17-修改文档-document" class="table-of-contents__link toc-highlight">1.7 修改文档 document</a><ul><li><a href="#171-创建-dom-节点" class="table-of-contents__link toc-highlight">1.7.1 创建 DOM 节点</a></li><li><a href="#172-插入-dom-节点" class="table-of-contents__link toc-highlight">1.7.2 插入 DOM 节点</a></li><li><a href="#173-通用插入方式" class="table-of-contents__link toc-highlight">1.7.3 通用插入方式</a></li><li><a href="#174-移除移动节点" class="table-of-contents__link toc-highlight">1.7.4 移除/移动节点</a></li><li><a href="#175-克隆节点" class="table-of-contents__link toc-highlight">1.7.5 克隆节点</a></li><li><a href="#176-documentfragment-节点" class="table-of-contents__link toc-highlight">1.7.6 DocumentFragment 节点</a></li><li><a href="#177-过时用法" class="table-of-contents__link toc-highlight">1.7.7 过时用法</a></li></ul></li><li><a href="#18-样式和类" class="table-of-contents__link toc-highlight">1.8 样式和类</a><ul><li><a href="#181-class" class="table-of-contents__link toc-highlight">1.8.1 class</a></li><li><a href="#182-style" class="table-of-contents__link toc-highlight">1.8.2 style</a></li></ul></li><li><a href="#19-元素大小与滚动" class="table-of-contents__link toc-highlight">1.9 元素大小与滚动</a></li><li><a href="#110-window-尺寸与滚动" class="table-of-contents__link toc-highlight">1.10 Window 尺寸与滚动</a><ul><li><a href="#1101-滚动" class="table-of-contents__link toc-highlight">1.10.1 滚动</a></li></ul></li><li><a href="#111-坐标" class="table-of-contents__link toc-highlight">1.11 坐标</a><ul><li><a href="#1111-两种坐标的属性" class="table-of-contents__link toc-highlight">1.11.1 两种坐标的属性</a></li><li><a href="#1112-元素的相对位置" class="table-of-contents__link toc-highlight">1.11.2 元素的相对位置</a></li><li><a href="#1113-获取某处元素" class="table-of-contents__link toc-highlight">1.11.3 获取某处元素</a></li><li><a href="#1114-文档的坐标" class="table-of-contents__link toc-highlight">1.11.4 文档的坐标</a></li></ul></li><li><a href="#21-浏览器事件简介" class="table-of-contents__link toc-highlight">2.1 浏览器事件简介</a><ul><li><a href="#211-事件处理器" class="table-of-contents__link toc-highlight">2.1.1 事件处理器</a></li><li><a href="#212-事件对象" class="table-of-contents__link toc-highlight">2.1.2 事件对象</a></li></ul></li><li><a href="#22-冒泡和捕获" class="table-of-contents__link toc-highlight">2.2 冒泡和捕获</a><ul><li><a href="#221-冒泡" class="table-of-contents__link toc-highlight">2.2.1 冒泡</a></li><li><a href="#222-eventtarget" class="table-of-contents__link toc-highlight">2.2.2 event.target</a></li><li><a href="#223-停止冒泡" class="table-of-contents__link toc-highlight">2.2.3 停止冒泡</a></li><li><a href="#224-捕获" class="table-of-contents__link toc-highlight">2.2.4 捕获</a></li></ul></li><li><a href="#23-事件委托" class="table-of-contents__link toc-highlight">2.3 事件委托</a><ul><li><a href="#231-行为模式" class="table-of-contents__link toc-highlight">2.3.1 行为模式</a></li><li><a href="#232-总结" class="table-of-contents__link toc-highlight">2.3.2 总结</a></li></ul></li><li><a href="#24-浏览器默认行为" class="table-of-contents__link toc-highlight">2.4 浏览器默认行为</a><ul><li><a href="#241-阻止默认行为" class="table-of-contents__link toc-highlight">2.4.1 阻止默认行为</a></li><li><a href="#242-passive---告知不会阻止" class="table-of-contents__link toc-highlight">2.4.2 passive - 告知不会阻止</a></li><li><a href="#243-defaultprevented---告知已阻止" class="table-of-contents__link toc-highlight">2.4.3 defaultPrevented - 告知已阻止</a></li></ul></li><li><a href="#25-创建自定义事件" class="table-of-contents__link toc-highlight">2.5 创建自定义事件</a><ul><li><a href="#251-派发事件" class="table-of-contents__link toc-highlight">2.5.1 派发事件</a></li><li><a href="#252-自定义" class="table-of-contents__link toc-highlight">2.5.2 自定义</a></li><li><a href="#253-自定义事件" class="table-of-contents__link toc-highlight">2.5.3 自定义事件</a></li><li><a href="#254-取消默认行为" class="table-of-contents__link toc-highlight">2.5.4 取消默认行为</a></li><li><a href="#255-事件的同步" class="table-of-contents__link toc-highlight">2.5.5 事件的同步</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">分享</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/frontEnd/JavaScript">前端</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/code/algorithm">算法笔记</a></li><li class="footer__item"><a class="footer__link-item" href="/project">我的项目</a></li></ul></div><div class="col footer__col"><div class="footer__title">社交媒体</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/about">关于我</a></li><li class="footer__item"><a href="https://github.com/moxyNJ" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/user/2005151873514024" target="_blank" rel="noopener noreferrer" class="footer__link-item">掘金<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items"><li class="footer__item"><a href="https://www.ninjee.co" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ninjee 的前端篮子</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p>Copyright © 2022 Ninjee Built with Docusaurus.</p><p><a href="http://beian.miit.gov.cn/">晋ICP备2021017941号-2</a></p></div></div></div></footer></div>
<script src="/assets/js/runtime~main.6ad002de.js"></script>
<script src="/assets/js/main.fe74e720.js"></script>
</body>
</html>