---
title: 8. è´ªå¿ƒç®—æ³•
sidebar_position: 8
date: 2022-06-01
tags: [algorithm]
---

## ä»€ä¹ˆæ˜¯è´ªå¿ƒç®—æ³•

> ä»£ç éšæƒ³å½•
>
> - **è´ªå¿ƒçš„æœ¬è´¨æ˜¯é€‰æ‹©æ¯ä¸€é˜¶æ®µçš„å±€éƒ¨æœ€ä¼˜ï¼Œä»è€Œè¾¾åˆ°å…¨å±€æœ€ä¼˜**ã€‚
> - åˆ·é¢˜æˆ–è€…é¢è¯•çš„æ—¶å€™ï¼Œæ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹æ„Ÿè§‰å¯ä»¥å±€éƒ¨æœ€ä¼˜æ¨å‡ºæ•´ä½“æœ€ä¼˜ï¼Œè€Œä¸”æƒ³ä¸åˆ°åä¾‹ï¼Œé‚£ä¹ˆå°±è¯•ä¸€è¯•è´ªå¿ƒã€‚
>
> - é¢è¯•ä¸­åŸºæœ¬ä¸ä¼šè®©é¢è¯•è€…ç°åœºè¯æ˜è´ªå¿ƒçš„åˆç†æ€§ï¼Œä»£ç å†™å‡ºæ¥è·‘è¿‡æµ‹è¯•ç”¨ä¾‹å³å¯ï¼Œæˆ–è€…è‡ªå·±èƒ½è‡ªåœ†å…¶è¯´ç†ç”±å°±è¡Œäº†ã€‚



## 455. åˆ†å‘é¥¼å¹²

- [455. åˆ†å‘é¥¼å¹²](https://leetcode.cn/problems/assign-cookies/)
- 0601ï¼Œeasyï¼Œquick
- è´ªå¿ƒ

åªéœ€è¦å¯¹ ğŸª gï¼Œå’Œ ğŸ§’ s è¿›è¡Œ sortï¼Œç„¶åç¡®ä¿æ¯ä¸ªé¥¼å¹² `s[j]` æ˜¯å¤§äºå°å­© `g[i]`çš„ï¼Œä¸”æ˜¯æœ€å°å€¼ã€‚

![20201123161809624](images/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/20201123161809624.png)

```js
var findContentChildren = function (g, s) {
  s.sort((x, y) => x - y);
  g.sort((x, y) => x - y);

  // é¥¼å¹² s[j] æ˜¯å¤§äº g[i] çš„æœ€å°å€¼
  let i = 0, j = 0;
  while (s[j] && g[i]) {
    while (s[j] && s[j] < g[i]) j++;
    if (!s[j]) break;
    i++, j++;
  }
  return i;
};
```



- [376. æ‘†åŠ¨åºåˆ—](https://leetcode.cn/problems/wiggle-subsequence/)
- 0602ï¼Œmidï¼Œanswer
- è´ªå¿ƒï¼ŒåŠ¨æ€è§„åˆ’

#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ

å¯¹è¿™ç§é—®é¢˜ï¼Œè‡ªå·±èƒ½ç”»å‡ºä¸€ä¸ªå›¾æ¸…æ™°çš„å›¾ï¼Œå¯ä»¥å¿«é€Ÿçš„æ‰¾åˆ°è§£é¢˜æ€è·¯ã€‚

ä¸‹å›¾å¯ä»¥çœ‹åˆ°ï¼Œå½“å‡ºç°ç›¸ç­‰ã€è¿ç»­é€’å¢ã€è¿ç»­é€’å‡çš„æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬è·³è¿‡ä¸­é—´æ•°ï¼Œå»åˆ¤æ–­ä¸‹ä¸€ä¸ªæ•°å³å¯ã€‚

å¤æ‚åº¦ï¼šæ—¶é—´ï¼ˆ*O(n)*ï¼‰ï¼Œç©ºé—´ï¼ˆ*O(1)*ï¼‰ã€‚

![20201124174327597](images/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/20201124174327597.png)

- preDiff ç»Ÿè®¡ä¸Šä¸€ä¸ªå¯å‚è€ƒçš„å·®å€¼ï¼›
- curDiff ç»Ÿè®¡å½“å‰çš„å·®å€¼ï¼Œåªæœ‰å½“å‰å·®å€¼å’Œä¸Šä¸€ä¸ªå·®å€¼ä¸ç›¸åŒæ—¶ï¼Œç»“æœ count æ‰ +1ï¼›å¦åˆ™å°±è·³è¿‡ï¼Œè¿›è¡Œåˆ¤æ–­ä¸‹ä¸€ä¸ªæ•°å­—ã€‚
- å› ä¸ºè‡³å°‘é•¿åº¦ä¸º 2 ä»¥ä¸Šï¼Œæ‰å¯ä»¥æœ‰å·®å€¼çš„è®°å½•ï¼Œæ‰€ä»¥ index ä» 1 å¼€å§‹ã€count æœ€å°å€¼ä¸º 1ã€‚

```js
var wiggleMaxLength = function (nums) {
  if (nums.length === 1) return 1; // ç‰¹ä¾‹
  let preDiff = 0; // åªæœ‰åœ¨åˆå§‹åŒ–æ—¶ï¼ŒpreDiff = 0ï¼Œé™¤æ­¤ä¹‹å¤–ä¸€å®šæ˜¯å¤§äº/å°äº0çš„
  let count = 1;

  for (let index = 1; index < nums.length; index++) {
    // å½“å‰å·®å€¼
    const curDiff = nums[index] - nums[index - 1];
    // å¦‚æœæ²¡æœ‰å·®å€¼ä¸º0ã€å‡ºç°é€’å¢ / é€’å‡åºåˆ—ï¼Œåˆ™è·³è¿‡ã€‚
    if (curDiff > 0 && preDiff <= 0 || curDiff < 0 && preDiff >= 0) {
      count++;
      preDiff = curDiff;
    }
  }
  return count;
};
```

#### æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’

å¯ä»¥å‘ç°ï¼Œå¯¹äºæˆ‘ä»¬å½“å‰è€ƒè™‘çš„è¿™ä¸ªæ•°ï¼Œè¦ä¹ˆæ˜¯ä½œä¸ºå±±å³°ï¼ˆå³nums[i] > nums[i-1]ï¼‰ï¼Œè¦ä¹ˆæ˜¯ä½œä¸ºå±±è°·ï¼ˆå³nums[i] < nums[i - 1]ï¼‰ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼š*O(n)*ï¼Œ ç©ºé—´å¤æ‚åº¦ï¼š*O(1)*

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ²¡æœ‰è¿ç»­ç›¸ç­‰ã€è¿ç»­é€’å¢ã€è¿ç»­é€’å‡çš„æƒ…å†µï¼š

- å¦‚æœå½“å‰æ˜¯å±±å³°ï¼Œå½“å‰å±±å³°çš„æœ€é•¿åºåˆ—å€¼å°±æ˜¯å±±è°· + 1ï¼š `up = down + 1`ï¼›
- å¦‚æœå½“å‰æ˜¯å±±è°·ï¼Œå½“å‰å±±è°·çš„æœ€é•¿åºåˆ—å€¼å°±æ˜¯å±±å³° + 1ï¼š `down = up + 1`ï¼›

ä½†å¦‚æœå‘ç”Ÿä¸é¡ºçš„æ—¶å€™ï¼ŒåŠäº§ç”Ÿäº†è¿ç»­ç›¸ç­‰ã€è¿ç»­é€’å¢ã€è¿ç»­é€’å‡çš„æƒ…å†µï¼š

- å±±è°· down å’Œå±±å³°  up çš„å€¼å°±ä¸å‘ç”Ÿæ”¹å˜ã€‚
- æ¯”å¦‚å½“å‰æ˜¯å±±å³°ï¼Œ`up = Math.max( down + 1, up)`ï¼Œå› ä¸ºåœ¨è¿ç»­é€’å¢çš„æœ€åˆï¼Œup å·²ç»è¢«èµ‹å€¼ä¸º `down + 1`ï¼Œæ­¤æ—¶åç»­å‘ç”Ÿè¿ç»­é€’å¢ / è¿ç»­ç›¸ç­‰ï¼Œup çš„å€¼å°±ä¸ä¼šå†å¢åŠ äº†ï¼Œè€Œæ˜¯ä¸€ç›´ç»´æŒ `down + 1` ä¸å˜ã€‚

```js
var wiggleMaxLength = function (nums) {
  if (nums.length === 1) return 1;

  let down = 1; // è€ƒè™‘å‰iä¸ªæ•°ï¼Œå½“ç¬¬iä¸ªå€¼ä½œä¸ºå³°è°·æ—¶çš„æƒ…å†µï¼ˆåˆ™ç¬¬i-1æ˜¯å³°é¡¶ï¼‰
  let up = 1;   // è€ƒè™‘å‰iä¸ªæ•°ï¼Œå½“ç¬¬iä¸ªå€¼ä½œä¸ºå³°é¡¶æ—¶çš„æƒ…å†µï¼ˆåˆ™ç¬¬i-1æ˜¯å³°è°·ï¼‰

  for (let i = 1; i < nums.length; i++) {
    // å½“å‰æ˜¯å³°è°·ï¼šå¦‚æœä¹‹å‰ç»å†è¿‡è¿ç»­é€’å‡ / è¿ç»­ç›¸ç­‰ï¼Œè¿™é‡Œå°±ä¼šç”¨ down å€¼ï¼›
    if (nums[i - 1] > nums[i])
      down = Math.max(up + 1, down);

    // å½“å‰æ˜¯å³°é¡¶ï¼šå¦‚æœä¹‹å‰ç»å†è¿‡è¿ç»­é€’å¢ / è¿ç»­ç›¸ç­‰ï¼Œè¿™é‡Œå°±ä¼šç”¨ up å€¼ï¼›
    if (nums[i - 1] < nums[i])
      up = Math.max(down + 1, up)

    // console.log(Math.max(nums[i] - nums[i - 1]), down, up);
  }
  return Math.max(down, up);
};
```



## 53. æœ€å¤§å­æ•°ç»„å’Œ

- [53. æœ€å¤§å­æ•°ç»„å’Œ](https://leetcode.cn/problems/maximum-subarray/)
- 0603ï¼Œeasyï¼Œquick
- è´ªå¿ƒï¼ŒåŠ¨æ€è§„åˆ’

#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)

- æ³¨æ„æˆ‘å½“æ—¶æ€»å¼„é”™çš„åœ°æ–¹ï¼šmax çš„åˆå§‹åŒ–ä¸€å®šæ˜¯ `-Infinity`ï¼›

```js
var maxSubArray = function (nums) {
  let max = -Infinity; // åˆå§‹åŒ–çš„å’Œä¸€å®šæ˜¯ -Inifinity
  let count = 0;
  for (let i = 0; i < nums.length; i++) {
    count += nums[i];
    max = Math.max(count, max);
    // å¦‚æœå½“å‰å’Œä¸ºè´Ÿæ•°ï¼Œåˆ™ä¸¢å¼ƒ
    if (count < 0) count = 0;
  }
  return max;
};
```

å¦ä¸€ç§æ€è·¯ï¼Œä¸¤ä¸ªä¸åŒä¹‹å¤„ï¼š

1. åˆå§‹åŒ–å€¼ä¸º `nums[0]`ï¼Œ`for` å¾ªç¯ä» 1 å¼€å§‹ï¼›
2. ä¸¢å¼ƒåŸæœ‰å’Œçš„å®é™…æ”¾åœ¨ä¸‹ä¸€æ¬¡å¾ªç¯çš„å¼€å¤´ã€‚

```js
var maxSubArray = function (nums) {
  let max = nums[0];
  let count = nums[0];
  
  for (let i = 1; i < nums.length; i++) {
    // å¦‚æœå½“å‰å’Œä¸ºè´Ÿæ•°ï¼Œä¸”ä¸‹ä¸€ä¸ªæ•°å­—å¤§äºå½“å‰å’Œï¼Œä¸¢å¼ƒåŸæœ‰å’Œ
    if (count < 0 && nums[i] > count) count = nums[i];
    else count += nums[i];
    max = Math.max(count, max);
  }
  return max;
};
```

#### æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(n)

- `dp[i]` ï¼šå½“å‰çš„æœ€å¤§è¿ç»­å­åºåˆ—å’Œï¼ˆåŒ…æ‹¬ `i ` æœ¬èº«ï¼‰ã€‚
- çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š`dp[i] = max(dp[i - 1] + nums[i], nums[i]);` 
  - ä¸Šä¸€ä¸ªæœ€å¤§å’Œ + å½“å‰ `nums[i]` ï¼Œä¸å½“å‰æ•°å­— `nums[i]` å“ªä¸€ä¸ªæ›´å¤§ï¼Ÿ

```js
var maxSubArray = function (nums) {
  const dp = new Array(nums.length);
  dp[0] = nums[0];
  let max = dp[0];

  for (let i = 1; i < nums.length; i++) {
    dp[i] = Math.max(dp[i - 1] + nums[i], nums[i]); // çŠ¶æ€è½¬ç§»å…¬å¼
    max = Math.max(max, dp[i]);  // max: ä¿å­˜dp[i]çš„æœ€å¤§å€¼
  }
  return max;
};
```



## 122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II

- [122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/)
- 0603ï¼Œmidï¼Œquick
- è´ªå¿ƒï¼ŒåŠ¨æ€è§„åˆ’

#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒç®—æ³•

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼›ç©ºé—´å¤æ‚åº¦ï¼šO(1)

è´ªå¿ƒï¼š ç»Ÿè®¡æ¯ä¸€å¤©å’Œä¸Šä¸€å¤©ä¹‹é—´çš„è‚¡ç¥¨å·®å€¼ï¼Œæ‰¾å±€éƒ¨æœ€ä¼˜ã€‚åªè¦ `prices[i] - prices[i-1] > 0`ï¼Œå°± æŠŠå½“å‰åˆ©æ¶¦åŠ å…¥ profit ä¸­ï¼›

```js
var maxProfit = function (prices) {
  let profit = 0;

  for (let i = 1; i < prices.length; i++) {
    if (prices[i] - prices[i - 1] > 0)
      profit += prices[i] - prices[i - 1]
  }

  return profit;
};
```

#### æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’

é€Ÿåº¦æ…¢ï¼šæ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼›ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚

åŠ¨æ€è§„åˆ’å¯¹æ¯ä¸€å¤©å¯¹è‚¡ç¥¨ æŒæœ‰ / ä¸æŒæœ‰ ä¸¤ä¸ªçŠ¶æ€è¿›è¡Œæ¨¡æ‹Ÿï¼Œå¾—å‡ºæ¯ä¸€å¤©çš„æœ€å¤§æ”¶ç›Šã€‚

å®šä¹‰ `dp`ï¼š

- `dp[i][0]`ï¼šè¡¨ç¤ºç¬¬ i å¤©äº¤æ˜“å®Œåï¼Œä¸æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ï¼›
- `dp[i][1]`ï¼šè¡¨ç¤ºç¬¬ i å¤©äº¤æ˜“å®Œåï¼ŒæŒæœ‰è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ã€‚

åˆ†æä¹°å–è‚¡ç¥¨çš„ä¸¤ä¸ªåŠ¨ä½œï¼š

- è‚¡ç¥¨ä¹°å…¥ã€‚è‚¡ç¥¨ä¹°å…¥åï¼Œå½“å‰ç°é‡‘ = ä¹‹å‰ç°é‡‘ - è‚¡ç¥¨ä»·æ ¼ï¼›
- è‚¡ç¥¨å–å‡ºã€‚è‚¡ç¥¨å–å‡ºåï¼Œå½“å‰ç°é‡‘ = ä¹‹å‰ç°é‡‘ + è‚¡ç¥¨ä»·æ ¼ï¼›

å¾—å‡ºä¸¤ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

1. ç¬¬ `i` å¤©æŒæœ‰è‚¡ç¥¨ å³ `dp[i][0]`ï¼Œ å¯ä»¥ç”±ä¸¤ä¸ªçŠ¶æ€æ¨å‡ºæ¥ï¼š

   - `dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1] - prices[i]);`

   - ï¼ˆä¸å–å‡ºï¼‰ç¬¬ `i-1` å¤©å°±æŒæœ‰è‚¡ç¥¨ï¼Œå½“å‰å…ˆè¿›å’Œæ˜¨å¤©æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘ä¸€æ ·ï¼Œå³ï¼š`dp[i - 1][0]`ã€‚
     - å› ä¸ºè¿™é‡Œæ²¡æœ‰ä»»ä½•å–å‡ºã€ä¹°å…¥çš„æ“ä½œï¼Œæ‰€ä»¥è‡ªå·±æ‰‹é‡Œçš„ç°é‡‘æ˜¯æ²¡å‘ç”Ÿå˜åŒ–çš„ã€‚

   - ï¼ˆæ²¡ä¹°è¿‡ï¼‰ç¬¬ `i` å¤©ä¹°å…¥è‚¡ç¥¨ï¼Œæ‰€å¾—ç°é‡‘ = [æ˜¨å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘] - [ä»Šå¤©è‚¡ç¥¨ä»·æ ¼]ï¼Œå³ï¼š`dp[i - 1][1] - prices[i]`ï¼›
     - å› ä¸ºä»Šå¤©ä¹°å…¥äº†è‚¡ç¥¨ï¼Œç°é‡‘è‚¯å®šè¦å‡å»ä¹°è‚¡ç¥¨çš„ä»·æ ¼ã€‚

2. ç¬¬ `i`å¤©ä¸æŒæœ‰è‚¡ç¥¨ å³ `dp[i][1]`ï¼Œ å¯ä»¥ç”±ä¸¤ä¸ªçŠ¶æ€æ¨å‡ºæ¥ï¼š
   - ï¼ˆæ²¡ä¹°è¿‡ï¼‰ç¬¬ `i-1` å¤©å°±æ²¡æŒæœ‰è‚¡ç¥¨ï¼Œé‚£ä¹ˆæ‰€å¾—ç°é‡‘å’Œæ˜¨å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘ç›¸åŒ å³ï¼š`dp[i - 1][1]`ï¼›
   - ï¼ˆä»Šå¤©å–ï¼‰ç¬¬ `i` å¤©æ²¡æŒæœ‰è‚¡ç¥¨ï¼ŒæŒ‰ç…§ä»Šå¤©è‚¡ç¥¨ä»·æ ¼å–å‡ºåï¼Œå‰©ä½™çš„ç°é‡‘å°±æ˜¯æ‰€å¾—ç°é‡‘ï¼š`prices[i] + dp[i - 1][0]`ã€‚

```js
const maxProfit = (prices) => {
    const dp = Array.from(new Array(prices.length), () => new Array(2).fill(0));
    dp[0][0] = 0 - prices[0];  // æŒæœ‰
    dp[0][1] = 0;  // ä¸æŒæœ‰
    for (let i = 1; i < prices.length; i++) {
        // æŒæœ‰:å‰ä¸€å¤©æŒæœ‰ï¼Œå‰ä¸€å¤©æ²¡æŒæœ‰ï¼ˆè¦ä¹°å…¥ï¼‰
        dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1] - prices[i]);
        // ä¸æŒæœ‰: å‰ä¸€å¤©æŒæœ‰ï¼ˆè¦å–å‡ºï¼‰ï¼Œå‰ä¸€å¤©æ²¡æŒæœ‰
        dp[i][1] = Math.max(dp[i - 1][0] + prices[i], dp[i - 1][1]);
    }
    // è¿”å›æœ€åä¸€å¤©å–å‡ºæ‰€æœ‰è‚¡ç¥¨ï¼Œå³ä¸æŒæœ‰çš„æƒ…å†µ
    return dp[prices.length - 1][1];
};
```



## 55. è·³è·ƒæ¸¸æˆ

- [55. è·³è·ƒæ¸¸æˆ](https://leetcode.cn/problems/jump-game/)
- 0603ï¼Œmidï¼Œnormal
- è´ªå¿ƒ

#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ

é¢˜ç›®å…³é”®ç‚¹ï¼šä¸è¦æ‹˜æ³¥äºæ¯æ¬¡ç©¶ç«Ÿæ€ä¹ˆè·³è·³å‡ æ­¥ï¼Œè€Œæ˜¯çœ‹è¦†ç›–èŒƒå›´ï¼ŒèŒƒå›´å†…çš„ä½ç½®æ˜¯ä¸€å®šå¯ä»¥è·³åˆ°çš„ï¼Œä¸ç”¨ç®¡æ˜¯æ€ä¹ˆè·³åˆ°çš„è¿™ä¸ªä½ç½®ã€‚

![20201124154758229](images/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/20201124154758229.png)

è´ªå¿ƒçš„æ€è·¯ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå˜é‡ jumpï¼Œè¡¨ç¤ºå½“å‰æˆ‘ä»¬å¯ä»¥è¾¾åˆ°çš„æœ€è¿œèŒƒå›´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ`[0, jump]` å†…çš„æ‰€æœ‰ä½ç½®æˆ‘ä»¬éƒ½å¯ä»¥è®¿é—®ã€‚

- ç„¶åé€šè¿‡ for å¾ªç¯éå† `[0, jump]` è¿™ä¸ªåŒºé—´ï¼Œä¸€æ—¦ `jump >= nums.length - 1` è¡¨æ˜æ­¤æ—¶ jump çš„èŒƒå›´å·²ç»åŒ…æ‹¬äº†æ•°ç»„çš„ç»ˆç‚¹ã€‚è¿”å› trueï¼›åä¹‹ï¼Œå¦‚æœ for éå†å®Œæ¯•ï¼Œéƒ½æ²¡æœ‰è¾¾åˆ°ç»ˆç‚¹ï¼Œé‚£å°±è¿”å› falseã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ï¼š*O(n)* 
- ç©ºé—´å¤æ‚åº¦ï¼š*O(1)*

```js
var canJump = function (nums) {
    if (nums.length === 1) return true;
    let jump = 0; // å¯ä»¥è·³åˆ°çš„èŒƒå›´

    for (let i = 0; i <= jump; i++) {
      jump = Math.max(jump, i + nums[i]);
      if (jump >= nums.length - 1) return true;
    }
    return false;
};
```



#### æ–¹æ³•äºŒï¼šè´ªå¿ƒï¼ˆå€’ç€åˆ†æï¼‰

æˆ‘æƒ³åˆ°çš„æ–¹æ³•ï¼Œä½†æ›´å¤æ‚ã€‚è€ƒè™‘è‡ªå·±å½“æ—¶ä¸ºä»€ä¹ˆæ²¡æƒ³ä»æ­£é¢ç›´æ¥è§£å†³ï¼Ÿä¸¤ä¸ªåŸå› ï¼š

- å¥½å¤šé¢˜çš„åˆ†æéƒ½æ˜¯å€’ç€æ¥ï¼Œè¿™é‡Œæœ‰äº†æ€ç»´æƒ¯æ€§ï¼Œæƒ³åˆ°å€’ç€èƒ½åšï¼Œå°±ç›´æ¥åšäº†ã€‚
- çœ‹åˆ°éœ€è¦ä¸¤å±‚ for å¾ªç¯ç•¥å¤æ‚ï¼Œä½†æ²¡ä»”ç»†è€ƒè™‘æ˜¯å¦å¯ä»¥æœ‰å¦ä¸€ç§æ–¹æ³•ï¼Œåº”è¯¥è€ƒè™‘æ›´å…¨é¢ã€‚

å®šä¹‰ä¸€ä¸ªæ•°ç»„ dpï¼Œdp[i] è¡¨ç¤ºå½“å‰ä½ç½®æ˜¯å¦å¯ä»¥è¾¾åˆ°ç»ˆç‚¹å¦‚æœå¯ä»¥ä¸º trueï¼Œä¸å¯ä»¥ä¸º falseã€‚

- ä»æœ€åä¸€æ­¥ `nums[nums.length - 2]`ï¼Œå€’ç€å¾€å‰åˆ†æï¼šå¦‚æœå¯ä»¥è¾¾åˆ°ï¼Œå°±ç½®ä¸º trueï¼Œä¸å¯ä»¥è¾¾åˆ°å°±ç½®ä¸º falseã€‚åˆ†ææ­¥éª¤ï¼š
  1. è®¡ç®—å½“å‰ä½ç½®å¯ä»¥è¾¾åˆ°çš„èŒƒå›´ jumpã€‚å¦‚æœè·³è·ƒèŒƒå›´å¤§äºç»ˆç‚¹ `jump > lastIndex` ï¼Œåˆ™ä¸º trueï¼›
  2. åˆ©ç”¨ for å¾ªç¯ï¼Œå¯»æ‰¾ jump çš„èŒƒå›´å†…æ˜¯å¦æœ‰ä¸€ä¸ªç‚¹å¯ä»¥è¾¾åˆ°ç»ˆç‚¹ï¼Œæœ‰åˆ™ä¸º trueï¼›

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ï¼š*O(n x n!)* ï¼ˆæœ€åï¼ŒåµŒå¥—çš„ for å¾ªç¯æ¬¡æ•°æ— æ³•ä¿è¯ï¼‰ï¼›
- ç©ºé—´å¤æ‚åº¦ï¼š*O(n^2)*ï¼›

```js
var canJump = function (nums) {
    if (nums.length === 1) return true;
    const lastIndex = nums.length - 1;
    // ä»æœ€åå¾€å‰ï¼Œå¦‚æœèƒ½åˆ°è¾¾å°±ä¸ºtrueï¼Œä¸èƒ½åˆ°è¾¾å°±ä¸ºfalse
    const dp = Array(lastIndex).fill(false);
    for (let i = lastIndex - 1; i >= 0; i--) {
        const jump = i + nums[i];
        // ç›´æ¥è·³åˆ°ç»“å°¾
        if (jump >= lastIndex) dp[i] = true;
        else {
            // æŸ¥æ‰¾ jump èŒƒå›´å†…æœ‰æ²¡æœ‰ true:
            for (let j = i + 1; j <= jump; j++) {
                if (dp[j]) {
                    dp[i] = true;
                    break;
                }
            }
        }
    }
    return dp[0];
};
```



## 45. è·³è·ƒæ¸¸æˆ II

- [45. è·³è·ƒæ¸¸æˆ II](https://leetcode.cn/problems/jump-game-ii/)
- 0604ï¼Œmidï¼Œanswer
- è´ªå¿ƒ

#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ

![å›¾ç‰‡](images/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/9d5016c6e660a452991185d23b7b4d98853b7c300453d79715b5e9a206085e44-%25E5%259B%25BE%25E7%2589%2587.png)

- `while` å¾ªç¯ï¼Œæ¯èµ·è·³ä¸€æ¬¡ï¼Œè¿›è¡Œä¸€æ¬¡ while å¾ªç¯ã€‚å½“å¯ä»¥è¾¾åˆ°ç»ˆç‚¹æ—¶ï¼Œå¾ªç¯ç»ˆæ­¢ï¼›
- `for` å¾ªç¯ï¼Œæ¯æ¬¡èµ·è·³åï¼ˆä¸Šä¸€æ¬¡èµ·è·³ï¼‰ï¼Œéƒ½æœ‰ä¸€ä¸ªè¦†ç›–èŒƒå›´ï¼ŒèŒƒå›´å†…çš„ä½ç½®ä¸Šæ¬¡èµ·è·³åéƒ½å¯ä»¥è¾¾åˆ°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ¬æ¬¡èµ·è·³å¯ä»¥æ˜¯è¿™ä¸ªèŒƒå›´å†…çš„æ‰€æœ‰ä½ç½®ã€‚åˆ©ç”¨ for å¾ªç¯å»éå†èŒƒå›´å†…çš„æ‰€æœ‰ä½ç½®ï¼Œç„¶åç»Ÿè®¡å‡ºæœ¬æ¬¡èµ·è·³åï¼Œå¯ä»¥è¾¾åˆ°çš„è¦†ç›–èŒƒå›´ã€‚
- `range` ï¼šfor å¾ªç¯éå† `[start, end]` å†…çš„èµ·è·³ç‚¹ï¼›è€Œ `range` éš for å¾ªç¯çš„éå†ï¼Œéšæ—¶æ›´æ–°å¯ä»¥è¾¾åˆ°çš„æœ€è¿œä½ç½®ã€‚å½“ for å¾ªç¯ç»“æŸæ—¶ï¼Œä¸‹ä¸€ç»„  `[start, end]`  çš„å€¼å°±æ˜¯ï¼š`[end + 1, range]`

```js
var jump = function (nums) {
  let start = 0, end = 0;
  let step = 0;

  while (end < nums.length - 1) {
    // æœ¬æ¬¡èµ·è·³èŒƒå›´:[start, end]
    let range = end;
    for (let i = start; i <= end; i++) {
      range = Math.max(range, i + nums[i]);
    }
    // æ›´æ–°èŒƒå›´:[start, end]
    [start, end] = [end + 1, range];
    step++;
  }
  return step;
};
```

#### æ–¹æ³•äºŒï¼šè´ªå¿ƒï½œä¼˜åŒ–ä»£ç 

å¯ä»¥å°† while å’Œ for åˆå¹¶èµ·æ¥ã€‚

- for çš„ä½œç”¨å°±æ˜¯éå† `[start, end]` å†…çš„æ‰€æœ‰ç‚¹ï¼Œç„¶åæ‰¾åˆ°ä¸‹ä¸€ä¸ª `[start, end]` çš„èŒƒå›´ï¼Œæœ€ç»ˆç›®çš„æ˜¯æ¯ä¸€ä¸ªèŒƒå›´ä»£è¡¨ä¸€ä¸ª stepï¼Œæœ€åè¦ç´¯è®¡ step çš„å€¼ã€‚

è€Œä»”ç»†æƒ³æ¥ï¼Œå…¶å®æˆ‘ä»¬åªéœ€è¦é€šè¿‡ end å°±å¯ä»¥åˆ‡åˆ†å¼€æ¯æ¬¡çš„èŒƒå›´ï¼š

- for å¾ªç¯éå† nums çš„æ¯ä¸€ä¸ªæˆå‘˜ï¼Œæ¨¡æ‹Ÿæ¯ä¸€ä¸ªç‚¹åšä¸ºèµ·è·³ç‚¹ã€‚
- æ¯æ¬¡çš„èµ·è·³èŒƒå›´éƒ½æ˜¯ï¼š`[... end]`ï¼Œå³ start ä¸åšè®°å½•ï¼Œå€¼è®°å½•æœ€åä¸€ä¸ª end å€¼ã€‚
- range çš„ä½œç”¨ä¾ç„¶ä¸å˜ï¼Œæ›´æ–°åœ¨å½“å‰ step å†…çš„æ‰€æœ‰è¦†ç›–çš„ç‚¹ `[... start]` å¯ä»¥è¾¾åˆ°çš„æœ€è¿œè·ç¦»ï¼Œæœ€åç”¨æ¥æ›´æ–° endã€‚

```js
var jump = function (nums) {
  let end = 0;
  let step = 0;
  let range = end;
  for (let i = 0; i < nums.length - 1; i++) {
    range = Math.max(range, i + nums[i]);
    // å‰ªæï¼šå¦‚æœrangeå·²ç»è¦†ç›–åˆ°æœ€åä¸€ä¸ªå€¼äº†ï¼Œé‚£ä¹ˆå¯ä»¥æå‰è¿”å›ç»“æœï¼Œå› ä¸ºè·³è¿‡äº†step++ï¼Œæ‰€ä»¥è¦è®© step + 1
    if (range >= nums.length - 1) return step + 1;
    // éå†å®Œä¸€ä¸ªèµ·è·³èŒƒå›´:[... end]
    if (i === end) {
      end = range;
      step++;
    }
  }
  return step;
};
```



## 1005. K æ¬¡å–ååæœ€å¤§åŒ–çš„æ•°ç»„å’Œ

- [1005. K æ¬¡å–ååæœ€å¤§åŒ–çš„æ•°ç»„å’Œ](https://leetcode.cn/problems/maximize-sum-of-array-after-k-negations/)
- 0604ï¼Œeasyï¼Œquick
- è´ªå¿ƒ

#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒï½œæˆ‘çš„æ–¹æ³•

æ¯”è¾ƒç¬¨ã€‚

å…±æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

1. æ•°ç»„ä»å°åˆ°å¤§æ’åºï¼›
2. for å¾ªç¯ï¼Œå¯»æ‰¾æ•°ç»„ä¸­ç»å¯¹å€¼æœ€å°çš„å€¼ã€‚
   - è¿™é‡Œæœ‰ä¸€ä¸ªå‰ªæï¼Œæ•°ç»„ä»è´Ÿæ•° -> æ­£æ•°éå†ï¼Œå½“éå†åˆ°ç¬¬ä¸€ä¸ªæ­£æ•°æ—¶ï¼Œæ­¤æ—¶ä¸€å®šæ‰¾åˆ°äº†ä¸€ä¸ªæœ€å°ç»å¯¹å€¼ï¼Œç»“æŸå¾ªç¯ã€‚
3. for å¾ªç¯ï¼Œå¼€å§‹æ‰§è¡Œå–åæ“ä½œï¼Œä¼˜å…ˆæŠŠæ›´å°çš„è´Ÿæ•°å–åã€‚
   - ç»“æŸæ—¶æœºï¼šå½“ k å€¼æ¶ˆè€—å®Œï¼Œç»“æŸå¾ªç¯ï¼›å½“ nums æ•°ç»„éå†å®Œï¼Œç»“æŸå¾ªç¯ï¼›
   - å¦‚æœå½“å‰ `nums[i]` ä¸ºè´Ÿæ•°ï¼Œåˆ™å–åï¼›
   - å¦‚æœå½“å‰ `nums[i]` ä¸æ˜¯è´Ÿæ•°ï¼Œåˆ™æå‰ç»“æŸ for å¾ªç¯ï¼›
4. if åˆ¤æ–­ï¼šæ‰§è¡Œçš„æ¡ä»¶æ˜¯ï¼šå¦‚æœ `k > 0` è¡¨æ˜è¿˜éœ€è¦æ‰§è¡Œå–åæ“ä½œï¼Œæ­¤æ—¶è´Ÿæ•°å·²ç»å…¨éƒ¨å–åäº†ï¼Œæ­¤æ—¶åªéœ€è¦å¯¹æœ€å°å€¼è¿›è¡Œå–åå³å¯ã€‚
   - ä¼˜åŒ–ï¼š`k % 2 === 1` ç›®çš„æ˜¯è®¡ç®— k æ˜¯å¦æ˜¯ 2 çš„å€æ•°ï¼›å¦‚æœæ˜¯ï¼Œåˆ™ä¸éœ€è¦è¿›è¡Œå–åæ“ä½œäº†ã€‚å› ä¸ºå¦‚æœå–åä¸¤æ¬¡ï¼Œæœ€åçš„å€¼æ²¡å‘ç”Ÿå˜åŒ–ã€‚å¦‚æœä¸æ˜¯ 2 çš„å€æ•°ï¼Œå°±è¿›è¡Œä¸€æ¬¡å–åå³å¯ã€‚

```js
var largestSumAfterKNegations = function (nums, k) {
  nums.sort((x, y) => x - y); // æ’åº
  let minIndex = 0;
  for (let i = 0; i < nums.length; i++) {
    if (Math.abs(nums[minIndex]) > Math.abs(nums[i])) minIndex = i;
    if (nums[i] >= 0 && nums[i + 1] >= 0) break;
  }

  for (let i = 0; i < nums.length && k > 0; i++, k--) {
    // å¦‚æœæœ‰è´Ÿæ•°ï¼Œä»æœ€å°åˆ°æœ€å¤§ï¼Œä¾æ¬¡ä¿®æ”¹ï¼›
    if (nums[i] < 0) nums[i] = -nums[i];
    else break;
  }
  
  // å¦‚æœæœ‰å‰©ä½™æ¬¡æ•°ï¼Œä¿®æ”¹ç»å¯¹å€¼æœ€å°çš„æ•° min
  if (k > 0 && k % 2 === 1)
    nums[minIndex] = -nums[minIndex];
  
  return nums.reduce((prev, curv) => prev + curv);
};
```

#### æ–¹æ³•äºŒï¼šè´ªå¿ƒ

å¦‚æœkè¿˜æ²¡æ¶ˆè€—å®Œï¼Œè¿™ä¸€æ­¥æ“ä½œåœ¨ä¸Šé¢æœ‰è§£é‡Šã€‚

```js
var largestSumAfterKNegations = function (nums, k) {
  // æŒ‰ç…§ç»å¯¹å€¼ä»å°åˆ°å¤§æ’åº:
  nums.sort((a, b) => Math.abs(b) - Math.abs(a));

  // é‡åˆ°è´Ÿæ•°å°±è¿›è¡Œå–åï¼ŒåŒæ—¶ k-1
  for (let i = 0; i < nums.length; i++) {
    if (nums[i] < 0 && k > 0) {
      nums[i] *= -1;
      k--;
    }
  }

  // å¦‚æœkè¿˜æ²¡æ¶ˆè€—å®Œï¼Œä¸”æ“ä½œæ¬¡æ•°æ˜¯å¥‡æ•°æ¬¡ï¼Œå°±å¯¹ç»å¯¹å€¼æœ€å°çš„æ•°è¿›è¡Œä¸€æ¬¡å–å
  if (k > 0 && k % 2 === 1)
    nums[nums.length - 1] = -nums[nums.length - 1];

  return nums.reduce((prev, curv) => prev + curv);
};
```







===== summary ===========================

å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ã€‚æ•°ç»„é•¿åº¦ä¸º nums.lengthï¼Œæ•°ç»„çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 2 çš„æ•°ç»„ï¼Œä¸”å¯¹åµŒå¥—çš„æ•°ç»„èµ‹åˆå§‹åŒ–å€¼ä¸º `2`ã€‚

```js
// Array.from() é’ˆå¯¹ä¸€ä¸ªç±»ä¼¼æ•°ç»„ / å¯è¿­ä»£å¯¹è±¡ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ã€æµ…æ‹·è´çš„æ•°ç»„ã€‚
// ç¬¬äºŒä¸ªå¯é€‰å‚æ•° cbï¼šæ–°æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¼šæ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ï¼Œç›¸å½“äº forEachã€‚
const dp = Array.from(new Array(nums.length), () => new Array(2).fill(0));
```

