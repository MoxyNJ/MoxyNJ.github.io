---
title: 8. è´ªå¿ƒç®—æ³•
sidebar_position: 8
date: 2022-06-01
tags: [algorithm]
---

## ä»€ä¹ˆæ˜¯è´ªå¿ƒç®—æ³•

> ä»£ç éšæƒ³å½•
>
> - **è´ªå¿ƒçš„æœ¬è´¨æ˜¯é€‰æ‹©æ¯ä¸€é˜¶æ®µçš„å±€éƒ¨æœ€ä¼˜ï¼Œä»è€Œè¾¾åˆ°å…¨å±€æœ€ä¼˜**ã€‚
> - åˆ·é¢˜æˆ–è€…é¢è¯•çš„æ—¶å€™ï¼Œæ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹æ„Ÿè§‰å¯ä»¥å±€éƒ¨æœ€ä¼˜æ¨å‡ºæ•´ä½“æœ€ä¼˜ï¼Œè€Œä¸”æƒ³ä¸åˆ°åä¾‹ï¼Œé‚£ä¹ˆå°±è¯•ä¸€è¯•è´ªå¿ƒã€‚
>
> - é¢è¯•ä¸­åŸºæœ¬ä¸ä¼šè®©é¢è¯•è€…ç°åœºè¯æ˜è´ªå¿ƒçš„åˆç†æ€§ï¼Œä»£ç å†™å‡ºæ¥è·‘è¿‡æµ‹è¯•ç”¨ä¾‹å³å¯ï¼Œæˆ–è€…è‡ªå·±èƒ½è‡ªåœ†å…¶è¯´ç†ç”±å°±è¡Œäº†ã€‚



## 455. åˆ†å‘é¥¼å¹²

- [455. åˆ†å‘é¥¼å¹²](https://leetcode.cn/problems/assign-cookies/)
- 0601ï¼Œeasyï¼Œquick
- è´ªå¿ƒ

åªéœ€è¦å¯¹ ğŸª gï¼Œå’Œ ğŸ§’ s è¿›è¡Œ sortï¼Œç„¶åç¡®ä¿æ¯ä¸ªé¥¼å¹² `s[j]` æ˜¯å¤§äºå°å­© `g[i]`çš„ï¼Œä¸”æ˜¯æœ€å°å€¼ã€‚

![20201123161809624](images/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/20201123161809624.png)

```js
var findContentChildren = function (g, s) {
  s.sort((x, y) => x - y);
  g.sort((x, y) => x - y);

  // é¥¼å¹² s[j] æ˜¯å¤§äº g[i] çš„æœ€å°å€¼
  let i = 0, j = 0;
  while (s[j] && g[i]) {
    while (s[j] && s[j] < g[i]) j++;
    if (!s[j]) break;
    i++, j++;
  }
  return i;
};
```



- [376. æ‘†åŠ¨åºåˆ—](https://leetcode.cn/problems/wiggle-subsequence/)
- 0602ï¼Œmidï¼Œanswer
- è´ªå¿ƒï¼ŒåŠ¨æ€è§„åˆ’

#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ

å¯¹è¿™ç§é—®é¢˜ï¼Œè‡ªå·±èƒ½ç”»å‡ºä¸€ä¸ªå›¾æ¸…æ™°çš„å›¾ï¼Œå¯ä»¥å¿«é€Ÿçš„æ‰¾åˆ°è§£é¢˜æ€è·¯ã€‚

ä¸‹å›¾å¯ä»¥çœ‹åˆ°ï¼Œå½“å‡ºç°ç›¸ç­‰ã€è¿ç»­é€’å¢ã€è¿ç»­é€’å‡çš„æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬è·³è¿‡ä¸­é—´æ•°ï¼Œå»åˆ¤æ–­ä¸‹ä¸€ä¸ªæ•°å³å¯ã€‚

å¤æ‚åº¦ï¼šæ—¶é—´ï¼ˆ*O(n)*ï¼‰ï¼Œç©ºé—´ï¼ˆ*O(1)*ï¼‰ã€‚

![20201124174327597](images/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/20201124174327597.png)

- preDiff ç»Ÿè®¡ä¸Šä¸€ä¸ªå¯å‚è€ƒçš„å·®å€¼ï¼›
- curDiff ç»Ÿè®¡å½“å‰çš„å·®å€¼ï¼Œåªæœ‰å½“å‰å·®å€¼å’Œä¸Šä¸€ä¸ªå·®å€¼ä¸ç›¸åŒæ—¶ï¼Œç»“æœ count æ‰ +1ï¼›å¦åˆ™å°±è·³è¿‡ï¼Œè¿›è¡Œåˆ¤æ–­ä¸‹ä¸€ä¸ªæ•°å­—ã€‚
- å› ä¸ºè‡³å°‘é•¿åº¦ä¸º 2 ä»¥ä¸Šï¼Œæ‰å¯ä»¥æœ‰å·®å€¼çš„è®°å½•ï¼Œæ‰€ä»¥ index ä» 1 å¼€å§‹ã€count æœ€å°å€¼ä¸º 1ã€‚

```js
var wiggleMaxLength = function (nums) {
  if (nums.length === 1) return 1; // ç‰¹ä¾‹
  let preDiff = 0; // åªæœ‰åœ¨åˆå§‹åŒ–æ—¶ï¼ŒpreDiff = 0ï¼Œé™¤æ­¤ä¹‹å¤–ä¸€å®šæ˜¯å¤§äº/å°äº0çš„
  let count = 1;

  for (let index = 1; index < nums.length; index++) {
    // å½“å‰å·®å€¼
    const curDiff = nums[index] - nums[index - 1];
    // å¦‚æœæ²¡æœ‰å·®å€¼ä¸º0ã€å‡ºç°é€’å¢ / é€’å‡åºåˆ—ï¼Œåˆ™è·³è¿‡ã€‚
    if (curDiff > 0 && preDiff <= 0 || curDiff < 0 && preDiff >= 0) {
      count++;
      preDiff = curDiff;
    }
  }
  return count;
};
```

#### æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’

å¯ä»¥å‘ç°ï¼Œå¯¹äºæˆ‘ä»¬å½“å‰è€ƒè™‘çš„è¿™ä¸ªæ•°ï¼Œè¦ä¹ˆæ˜¯ä½œä¸ºå±±å³°ï¼ˆå³nums[i] > nums[i-1]ï¼‰ï¼Œè¦ä¹ˆæ˜¯ä½œä¸ºå±±è°·ï¼ˆå³nums[i] < nums[i - 1]ï¼‰ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼š*O(n)*ï¼Œ ç©ºé—´å¤æ‚åº¦ï¼š*O(1)*

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ²¡æœ‰è¿ç»­ç›¸ç­‰ã€è¿ç»­é€’å¢ã€è¿ç»­é€’å‡çš„æƒ…å†µï¼š

- å¦‚æœå½“å‰æ˜¯å±±å³°ï¼Œå½“å‰å±±å³°çš„æœ€é•¿åºåˆ—å€¼å°±æ˜¯å±±è°· + 1ï¼š `up = down + 1`ï¼›
- å¦‚æœå½“å‰æ˜¯å±±è°·ï¼Œå½“å‰å±±è°·çš„æœ€é•¿åºåˆ—å€¼å°±æ˜¯å±±å³° + 1ï¼š `down = up + 1`ï¼›

ä½†å¦‚æœå‘ç”Ÿä¸é¡ºçš„æ—¶å€™ï¼ŒåŠäº§ç”Ÿäº†è¿ç»­ç›¸ç­‰ã€è¿ç»­é€’å¢ã€è¿ç»­é€’å‡çš„æƒ…å†µï¼š

- å±±è°· down å’Œå±±å³°  up çš„å€¼å°±ä¸å‘ç”Ÿæ”¹å˜ã€‚
- æ¯”å¦‚å½“å‰æ˜¯å±±å³°ï¼Œ`up = Math.max( down + 1, up)`ï¼Œå› ä¸ºåœ¨è¿ç»­é€’å¢çš„æœ€åˆï¼Œup å·²ç»è¢«èµ‹å€¼ä¸º `down + 1`ï¼Œæ­¤æ—¶åç»­å‘ç”Ÿè¿ç»­é€’å¢ / è¿ç»­ç›¸ç­‰ï¼Œup çš„å€¼å°±ä¸ä¼šå†å¢åŠ äº†ï¼Œè€Œæ˜¯ä¸€ç›´ç»´æŒ `down + 1` ä¸å˜ã€‚

```js
var wiggleMaxLength = function (nums) {
  if (nums.length === 1) return 1;

  let down = 1; // è€ƒè™‘å‰iä¸ªæ•°ï¼Œå½“ç¬¬iä¸ªå€¼ä½œä¸ºå³°è°·æ—¶çš„æƒ…å†µï¼ˆåˆ™ç¬¬i-1æ˜¯å³°é¡¶ï¼‰
  let up = 1;   // è€ƒè™‘å‰iä¸ªæ•°ï¼Œå½“ç¬¬iä¸ªå€¼ä½œä¸ºå³°é¡¶æ—¶çš„æƒ…å†µï¼ˆåˆ™ç¬¬i-1æ˜¯å³°è°·ï¼‰

  for (let i = 1; i < nums.length; i++) {
    // å½“å‰æ˜¯å³°è°·ï¼šå¦‚æœä¹‹å‰ç»å†è¿‡è¿ç»­é€’å‡ / è¿ç»­ç›¸ç­‰ï¼Œè¿™é‡Œå°±ä¼šç”¨ down å€¼ï¼›
    if (nums[i - 1] > nums[i])
      down = Math.max(up + 1, down);

    // å½“å‰æ˜¯å³°é¡¶ï¼šå¦‚æœä¹‹å‰ç»å†è¿‡è¿ç»­é€’å¢ / è¿ç»­ç›¸ç­‰ï¼Œè¿™é‡Œå°±ä¼šç”¨ up å€¼ï¼›
    if (nums[i - 1] < nums[i])
      up = Math.max(down + 1, up)

    // console.log(Math.max(nums[i] - nums[i - 1]), down, up);
  }
  return Math.max(down, up);
};
```



## 53. æœ€å¤§å­æ•°ç»„å’Œ

- [53. æœ€å¤§å­æ•°ç»„å’Œ](https://leetcode.cn/problems/maximum-subarray/)
- 0603ï¼Œeasyï¼Œquick
- è´ªå¿ƒï¼ŒåŠ¨æ€è§„åˆ’

#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)

- æ³¨æ„æˆ‘å½“æ—¶æ€»å¼„é”™çš„åœ°æ–¹ï¼šmax çš„åˆå§‹åŒ–ä¸€å®šæ˜¯ `-Infinity`ï¼›

```js
var maxSubArray = function (nums) {
  let max = -Infinity; // åˆå§‹åŒ–çš„å’Œä¸€å®šæ˜¯ -Inifinity
  let count = 0;
  for (let i = 0; i < nums.length; i++) {
    count += nums[i];
    max = Math.max(count, max);
    // å¦‚æœå½“å‰å’Œä¸ºè´Ÿæ•°ï¼Œåˆ™ä¸¢å¼ƒ
    if (count < 0) count = 0;
  }
  return max;
};
```

å¦ä¸€ç§æ€è·¯ï¼Œä¸¤ä¸ªä¸åŒä¹‹å¤„ï¼š

1. åˆå§‹åŒ–å€¼ä¸º `nums[0]`ï¼Œ`for` å¾ªç¯ä» 1 å¼€å§‹ï¼›
2. ä¸¢å¼ƒåŸæœ‰å’Œçš„å®é™…æ”¾åœ¨ä¸‹ä¸€æ¬¡å¾ªç¯çš„å¼€å¤´ã€‚

```js
var maxSubArray = function (nums) {
  let max = nums[0];
  let count = nums[0];
  
  for (let i = 1; i < nums.length; i++) {
    // å¦‚æœå½“å‰å’Œä¸ºè´Ÿæ•°ï¼Œä¸”ä¸‹ä¸€ä¸ªæ•°å­—å¤§äºå½“å‰å’Œï¼Œä¸¢å¼ƒåŸæœ‰å’Œ
    if (count < 0 && nums[i] > count) count = nums[i];
    else count += nums[i];
    max = Math.max(count, max);
  }
  return max;
};
```

#### æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(n)

- `dp[i]` ï¼šå½“å‰çš„æœ€å¤§è¿ç»­å­åºåˆ—å’Œï¼ˆåŒ…æ‹¬ `i ` æœ¬èº«ï¼‰ã€‚
- çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š`dp[i] = max(dp[i - 1] + nums[i], nums[i]);` 
  - ä¸Šä¸€ä¸ªæœ€å¤§å’Œ + å½“å‰ `nums[i]` ï¼Œä¸å½“å‰æ•°å­— `nums[i]` å“ªä¸€ä¸ªæ›´å¤§ï¼Ÿ

```js
var maxSubArray = function (nums) {
  const dp = new Array(nums.length);
  dp[0] = nums[0];
  let max = dp[0];

  for (let i = 1; i < nums.length; i++) {
    dp[i] = Math.max(dp[i - 1] + nums[i], nums[i]); // çŠ¶æ€è½¬ç§»å…¬å¼
    max = Math.max(max, dp[i]);  // max: ä¿å­˜dp[i]çš„æœ€å¤§å€¼
  }
  return max;
};
```



## 122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II

- [122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/)
- 0603ï¼Œmidï¼Œquick
- è´ªå¿ƒï¼ŒåŠ¨æ€è§„åˆ’

#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒç®—æ³•

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼›ç©ºé—´å¤æ‚åº¦ï¼šO(1)

è´ªå¿ƒï¼š ç»Ÿè®¡æ¯ä¸€å¤©å’Œä¸Šä¸€å¤©ä¹‹é—´çš„è‚¡ç¥¨å·®å€¼ï¼Œæ‰¾å±€éƒ¨æœ€ä¼˜ã€‚åªè¦ `prices[i] - prices[i-1] > 0`ï¼Œå°± æŠŠå½“å‰åˆ©æ¶¦åŠ å…¥ profit ä¸­ï¼›

```js
var maxProfit = function (prices) {
  let profit = 0;

  for (let i = 1; i < prices.length; i++) {
    if (prices[i] - prices[i - 1] > 0)
      profit += prices[i] - prices[i - 1]
  }

  return profit;
};
```

#### æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’

é€Ÿåº¦æ…¢ï¼šæ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼›ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚

åŠ¨æ€è§„åˆ’å¯¹æ¯ä¸€å¤©å¯¹è‚¡ç¥¨ æŒæœ‰ / ä¸æŒæœ‰ ä¸¤ä¸ªçŠ¶æ€è¿›è¡Œæ¨¡æ‹Ÿï¼Œå¾—å‡ºæ¯ä¸€å¤©çš„æœ€å¤§æ”¶ç›Šã€‚

å®šä¹‰ `dp`ï¼š

- `dp[i][0]`ï¼šè¡¨ç¤ºç¬¬ i å¤©äº¤æ˜“å®Œåï¼Œä¸æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ï¼›
- `dp[i][1]`ï¼šè¡¨ç¤ºç¬¬ i å¤©äº¤æ˜“å®Œåï¼ŒæŒæœ‰è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ã€‚

åˆ†æä¹°å–è‚¡ç¥¨çš„ä¸¤ä¸ªåŠ¨ä½œï¼š

- è‚¡ç¥¨ä¹°å…¥ã€‚è‚¡ç¥¨ä¹°å…¥åï¼Œå½“å‰ç°é‡‘ = ä¹‹å‰ç°é‡‘ - è‚¡ç¥¨ä»·æ ¼ï¼›
- è‚¡ç¥¨å–å‡ºã€‚è‚¡ç¥¨å–å‡ºåï¼Œå½“å‰ç°é‡‘ = ä¹‹å‰ç°é‡‘ + è‚¡ç¥¨ä»·æ ¼ï¼›

å¾—å‡ºä¸¤ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

1. ç¬¬ `i` å¤©æŒæœ‰è‚¡ç¥¨ å³ `dp[i][0]`ï¼Œ å¯ä»¥ç”±ä¸¤ä¸ªçŠ¶æ€æ¨å‡ºæ¥ï¼š

   - `dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1] - prices[i]);`

   - ï¼ˆä¸å–å‡ºï¼‰ç¬¬ `i-1` å¤©å°±æŒæœ‰è‚¡ç¥¨ï¼Œå½“å‰å…ˆè¿›å’Œæ˜¨å¤©æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘ä¸€æ ·ï¼Œå³ï¼š`dp[i - 1][0]`ã€‚
     - å› ä¸ºè¿™é‡Œæ²¡æœ‰ä»»ä½•å–å‡ºã€ä¹°å…¥çš„æ“ä½œï¼Œæ‰€ä»¥è‡ªå·±æ‰‹é‡Œçš„ç°é‡‘æ˜¯æ²¡å‘ç”Ÿå˜åŒ–çš„ã€‚

   - ï¼ˆæ²¡ä¹°è¿‡ï¼‰ç¬¬ `i` å¤©ä¹°å…¥è‚¡ç¥¨ï¼Œæ‰€å¾—ç°é‡‘ = [æ˜¨å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘] - [ä»Šå¤©è‚¡ç¥¨ä»·æ ¼]ï¼Œå³ï¼š`dp[i - 1][1] - prices[i]`ï¼›
     - å› ä¸ºä»Šå¤©ä¹°å…¥äº†è‚¡ç¥¨ï¼Œç°é‡‘è‚¯å®šè¦å‡å»ä¹°è‚¡ç¥¨çš„ä»·æ ¼ã€‚

2. ç¬¬ `i`å¤©ä¸æŒæœ‰è‚¡ç¥¨ å³ `dp[i][1]`ï¼Œ å¯ä»¥ç”±ä¸¤ä¸ªçŠ¶æ€æ¨å‡ºæ¥ï¼š
   - ï¼ˆæ²¡ä¹°è¿‡ï¼‰ç¬¬ `i-1` å¤©å°±æ²¡æŒæœ‰è‚¡ç¥¨ï¼Œé‚£ä¹ˆæ‰€å¾—ç°é‡‘å’Œæ˜¨å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘ç›¸åŒ å³ï¼š`dp[i - 1][1]`ï¼›
   - ï¼ˆä»Šå¤©å–ï¼‰ç¬¬ `i` å¤©æ²¡æŒæœ‰è‚¡ç¥¨ï¼ŒæŒ‰ç…§ä»Šå¤©è‚¡ç¥¨ä»·æ ¼å–å‡ºåï¼Œå‰©ä½™çš„ç°é‡‘å°±æ˜¯æ‰€å¾—ç°é‡‘ï¼š`prices[i] + dp[i - 1][0]`ã€‚

```js
const maxProfit = (prices) => {
    const dp = Array.from(new Array(prices.length), () => new Array(2).fill(0));
    dp[0][0] = 0 - prices[0];  // æŒæœ‰
    dp[0][1] = 0;  // ä¸æŒæœ‰
    for (let i = 1; i < prices.length; i++) {
        // æŒæœ‰:å‰ä¸€å¤©æŒæœ‰ï¼Œå‰ä¸€å¤©æ²¡æŒæœ‰ï¼ˆè¦ä¹°å…¥ï¼‰
        dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1] - prices[i]);
        // ä¸æŒæœ‰: å‰ä¸€å¤©æŒæœ‰ï¼ˆè¦å–å‡ºï¼‰ï¼Œå‰ä¸€å¤©æ²¡æŒæœ‰
        dp[i][1] = Math.max(dp[i - 1][0] + prices[i], dp[i - 1][1]);
    }
    // è¿”å›æœ€åä¸€å¤©å–å‡ºæ‰€æœ‰è‚¡ç¥¨ï¼Œå³ä¸æŒæœ‰çš„æƒ…å†µ
    return dp[prices.length - 1][1];
};
```



## 55. è·³è·ƒæ¸¸æˆ

- [55. è·³è·ƒæ¸¸æˆ](https://leetcode.cn/problems/jump-game/)
- 0603ï¼Œmidï¼Œnormal
- è´ªå¿ƒ

#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ

é¢˜ç›®å…³é”®ç‚¹ï¼šä¸è¦æ‹˜æ³¥äºæ¯æ¬¡ç©¶ç«Ÿæ€ä¹ˆè·³è·³å‡ æ­¥ï¼Œè€Œæ˜¯çœ‹è¦†ç›–èŒƒå›´ï¼ŒèŒƒå›´å†…çš„ä½ç½®æ˜¯ä¸€å®šå¯ä»¥è·³åˆ°çš„ï¼Œä¸ç”¨ç®¡æ˜¯æ€ä¹ˆè·³åˆ°çš„è¿™ä¸ªä½ç½®ã€‚

![20201124154758229](images/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/20201124154758229.png)

è´ªå¿ƒçš„æ€è·¯ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå˜é‡ jumpï¼Œè¡¨ç¤ºå½“å‰æˆ‘ä»¬å¯ä»¥è¾¾åˆ°çš„æœ€è¿œèŒƒå›´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ`[0, jump]` å†…çš„æ‰€æœ‰ä½ç½®æˆ‘ä»¬éƒ½å¯ä»¥è®¿é—®ã€‚

- ç„¶åé€šè¿‡ for å¾ªç¯éå† `[0, jump]` è¿™ä¸ªåŒºé—´ï¼Œä¸€æ—¦ `jump >= nums.length - 1` è¡¨æ˜æ­¤æ—¶ jump çš„èŒƒå›´å·²ç»åŒ…æ‹¬äº†æ•°ç»„çš„ç»ˆç‚¹ã€‚è¿”å› trueï¼›åä¹‹ï¼Œå¦‚æœ for éå†å®Œæ¯•ï¼Œéƒ½æ²¡æœ‰è¾¾åˆ°ç»ˆç‚¹ï¼Œé‚£å°±è¿”å› falseã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ï¼š*O(n)* 
- ç©ºé—´å¤æ‚åº¦ï¼š*O(1)*

```js
var canJump = function (nums) {
    if (nums.length === 1) return true;
    let jump = 0; // å¯ä»¥è·³åˆ°çš„èŒƒå›´

    for (let i = 0; i <= jump; i++) {
      jump = Math.max(jump, i + nums[i]);
      if (jump >= nums.length - 1) return true;
    }
    return false;
};
```



#### æ–¹æ³•äºŒï¼šè´ªå¿ƒï¼ˆå€’ç€åˆ†æï¼‰

æˆ‘æƒ³åˆ°çš„æ–¹æ³•ï¼Œä½†æ›´å¤æ‚ã€‚è€ƒè™‘è‡ªå·±å½“æ—¶ä¸ºä»€ä¹ˆæ²¡æƒ³ä»æ­£é¢ç›´æ¥è§£å†³ï¼Ÿä¸¤ä¸ªåŸå› ï¼š

- å¥½å¤šé¢˜çš„åˆ†æéƒ½æ˜¯å€’ç€æ¥ï¼Œè¿™é‡Œæœ‰äº†æ€ç»´æƒ¯æ€§ï¼Œæƒ³åˆ°å€’ç€èƒ½åšï¼Œå°±ç›´æ¥åšäº†ã€‚
- çœ‹åˆ°éœ€è¦ä¸¤å±‚ for å¾ªç¯ç•¥å¤æ‚ï¼Œä½†æ²¡ä»”ç»†è€ƒè™‘æ˜¯å¦å¯ä»¥æœ‰å¦ä¸€ç§æ–¹æ³•ï¼Œåº”è¯¥è€ƒè™‘æ›´å…¨é¢ã€‚

å®šä¹‰ä¸€ä¸ªæ•°ç»„ dpï¼Œdp[i] è¡¨ç¤ºå½“å‰ä½ç½®æ˜¯å¦å¯ä»¥è¾¾åˆ°ç»ˆç‚¹å¦‚æœå¯ä»¥ä¸º trueï¼Œä¸å¯ä»¥ä¸º falseã€‚

- ä»æœ€åä¸€æ­¥ `nums[nums.length - 2]`ï¼Œå€’ç€å¾€å‰åˆ†æï¼šå¦‚æœå¯ä»¥è¾¾åˆ°ï¼Œå°±ç½®ä¸º trueï¼Œä¸å¯ä»¥è¾¾åˆ°å°±ç½®ä¸º falseã€‚åˆ†ææ­¥éª¤ï¼š
  1. è®¡ç®—å½“å‰ä½ç½®å¯ä»¥è¾¾åˆ°çš„èŒƒå›´ jumpã€‚å¦‚æœè·³è·ƒèŒƒå›´å¤§äºç»ˆç‚¹ `jump > lastIndex` ï¼Œåˆ™ä¸º trueï¼›
  2. åˆ©ç”¨ for å¾ªç¯ï¼Œå¯»æ‰¾ jump çš„èŒƒå›´å†…æ˜¯å¦æœ‰ä¸€ä¸ªç‚¹å¯ä»¥è¾¾åˆ°ç»ˆç‚¹ï¼Œæœ‰åˆ™ä¸º trueï¼›

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ï¼š*O(n x n!)* ï¼ˆæœ€åï¼ŒåµŒå¥—çš„ for å¾ªç¯æ¬¡æ•°æ— æ³•ä¿è¯ï¼‰ï¼›
- ç©ºé—´å¤æ‚åº¦ï¼š*O(n^2)*ï¼›

```js
var canJump = function (nums) {
    if (nums.length === 1) return true;
    const lastIndex = nums.length - 1;
    // ä»æœ€åå¾€å‰ï¼Œå¦‚æœèƒ½åˆ°è¾¾å°±ä¸ºtrueï¼Œä¸èƒ½åˆ°è¾¾å°±ä¸ºfalse
    const dp = Array(lastIndex).fill(false);
    for (let i = lastIndex - 1; i >= 0; i--) {
        const jump = i + nums[i];
        // ç›´æ¥è·³åˆ°ç»“å°¾
        if (jump >= lastIndex) dp[i] = true;
        else {
            // æŸ¥æ‰¾ jump èŒƒå›´å†…æœ‰æ²¡æœ‰ true:
            for (let j = i + 1; j <= jump; j++) {
                if (dp[j]) {
                    dp[i] = true;
                    break;
                }
            }
        }
    }
    return dp[0];
};
```



## 45. è·³è·ƒæ¸¸æˆ II

- [45. è·³è·ƒæ¸¸æˆ II](https://leetcode.cn/problems/jump-game-ii/)
- 0604ï¼Œmidï¼Œanswer
- è´ªå¿ƒ

#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ

![å›¾ç‰‡](images/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/9d5016c6e660a452991185d23b7b4d98853b7c300453d79715b5e9a206085e44-%25E5%259B%25BE%25E7%2589%2587.png)

- `while` å¾ªç¯ï¼Œæ¯èµ·è·³ä¸€æ¬¡ï¼Œè¿›è¡Œä¸€æ¬¡ while å¾ªç¯ã€‚å½“å¯ä»¥è¾¾åˆ°ç»ˆç‚¹æ—¶ï¼Œå¾ªç¯ç»ˆæ­¢ï¼›
- `for` å¾ªç¯ï¼Œæ¯æ¬¡èµ·è·³åï¼ˆä¸Šä¸€æ¬¡èµ·è·³ï¼‰ï¼Œéƒ½æœ‰ä¸€ä¸ªè¦†ç›–èŒƒå›´ï¼ŒèŒƒå›´å†…çš„ä½ç½®ä¸Šæ¬¡èµ·è·³åéƒ½å¯ä»¥è¾¾åˆ°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ¬æ¬¡èµ·è·³å¯ä»¥æ˜¯è¿™ä¸ªèŒƒå›´å†…çš„æ‰€æœ‰ä½ç½®ã€‚åˆ©ç”¨ for å¾ªç¯å»éå†èŒƒå›´å†…çš„æ‰€æœ‰ä½ç½®ï¼Œç„¶åç»Ÿè®¡å‡ºæœ¬æ¬¡èµ·è·³åï¼Œå¯ä»¥è¾¾åˆ°çš„è¦†ç›–èŒƒå›´ã€‚
- `range` ï¼šfor å¾ªç¯éå† `[start, end]` å†…çš„èµ·è·³ç‚¹ï¼›è€Œ `range` éš for å¾ªç¯çš„éå†ï¼Œéšæ—¶æ›´æ–°å¯ä»¥è¾¾åˆ°çš„æœ€è¿œä½ç½®ã€‚å½“ for å¾ªç¯ç»“æŸæ—¶ï¼Œä¸‹ä¸€ç»„  `[start, end]`  çš„å€¼å°±æ˜¯ï¼š`[end + 1, range]`

```js
var jump = function (nums) {
  let start = 0, end = 0;
  let step = 0;

  while (end < nums.length - 1) {
    // æœ¬æ¬¡èµ·è·³èŒƒå›´:[start, end]
    let range = end;
    for (let i = start; i <= end; i++) {
      range = Math.max(range, i + nums[i]);
    }
    // æ›´æ–°èŒƒå›´:[start, end]
    [start, end] = [end + 1, range];
    step++;
  }
  return step;
};
```

#### æ–¹æ³•äºŒï¼šè´ªå¿ƒï½œä¼˜åŒ–ä»£ç 

å¯ä»¥å°† while å’Œ for åˆå¹¶èµ·æ¥ã€‚

- for çš„ä½œç”¨å°±æ˜¯éå† `[start, end]` å†…çš„æ‰€æœ‰ç‚¹ï¼Œç„¶åæ‰¾åˆ°ä¸‹ä¸€ä¸ª `[start, end]` çš„èŒƒå›´ï¼Œæœ€ç»ˆç›®çš„æ˜¯æ¯ä¸€ä¸ªèŒƒå›´ä»£è¡¨ä¸€ä¸ª stepï¼Œæœ€åè¦ç´¯è®¡ step çš„å€¼ã€‚

è€Œä»”ç»†æƒ³æ¥ï¼Œå…¶å®æˆ‘ä»¬åªéœ€è¦é€šè¿‡ end å°±å¯ä»¥åˆ‡åˆ†å¼€æ¯æ¬¡çš„èŒƒå›´ï¼š

- for å¾ªç¯éå† nums çš„æ¯ä¸€ä¸ªæˆå‘˜ï¼Œæ¨¡æ‹Ÿæ¯ä¸€ä¸ªç‚¹åšä¸ºèµ·è·³ç‚¹ã€‚
- æ¯æ¬¡çš„èµ·è·³èŒƒå›´éƒ½æ˜¯ï¼š`[... end]`ï¼Œå³ start ä¸åšè®°å½•ï¼Œå€¼è®°å½•æœ€åä¸€ä¸ª end å€¼ã€‚
- range çš„ä½œç”¨ä¾ç„¶ä¸å˜ï¼Œæ›´æ–°åœ¨å½“å‰ step å†…çš„æ‰€æœ‰è¦†ç›–çš„ç‚¹ `[... start]` å¯ä»¥è¾¾åˆ°çš„æœ€è¿œè·ç¦»ï¼Œæœ€åç”¨æ¥æ›´æ–° endã€‚

```js
var jump = function (nums) {
  let end = 0;
  let step = 0;
  let range = end;
  for (let i = 0; i < nums.length - 1; i++) {
    range = Math.max(range, i + nums[i]);
    // å‰ªæï¼šå¦‚æœrangeå·²ç»è¦†ç›–åˆ°æœ€åä¸€ä¸ªå€¼äº†ï¼Œé‚£ä¹ˆå¯ä»¥æå‰è¿”å›ç»“æœï¼Œå› ä¸ºè·³è¿‡äº†step++ï¼Œæ‰€ä»¥è¦è®© step + 1
    if (range >= nums.length - 1) return step + 1;
    // éå†å®Œä¸€ä¸ªèµ·è·³èŒƒå›´:[... end]
    if (i === end) {
      end = range;
      step++;
    }
  }
  return step;
};
```



## 1005. K æ¬¡å–ååæœ€å¤§åŒ–çš„æ•°ç»„å’Œ

- [1005. K æ¬¡å–ååæœ€å¤§åŒ–çš„æ•°ç»„å’Œ](https://leetcode.cn/problems/maximize-sum-of-array-after-k-negations/)
- 0604ï¼Œeasyï¼Œquick
- è´ªå¿ƒ

#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒï½œæˆ‘çš„æ–¹æ³•

æ¯”è¾ƒç¬¨ã€‚

å…±æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

1. æ•°ç»„ä»å°åˆ°å¤§æ’åºï¼›
2. for å¾ªç¯ï¼Œå¯»æ‰¾æ•°ç»„ä¸­ç»å¯¹å€¼æœ€å°çš„å€¼ã€‚
   - è¿™é‡Œæœ‰ä¸€ä¸ªå‰ªæï¼Œæ•°ç»„ä»è´Ÿæ•° -> æ­£æ•°éå†ï¼Œå½“éå†åˆ°ç¬¬ä¸€ä¸ªæ­£æ•°æ—¶ï¼Œæ­¤æ—¶ä¸€å®šæ‰¾åˆ°äº†ä¸€ä¸ªæœ€å°ç»å¯¹å€¼ï¼Œç»“æŸå¾ªç¯ã€‚
3. for å¾ªç¯ï¼Œå¼€å§‹æ‰§è¡Œå–åæ“ä½œï¼Œä¼˜å…ˆæŠŠæ›´å°çš„è´Ÿæ•°å–åã€‚
   - ç»“æŸæ—¶æœºï¼šå½“ k å€¼æ¶ˆè€—å®Œï¼Œç»“æŸå¾ªç¯ï¼›å½“ nums æ•°ç»„éå†å®Œï¼Œç»“æŸå¾ªç¯ï¼›
   - å¦‚æœå½“å‰ `nums[i]` ä¸ºè´Ÿæ•°ï¼Œåˆ™å–åï¼›
   - å¦‚æœå½“å‰ `nums[i]` ä¸æ˜¯è´Ÿæ•°ï¼Œåˆ™æå‰ç»“æŸ for å¾ªç¯ï¼›
4. if åˆ¤æ–­ï¼šæ‰§è¡Œçš„æ¡ä»¶æ˜¯ï¼šå¦‚æœ `k > 0` è¡¨æ˜è¿˜éœ€è¦æ‰§è¡Œå–åæ“ä½œï¼Œæ­¤æ—¶è´Ÿæ•°å·²ç»å…¨éƒ¨å–åäº†ï¼Œæ­¤æ—¶åªéœ€è¦å¯¹æœ€å°å€¼è¿›è¡Œå–åå³å¯ã€‚
   - ä¼˜åŒ–ï¼š`k % 2 === 1` ç›®çš„æ˜¯è®¡ç®— k æ˜¯å¦æ˜¯ 2 çš„å€æ•°ï¼›å¦‚æœæ˜¯ï¼Œåˆ™ä¸éœ€è¦è¿›è¡Œå–åæ“ä½œäº†ã€‚å› ä¸ºå¦‚æœå–åä¸¤æ¬¡ï¼Œæœ€åçš„å€¼æ²¡å‘ç”Ÿå˜åŒ–ã€‚å¦‚æœä¸æ˜¯ 2 çš„å€æ•°ï¼Œå°±è¿›è¡Œä¸€æ¬¡å–åå³å¯ã€‚

```js
var largestSumAfterKNegations = function (nums, k) {
  nums.sort((x, y) => x - y); // æ’åº
  let minIndex = 0;
  for (let i = 0; i < nums.length; i++) {
    if (Math.abs(nums[minIndex]) > Math.abs(nums[i])) minIndex = i;
    if (nums[i] >= 0 && nums[i + 1] >= 0) break;
  }

  for (let i = 0; i < nums.length && k > 0; i++, k--) {
    // å¦‚æœæœ‰è´Ÿæ•°ï¼Œä»æœ€å°åˆ°æœ€å¤§ï¼Œä¾æ¬¡ä¿®æ”¹ï¼›
    if (nums[i] < 0) nums[i] = -nums[i];
    else break;
  }
  
  // å¦‚æœæœ‰å‰©ä½™æ¬¡æ•°ï¼Œä¿®æ”¹ç»å¯¹å€¼æœ€å°çš„æ•° min
  if (k > 0 && k % 2 === 1)
    nums[minIndex] = -nums[minIndex];
  
  return nums.reduce((prev, curv) => prev + curv);
};
```

#### æ–¹æ³•äºŒï¼šè´ªå¿ƒ

å¦‚æœkè¿˜æ²¡æ¶ˆè€—å®Œï¼Œè¿™ä¸€æ­¥æ“ä½œåœ¨ä¸Šé¢æœ‰è§£é‡Šã€‚

```js
var largestSumAfterKNegations = function (nums, k) {
  // æŒ‰ç…§ç»å¯¹å€¼ä»å°åˆ°å¤§æ’åº:
  nums.sort((a, b) => Math.abs(b) - Math.abs(a));

  // é‡åˆ°è´Ÿæ•°å°±è¿›è¡Œå–åï¼ŒåŒæ—¶ k-1
  for (let i = 0; i < nums.length; i++) {
    if (nums[i] < 0 && k > 0) {
      nums[i] *= -1;
      k--;
    }
  }

  // å¦‚æœkè¿˜æ²¡æ¶ˆè€—å®Œï¼Œä¸”æ“ä½œæ¬¡æ•°æ˜¯å¥‡æ•°æ¬¡ï¼Œå°±å¯¹ç»å¯¹å€¼æœ€å°çš„æ•°è¿›è¡Œä¸€æ¬¡å–å
  if (k > 0 && k % 2 === 1)
    nums[nums.length - 1] = -nums[nums.length - 1];

  return nums.reduce((prev, curv) => prev + curv);
};
```



## 134. åŠ æ²¹ç«™

- [134. åŠ æ²¹ç«™](https://leetcode.cn/problems/gas-station/)
- 0605ï¼Œmidï¼Œanswer
- æ•°å­¦å½’çº³ã€æš´åŠ›å¾ªç¯

#### æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£

ä»¥æ¯ä¸€ä¸ªç‚¹ä¸ºèµ·ç‚¹ï¼ŒæŸ¥çœ‹æ˜¯å¦åˆ™å¯ä»¥å®Œæ•´çš„èµ°å®Œï¼Œå¦‚æœå¯ä»¥åˆ™è¿”å›è¿™ä¸ªç‚¹ï¼›å¦‚æœå¾ªç¯ä¸€åœˆéƒ½ä¸å¯ä»¥ï¼Œåˆ™è¿”å› -1ã€‚

- å¤–å±‚ for å¾ªç¯ï¼Œéå†æ‰€æœ‰ç‚¹ï¼Œstart ä¸ºå½“å‰èµ·ç‚¹ã€‚
  - åœ¨ start èµ·ç‚¹æ—¶ï¼Œå…ˆå°è¯•å¾€å‰èµ°ä¸€æ­¥ï¼Œå³åˆå§‹åŒ– countï¼ˆå½“å‰æ²¹é‡ï¼‰å’Œ pointï¼ˆå½“å‰åŠ æ²¹ç«™ï¼‰ã€‚
- å†…å±‚ while å¾ªç¯ï¼Œå®Œæ•´çš„èµ°ä¸€åœˆã€‚å¦‚æœèµ°å®Œä¸€åœˆåï¼Œcount æ²¹é‡ä¸€ç›´å¤§äºç­‰äº0ï¼Œåˆ™è¯æ˜æ˜¯ä¸€ä¸ªå¯ä»¥èµ°å®Œçš„ï¼Œè¿”å› start èµ·ç‚¹ã€‚
- éœ€è¦æ³¨æ„å¦‚ä½•è®© point å½¢æˆå¾ªç¯ï¼š
  1. æ–¹æ³•ä¸€ï¼šåˆ¤æ–­å½“å‰ç‚¹æ˜¯å¦æ˜¯æ•°ç»„çš„æœ€åä¸€ä¸ªç‚¹ len - 1ï¼Œå¦‚æœæ˜¯å°±èµ‹å€¼ä¸º 0ï¼›
  2. æ–¹æ³•äºŒï¼š`point = (point + 1) % len`ï¼Œå³ + 1åå–ä½™ï¼Œå¦‚æœæ˜¯æ•°ç»„æœ€åä¸€ä¸ªç‚¹ï¼Œå–ä½™ä¸º 0ã€‚

```js
var canCompleteCircuit = function (gas, cost) {
  const len = gas.length;
  // i èµ·ç‚¹
  for (let start = 0; start < len; start++) {
    let count = gas[start] - cost[start];  // åˆå§‹åŒ–å½“å‰æ²¹é‡: å½“å‰ç«™åŠ æ²¹ - å¼€å¾€ä¸‹ä¸€ç«™è€—æ²¹
    let point = start === len - 1 ? 0 : start + 1;  // åˆå§‹åŒ–ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™ä½ç½®
    // å‰©ä½™æ²¹ç®±ä¸è¶³ï¼Œæˆ–å¾ªç¯ä¸€åœˆç»“æŸ
    while (count >= 0 && point !== start) {
      count = count + gas[point] - cost[point];
      point = point === len - 1? 0 : point + 1;
    }
    if (count >= 0 && point === start) return start;
  }
  return -1;
};
```

#### æ–¹æ³•äºŒï¼šè´ªå¿ƒï½œæ•°å­¦å½’çº³

> è¯¦ç»†é¢˜è§£ï¼š[ğŸ”](https://leetcode.cn/problems/gas-station/solution/shou-hua-tu-jie-liang-ge-guan-jian-jie-lun-de-jian/).

æ¯ä¸ªç«™çš„å‰©ä½™æ²¹é‡ç´¯åŠ ç»™`left`ï¼Œå³`left += gas[i]-cost[i]`ã€‚å¦‚æœ`left`ä¸€ç›´å¤§äº0ï¼Œåˆ™å¯ä»¥ä¸€ç›´èµ°ä¸‹å»ï¼Œå¦‚æœå‡ºç°äº†å°äº0ï¼Œè¯´æ˜åˆ°ä¸äº†ä¸‹ä¸€ç«™ã€‚

ä»èµ·ç‚¹ç«™ *a* å‡ºå‘ï¼Œå¿…é¡» `gas[a] - cost[a] >= 0` æ‰èƒ½åˆ° *b* ç«™ã€‚å‡è®¾å»åˆ° c ç«™åŠ å®Œæ²¹å‘ç°å»ä¸äº† d ç«™ï¼Œåªæ˜¯è¯´æ˜ a ç«™ä¸æ˜¯åˆæ ¼èµ·ç‚¹å—ï¼Ÿ

- åˆ°ä¸äº† d ç«™ï¼Œå°±è¯´æ˜ï¼š *(gas[a] - cost[a]) + (gas[b] - cost[b]) + (gas[c] - cost[c]) < 0* 
  - å³ï¼š *left(a) + left(b) + left(c) < 0*
  - å·²çŸ¥ ï¼š *left(a) >= 0*
  - æ‰€ä»¥ï¼š *left(b) + left(c) < 0*
- æ‰€ä»¥ï¼Œb ç«™ä¸èƒ½ä½œä¸ºèµ·ç‚¹ï¼Œå› ä¸ºå»ä¸äº† dã€‚
- èƒ½æ¥åˆ° c ç«™ï¼Œè‚¯å®šåˆ°è¿‡ b ç«™ï¼Œæ‰€ä»¥æœ‰ï¼š *left(a) + left(b) >=0* 
  - åˆå› ä¸ºï¼š *left(a) + left(b) + left(c) < 0*
  - æœ‰ï¼š *left(c) < 0*
- c ç«™ä¹Ÿä¸èƒ½ä½œä¸ºèµ·ç‚¹ï¼Œå› ä¸ºå»ä¸äº† dï¼

æˆ‘ä»¬å½’çº³å‡ºä¸‹é¢ç»“è®ºï¼š

ç»“è®º1ï¼šå¦‚æœ left ç´¯åŠ  *gas[i]-cost[i]* åï¼Œå°äº 0ã€‚åˆ™å‡ºå‘ç‚¹åˆ°ç«™ i éƒ½ä¸æ˜¯èµ·ç‚¹ã€‚

- å¦‚æœæ€»åŠ æ²¹é‡ *sum(gas) < sum(cost)*  æ€»è€—æ²¹é‡ï¼Œé—®é¢˜æ— è§£ï¼Œæ²¹é‡ä¸è¶³ä»¥èµ°å®Œå…¨ç¨‹ã€‚

ç»“è®º2ï¼šå¦‚æœæ€»åŠ æ²¹é‡ *sum(gas) >= sum(cost)* æ€»è€—æ²¹é‡ï¼Œé—®é¢˜ä¸€å®šæœ‰è§£ã€‚

![æˆªå±2022-06-05 02.08.47](images/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/%E6%88%AA%E5%B1%8F2022-06-05%2002.08.47.png)

```js
var canCompleteCircuit = function (gas, cost) {
  let left = 0, // å½“å‰æ²¹é‡
    start = 0,  // å½“å‰èµ·ç‚¹
    totalGas = 0, totalCost = 0; // ç»Ÿè®¡æ€»åŠ æ²¹/è€—æ²¹é‡
  for (let i = 0; i < gas.length; i++) {
    totalGas += gas[i];
    totalCost += cost[i];
    left += gas[i] - cost[i]; // æ›´æ–°å½“å‰æ²¹é‡
    if (left < 0) {
      start = i + 1;
      left = 0;
    }
  }
  return totalGas < totalCost ? -1 : start;
};
```



## 135. åˆ†å‘ç³–æœ

- [135. åˆ†å‘ç³–æœ](https://leetcode.cn/problems/candy/)ï¼Œä¸æ˜¯ top100å’Œç²¾é€‰ TOP é¢è¯•é¢˜ã€‚
- 0604ï¼Œhardï¼Œanswer
- è´ªå¿ƒï¼Œä¸¤ä¸ªç»´åº¦åˆ†æ

è´ªå¿ƒçš„æ ¸å¿ƒï¼šå±€éƒ¨æœ€ä¼˜è§£ï¼Œå°±æ˜¯å…¨å±€æœ€ä¼˜è§£ã€‚[ğŸ”—](https://leetcode.cn/problems/candy/solution/candy-cong-zuo-zhi-you-cong-you-zhi-zuo-qu-zui-da-/).

é‡åˆ°ä¸¤ä¸ªç»´åº¦æƒè¡¡çš„æ—¶å€™ï¼Œä¸€å®šè¦å…ˆç¡®å®šä¸€ä¸ªç»´åº¦ï¼Œå†ç¡®å®šå¦ä¸€ä¸ªç»´åº¦ã€‚

![æˆªå±2022-06-05 02.32.41](images/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/%E6%88%AA%E5%B1%8F2022-06-05%2002.32.41.png)

```js
var candy = function (ratings) {
  const len = ratings.length;
  const result = new Array(len).fill(1);

  // ç¬¬ä¸€æ¬¡éå†ï¼Œä»å·¦è‡³å³ï¼Œåªåˆ¤æ–­å·¦å­©å­ < å³å­©å­çš„æƒ…å†µ:
  for (let i = 1; i < len; i++) {
    if (ratings[i - 1] < ratings[i])
      result[i] = result[i - 1] + 1;
  }

  // ç¬¬äºŒæ¬¡éå†ï¼Œä»å³è‡³å·¦ï¼Œåªåˆ¤æ–­å·¦å­©å­ > å³å­©å­çš„æƒ…å†µ:
  for (let i = len - 2; i >= 0; i--) {
    if (ratings[i] > ratings[i + 1])
      result[i] = Math.max(result[i], result[i + 1] + 1); // ä¸ºäº†æ»¡è¶³ä¸¤æ¬¡éå†çš„æ¡ä»¶ï¼Œå–æœ€å¤§å€¼
  }

  // ç¬¬ä¸‰æ¬¡éå†ï¼Œå¯¹ result æ±‚å’Œè¿”å›ç»“æœ
  return result.reduce((prev, curv) => prev + curv);
};
```



## 860. æŸ æª¬æ°´æ‰¾é›¶

- [860. æŸ æª¬æ°´æ‰¾é›¶](https://leetcode.cn/problems/lemonade-change/)
- 0605ï¼Œeasyï¼Œanswer
- è´ªå¿ƒ

è¿™é“é¢˜å…¶å®éå¸¸ç®€å•ï¼Œä¸»è¦æ²¡æƒ³åˆ°çš„åŸå› è¿˜æ˜¯æ²¡ä»”ç»†çš„çœ‹æ‡‚é¢˜æ„ï¼Œå·²ç»åˆç†çš„æŠŠé¢˜æ„è½¬åŒ–æˆä»£ç ã€‚

- å®šä¹‰å˜é‡ï¼šå½“å‰æŒæœ‰çš„ã€å¯ä»¥æ‰¾é›¶çš„ç°é‡‘ï¼šfiveã€tenï¼›å› ä¸º 20 é¢å€¼çš„ç°é‡‘åªéœ€è¦æ”¶å¥½ï¼Œé¢é¢å¤ªå¤§æ‰¾é›¶æ—¶ç”¨ä¸åˆ°ï¼Œæ‰€ä»¥ä¸ç»Ÿè®¡ 20 é¢å€¼çš„é’ç¥¨ã€‚
- å®šä¹‰æµç¨‹ï¼š
  - å¦‚æœ 5 å…ƒé¢å€¼ï¼Œç›´æ¥æ”¶ä¸‹ï¼›
  - å¦‚æœ 10 å…ƒé¢å€¼ï¼Œæ‰¾ä¸€å¼  5 å…ƒã€‚å¦‚æœ 5 å…ƒä¸è¶³ï¼Œå°±è¿”å› falseï¼›
  - å¦‚æœ 20 å…ƒé¢å€¼ï¼Œä¸¤ä¸ªç­–ç•¥ï¼š
    - å±€éƒ¨æœ€ä¼˜ï¼šè´ªå¿ƒï¼Œä¼˜å…ˆæ‰¾é¢å€¼å¤§çš„ï¼Œå³ï¼š10 + 5 çš„ç»„åˆï¼›å¦‚æœ 10 å…ƒé¢å€¼æ•°é‡ä¸è¶³ï¼Œå°± 5 + 5 + 5 çš„ç»„åˆã€‚å¦‚æœ 5 å…ƒé¢å€¼çš„æ•°é‡ä¹Ÿä¸è¶³ï¼Œå°±è¿”å› falseã€‚

```js
var lemonadeChange = function (bills) {
  let five = 0, ten = 0;
  for (let i = 0; i < bills.length; i++) {
    // æ”¶åˆ°5é¢å€¼: ç›´æ¥æŒæœ‰
    if (bills[i] === 5) five++;
    else if (bills[i] === 10) {
      // æ”¶åˆ°10é¢å€¼: æ‰¾5ï¼Œå¦‚æœ5ä¸å¤Ÿï¼Œè¿”å›false
      if (!five) return false;
      five--, ten++;
    } else {
      // æ”¶åˆ°15é¢å€¼: ä¸¤ä¸ªç­–ç•¥ï¼Œä¼˜å…ˆæ‰¾10+5çš„ç»„åˆ;ã€‚ä¸å¤Ÿï¼Œå°±æ‰¾5+5+5ã€‚å¦‚æœä¹Ÿä¸å¤Ÿï¼Œå°±è¿”å›false
      if (five > 0 && ten > 0) five--, ten--;
      else if (five >= 3) five -= 3;
      else return false;
    }
  }
  return true;
};
```





## 406. æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—

- [406. æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—](https://leetcode.cn/problems/queue-reconstruction-by-height/)
- 0605ï¼Œmidï¼Œanswer
- è´ªå¿ƒï¼Œä¸¤ä¸ªç»´åº¦åˆ†æ

é‡åˆ°ä¸¤ä¸ªç»´åº¦æƒè¡¡çš„æ—¶å€™ï¼Œä¸€å®šè¦å…ˆç¡®å®šä¸€ä¸ªç»´åº¦ï¼Œå†ç¡®å®šå¦ä¸€ä¸ªç»´åº¦ã€‚

#### æ–¹æ³•ä¸€ï¼šä»å¤§åˆ°å°ï½œè´ªå¿ƒ

å±€éƒ¨æœ€ä¼˜æ¨å¯¼åˆ°å…¨å±€æœ€ä¼˜ã€‚[è§£æï¼šğŸ“–](https://www.programmercarl.com/0406.%E6%A0%B9%E6%8D%AE%E8%BA%AB%E9%AB%98%E9%87%8D%E5%BB%BA%E9%98%9F%E5%88%97.html#%E6%80%9D%E8%B7%AF).

`[hi, ki]` æŒ‰ç…§ä»¥ä¸‹é¡ºåºæ’åºï¼š

- `hi` èº«é«˜ï¼šä»å¤§åˆ°å°ï¼›
- `ki` å‰é¢ç«™çš„äººï¼šå¦‚æœèº«é«˜ç›¸åŒï¼Œ `ki` æ›´å°çš„é å‰ã€‚

æŒ‰ç…§é¡ºåºä¾æ¬¡æŠŠ people ä¸­çš„äººæ”¾å…¥ queue ä¸­ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ ‡å‡†ï¼š

- å› ä¸ºæˆå‘˜å·²ç»æŒ‰ç…§ä»å¤§åˆ°å°çš„é¡ºåºæ”¾å…¥ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬é‡åˆ° `[7,2]` æ—¶ï¼Œåªéœ€è¦åœ¨ `queue[2]` ä½ç½®æ’å…¥å³å¯ï¼Œè¿™æ ·å‰é¢çš„ 0ï¼Œ1 ä¸¤ä¸ªä½ç½®ä¸€å®šæ˜¯æ”¾ç½®äº†å¤§äºç­‰äº 7 çš„äººï¼Œæ»¡è¶³å±€éƒ¨æœ€ä¼˜æ¡ä»¶ã€‚
  - æ•°ç»„æ’å…¥ï¼š`queue.splice(people[i][1], 0, people[i]);`
- è¿™æ ·ä¸€ä¸ªä¸ªä¾æ¬¡ä»å¤§åˆ°å°æ”¾å…¥ï¼Œæœ€ç»ˆä¼šæ»¡è¶³å…¨å±€æœ€ä¼˜æ¡ä»¶ã€‚

æ—¶é—´å¤æ‚åº¦ï¼š

- `splice()` çš„æœ€åæ—¶é—´å¤æ‚åº¦æ˜¯ *O(n)*ï¼›
- `sort()` çš„æ—¶é—´å¤æ‚åº¦æ˜¯ *O(nlogn)*ï¼›
- æ‰€ä»¥ï¼Œ`splice()` å¤–å±‚è¿˜å¥—ç€ä¸€ä¸ª for å¾ªç¯ï¼Œæ€»ä½“å¤æ‚åº¦æ˜¯ *O(n^2)*ã€‚

```js
var reconstructQueue = function (people) {
  people.sort((x, y) => x[0] === y[0] ? x[1] - y[1] : y[0] - x[0]); // æ’åº
  const queue = [];
  for (let i = 0; i < people.length; i++) {
    queue.splice(people[i][1], 0, people[i]); // å¯¹åº”ä½ç½®æ’å…¥
  }
  return queue;
};  
```

#### æ–¹æ³•äºŒï¼šä»å°åˆ°å¤§ï½œæˆ‘çš„æ–¹æ³•

`[hi, ki]` æŒ‰ç…§ä»¥ä¸‹é¡ºåºæ’åºï¼ˆå’Œæ–¹æ³•ä¸€å®Œå…¨ç›¸åï¼‰ï¼š

- `hi` èº«é«˜ï¼šä»å°åˆ°å¤§ï¼›
- `ki` å‰é¢ç«™çš„äººï¼šå¦‚æœèº«é«˜ç›¸åŒï¼Œ `ki` æ›´å¤§çš„é å‰ã€‚

æŒ‰ç…§é¡ºåºä¾æ¬¡æŠŠ people ä¸­çš„äººæ”¾å…¥ queue ä¸­ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ ‡å‡†ï¼š

- å‡å¦‚é‡åˆ° `[4,4]`ï¼Œé‚£å°±å¿…é¡»åœ¨å‰é¢ç©ºå‡º 4 ä¸ªä½ç½®ï¼Œç”¨æ¥å¡«æ”¾æ¯” 4 æ›´å¤§çš„æ•°å­—ï¼Œä»¥æ»¡è¶³è¦æ±‚ã€‚
- start ç»Ÿè®¡å·²ç»æ‰¾åˆ°äº†å‡ ä¸ªç©ºä½ï¼Œå½“ `start == 4` æ—¶ï¼Œæ‰¾åˆ°å››ä¸ªç©ºä½ï¼Œæ­¤æ—¶ç»“æŸ for å¾ªç¯ï¼›
- point è¡¨ç¤º `[4,4]` è¦æ”¾å…¥çš„ä½ç½®ï¼Œå½“ ç©ºä½å·²ç»å…¨éƒ¨æ‰¾åˆ°ï¼Œåˆ©ç”¨ while è¦æ‰¾ä¸‹ä¸€ä¸ªå¯ä»¥æ”¾ç½® `[4,4]`çš„ç©ºä½ï¼›
- `queue[point] = people[i]` æŠŠ `[4,4]` æ”¾å…¥ç©ºä½ã€‚

```js
var reconstructQueue = function (people) {
  // æŒ‰è¦æ±‚æ’åº:
  people.sort((x, y) => x[0] === y[0] ? y[1] - x[1] : x[0] - y[0]);
  const queue = Array(people.length);
  
  for (let i = 0; i < people.length; i++) {
    let start = 0, point = 0;
    while (start < people[i][1]) {  // æ”¾å…¥ç‚¹å‰ï¼Œå¿…é¡»æœ‰people[i][1]ä¸ªç©ºä½ 
      if (!queue[point]) start++;
      point++;
    }
    while (queue[point]) point++; // æ»¡è¶³äº†people[i][1]ä¸ªç©ºä½ï¼Œå†æ‰¾ä¸‹ä¸€ä¸ªç©ºä½
    queue[point] = people[i];     // æ‰¾åˆ°ç©ºä½ï¼Œæ”¾å…¥
  }
  return queue;
};
```



## 452. ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ

- [452. ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ](https://leetcode.cn/problems/minimum-number-of-arrows-to-burst-balloons/)
- 0605ï¼Œmidï¼Œanswer
- è´ªå¿ƒ

åˆ†æï¼š

å±€éƒ¨æœ€ä¼˜ï¼šåªè¦å‡ºç°é‡å ï¼Œé‡å çš„æœ€è¾¹ç¼˜ä½ç½®å°„æ°”çƒã€‚

- å¯»æ‰¾æ¯ä¸ªåŒºé—´çš„æœ€å³ç«¯ä½ç½®ï¼ŒæŒ‰ç…§æœ€å³ç«¯ä½ç½®ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚

- éå†æ‰€æœ‰æ°”çƒï¼Œåˆ¤æ–­ï¼š
  - å½“ç®­çš„ä½ç½®åœ¨æ°”çƒçš„åŒºé—´å†…ï¼Œå°±è·³è¿‡è¯¥åŒºé—´ï¼›
  - å¦‚æœä¸åœ¨åŒºé—´å†…ï¼Œå°±å°„å‡ºæ–°çš„ä¸€ç®­ï¼ŒåŒæ—¶ä½ç½®æ˜¯å½“å‰æ°”çƒçš„æœ€å³ç«¯ã€‚

å…¨å±€æœ€ä¼˜ï¼šæ¯æ¬¡å°„å‡ºçš„ç®­éƒ½æ˜¯å±€éƒ¨æœ€ä¼˜ï¼Œæ‰¾ä¸åˆ°åä¾‹ï¼Œæ»¡è¶³å…¨å±€æœ€ä¼˜ã€‚

![20201123101929791](images/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/20201123101929791.png)

```js
var findMinArrowShots = function (points) {
  if (!points.length) return 0
  points.sort((x, y) => x[1] - y[1]); // æ’åº
  let count = 1; // æ€»ç®­æ•°
  let pos = points[0][1];  // å½“å‰ç®­çš„ä½ç½®

  for (let i = 1; i < points.length; i++) {
    if (points[i][0] > pos) {  // å¦‚æœä¸å‘ç”Ÿé‡å 
      count++;
      pos = points[i][1];  // æœ€å³ç«¯
    }
  }
  return count;
};
```



## 435. æ— é‡å åŒºé—´

- [435. æ— é‡å åŒºé—´](https://leetcode.cn/problems/non-overlapping-intervals/)
- 0605ï¼Œmidï¼Œquick
- è´ªå¿ƒ

è¿™é“é¢˜å’Œä¸Šä¸€é“é¢˜ (452 ç®­å¼•çˆ†æ°”çƒ)ï¼Œä¸€æ ·å¯»æ‰¾åŒºé—´é‡å ã€‚

- æŒ‰ç…§åŒºé—´å³ç«¯ï¼Œä»å°åˆ°å¤§æ’åºï¼›
- pos ç»Ÿè®¡å½“å‰åŒºé—´çš„æœ€å³ç«¯ï¼Œcount ç»Ÿè®¡ç§»é™¤åŒºé—´çš„æ•°é‡ã€‚
- æœ€åˆï¼Œpos è®°å½•äº†ç¬¬ä¸€ä¸ªåŒºé—´çš„æœ€å³ç«¯ï¼›
  - ä¸€æ—¦å½“å‰åŒºé—´çš„æœ€å·¦ç«¯ï¼Œå’Œ pos å‘ç”Ÿé‡å ï¼Œè¡¨æ˜ä¸¤ä¸ªåŒºé—´å­˜åœ¨é‡å ï¼Œåˆ™ç§»é™¤å½“å‰åŒºé—´ï¼Œcount++ã€‚
  - å¦‚æœå½“å‰åŒºé—´å’Œ pos æ²¡æœ‰å‘ç”Ÿé‡å ï¼Œåˆ™æ›´æ–° pos çš„ä½ç½®ä¸ºå½“å‰åŒºé—´çš„æœ€å³ç«¯ï¼Œä»¥ä¾›ä¸‹ä¸€ä¸ªåŒºé—´åˆ¤æ–­ã€‚

```js
var eraseOverlapIntervals = function (intervals) {
  if (intervals.length <= 1) return 0;

  // æŒ‰ç…§æœ€å³ç«¯ä»å°åˆ°å¤§æ’åºï¼š
  intervals.sort((x, y) => x[1] - y[1]);
  let pos = intervals[0][1];
  let count = 0;
  for (let i = 1; i < intervals.length; i++) {
    if (intervals[i][0] < pos) count++; // æœ‰é‡å 
    else pos = intervals[i][1];
  }
  return count;
};
```



## 763.åˆ’åˆ†å­—æ¯åŒºé—´

- [763. åˆ’åˆ†å­—æ¯åŒºé—´](https://leetcode.cn/problems/partition-labels/)
- 0607ï¼Œmidï¼Œanswer
- æ ¹æ®é¢˜å¹²è§£é¢˜ [ğŸ”—](https://www.programmercarl.com/0763.%E5%88%92%E5%88%86%E5%AD%97%E6%AF%8D%E5%8C%BA%E9%97%B4.html#%E6%80%9D%E8%B7%AF).

é¢˜ç›®è¦æ±‚ç›¸åŒçš„å­—æ¯å¿…é¡»æ”¾åœ¨ä¸€ä¸ªåŒºé—´å†…ï¼Œé‚£ä¹ˆ

- ç¬¬ä¸€æ¬¡ for å¾ªç¯ï¼šç»Ÿè®¡ä¸€ä¸‹å­—ç¬¦ä¸² S å†…æ‰€æœ‰å­—æ¯çš„æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼›
- å˜é‡ left å’Œ right è®°å½•æ¯æ¬¡åˆ‡å‰²å­åŒºé—´çš„ å·¦ã€å³ä¸¤è¾¹ç•Œï¼›
- ç¬¬äºŒæ¬¡ for å¾ªç¯ï¼ŒåŠ å…¥ s ä¸º `ababcbacadefegdehijhklij`ï¼š
  - æ¯”å¦‚éå†åˆ°ç¬¬ä¸€ä¸ª a è¿™ä¸ªå…ƒç´ ï¼ŒæŠŠ right ç½® ä¸º `18`ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ 18 ä»¥å‰çš„æ‰€æœ‰å­—æ¯ä¸€å®šæ˜¯ä¸€ä¸ªå­åŒºé—´å†…ã€‚
  - æ¥ç€å¾€åéå†ï¼Œä¸æ–­æ›´æ–° right çš„æœ€å¤§å€¼ã€‚ç›´åˆ°å‡ºç° right å’Œå½“å‰éå†å­—æ¯ä¸‹æ ‡ç›¸ç­‰ `i === right` çš„æ—¶å€™ï¼Œè¡¨æ˜å½“å‰å­—æ¯ `s[i]` å·²ç»æ˜¯æœ€å³è¾¹ç•Œäº†ï¼Œä¸”å…¶ä»–å­—æ¯ä¹Ÿæ²¡æœ‰æ¯” right æ›´é å³çš„ä½ç½®ã€‚
  - æ­¤æ—¶å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„å­åŒºé—´ï¼ŒæŠŠç»“æœ push åˆ° res ä¸­ï¼Œç„¶åæ›´æ–° left å·¦è¾¹ç•Œã€‚

```js
var partitionLabels = function (s) {
  const res = [];
  const map = {};
  for (let i = 0; i < s.length; i++) {
    map[s[i]] = i;
  }
  let left = 0, right = 0;
  for (let i = 0; i < s.length; i++) {
    right = Math.max(right, map[s[i]]);
    if (right === i) {
      res.push(right - left + 1);
      left = right + 1;
    }
  }
  return res;
};
```



## 56. åˆå¹¶åŒºé—´

- [56. åˆå¹¶åŒºé—´](https://leetcode.cn/problems/merge-intervals/)
- 0607ï¼Œmidï¼Œnormal
- è´ªå¿ƒ

æŒ‰ç…§å·¦è¾¹ç•Œæ’åºï¼Œæ’åºä¹‹åå±€éƒ¨æœ€ä¼˜ï¼š

- æ’åºåï¼Œæ¯ä¸ªæ–°åŒºé—´çš„ leftï¼Œè‡ªç„¶å°±æ˜¯éå†åˆ°çš„ç¬¬ä¸€ä¸ªåŒºé—´ï¼›
- æ¯æ¬¡åˆå¹¶éƒ½å–æœ€å¤§çš„å³è¾¹ç•Œ rightï¼Œè¿™æ ·å°±ä»¥ `left` ä¸ºå·¦ç«¯ç‚¹ï¼Œå°½å¯èƒ½çš„åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ï¼›

å±€éƒ¨æœ€ä¼˜ --> æ•´ä½“æœ€ä¼˜ï¼šåˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ã€‚

æµç¨‹ï¼š

- å¯¹ intervals è¿›è¡Œæ’åºï¼ŒæŒ‰ç…§å·¦è¾¹ç•Œä»å°åˆ°å¤§çš„é¡ºåºï¼›
- `left` å’Œ `right` åˆ†åˆ«ä»£è¡¨äº†å½“å‰æ–°åŒºé—´çš„å·¦ç«¯å’Œå³ç«¯ï¼Œå› ä¸º intervals å·²ç»æŒ‰å·¦åŒºé—´æ’åºï¼Œæ‰€ä»¥ left ä¸€å®šæ˜¯æœ€å°çš„ï¼Œä¸éœ€è¦å†åˆ¤æ–­ï¼›
- for å¾ªç¯éå†æ¯ä¸ªåŒºé—´ï¼š
  - é‡å ï¼šå¦‚æœæ–°åŒºé—´çš„ `right` å¤§äºéå†çš„åŒºé—´ï¼Œè¯´æ˜å‘ç”Ÿé‡å ï¼Œè¦åˆ é™¤è¯¥åŒºé—´ï¼Œæ›´æ–° `right` åŒºé—´ä¸ºè¾ƒå¤§å€¼ï¼›
  - ä¸é‡å ï¼šå¦‚æœä¸é‡å ï¼Œåˆ™ `left` å’Œ `right` å·²ç»åœˆæˆäº†ä¸€ä¸ªæ–°çš„åŒºé—´ï¼Œpush åˆ° res ä¸­ï¼ŒåŒæ—¶æ›´æ–° `left` å’Œ `right`ï¼›
- å½“å…¨éƒ¨éå†å®Œåï¼Œä¸è¦å¿˜è®°æŠŠæœ€åä¸€ä¸ªåŒºé—´ push åˆ°ç»“æœä¸­ã€‚

```js
var merge = function (intervals) {
  const res = [];
  intervals.sort((x, y) => x[0] - y[0]);
  let left = intervals[0][0], right = intervals[0][1];

  for (let i = 1; i < intervals.length; i++) {
    // é‡å 
    if (right >= intervals[i][0]) {
      right = Math.max(right, intervals[i][1]);
    } else { // ä¸é‡å 
      res.push([left, right]);
      left = intervals[i][0];
      right = intervals[i][1];
    }
  }
  res.push([left, right]);
  return res;
};
```



## 738. å•è°ƒé€’å¢çš„æ•°å­—

- [738. å•è°ƒé€’å¢çš„æ•°å­—](https://leetcode.cn/problems/monotone-increasing-digits/)
- 0607ï¼Œmidï¼Œanswer
- è´ªå¿ƒ



è§£é¢˜æ€è·¯ï¼š

- å±€éƒ¨æœ€ä¼˜ï¼šé‡åˆ° `strNum[i - 1] > strNum[i]` çš„æƒ…å†µï¼Œè®© `strNum[i - 1]--`ï¼Œç„¶å `strNum[i]` ç»™ä¸º9ï¼Œå¯ä»¥ä¿è¯è¿™ä¸¤ä½å˜æˆæœ€å¤§å•è°ƒé€’å¢æ•´æ•°ã€‚
- å…¨å±€æœ€ä¼˜ï¼šå¾—åˆ°å°äºç­‰äº N çš„æœ€å¤§å•è°ƒé€’å¢çš„æ•´æ•°ã€‚

åˆ¤æ–­ä»å¤´å¼€å§‹éå†ï¼Œè¿˜æ˜¯ä»å°¾å¼€å§‹éå†ï¼š

- ä»å‰åå‘éå†ä¼šæ”¹å˜å·²ç»éå†è¿‡çš„ç»“æœï¼šä»å‰å‘åéå†çš„è¯ï¼Œé‡åˆ° `strNum[i - 1] > strNum[i]` çš„æƒ…å†µï¼Œè®© `strNum[i - 1]` å‡ä¸€ï¼Œä½†æ­¤æ—¶å¦‚æœ `strNum[i - 1]` å‡ä¸€äº†ï¼Œå¯èƒ½åˆå°äº `strNum[i - 2]`ã€‚

`flag` çš„ä½œç”¨ï¼Œè€ƒè™‘æ•°å­— 3234ï¼š

- å 3 ä½ç¬¦åˆé€’å¢ï¼Œæ‰€ä»¥ä¸éœ€è¦ä»»ä½•æ“ä½œï¼›ä½†å½“ `i == 2` æ—¶ï¼Œä¸ç¬¦åˆé€’å¢ã€‚åˆ™ç¬¬ä¸€ä½ `-1`ï¼Œæ­¤æ—¶ä¸ä»… 2 ä½ç½®éœ€è¦ç½®ä¸º 9ï¼Œå…¶åæ‰€æœ‰çš„æ•°å­—éƒ½è¦ç½®ä¸º 9ã€‚æœ€ç»ˆçš„ç»“æœä¸ºï¼š 2999ã€‚
- æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª flag æ¥æ ‡è®°ä»å“ªä¸€ä½å¼€å§‹ï¼ŒæŠŠåé¢çš„æ•°å­—ç½®ä¸º 9ã€‚ç„¶åå†ç”¨ä¸€ä¸ª for å¾ªç¯ç»Ÿä¸€èµ‹å€¼ã€‚

```js
var monotoneIncreasingDigits = function (n) {
  // è½¬åŒ–ï¼Œn: bumber --> arr: number[]
  const arr = n.toString().split('');
  arr.forEach(item => Number(item));
  
  let flag = Infinity; // ç»Ÿè®¡æœ€é å‰çš„ã€éœ€è¦ç½®ä¸º9çš„ä½ç½®ã€‚
  for (let i = arr.length - 1; i > 0; i--) {
    // å¦‚æœä¸æ˜¯é€’å¢åºåˆ—ï¼Œåˆ™å‰ä¸€ä½å‡1ï¼Œå½“å‰ã€ä»¥åŠä¹‹åçš„ä½ç½®éƒ½ç½®ä¸º9
    // åŸå› ï¼šä¸€æ—¦é å‰çš„æ•°å­—æœ‰å‡1çš„æƒ…å†µï¼Œåé¢çš„æ•°å­—éœ€è¦å…¨éƒ¨ç½®ä¸º9
    if (arr[i - 1] > arr[i]) {
      flag = i;
      arr[i - 1] = arr[i - 1] - 1;
    }
  }
  // ç»Ÿä¸€èµ‹å€¼ä¸º9
  for (let i = flag; i < arr.length; i++)  arr[i] = 9;
  return Number(arr.join(''));
};
```



## 714. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹

- [714. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/)
- 0607ï¼Œmidï¼Œanswer
- åŠ¨æ€è§„åˆ’ã€è´ªå¿ƒ

#### æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’

è™½ç„¶æ…¢ï¼Œä½†æ˜¯å¥½ç†è§£

ä¸€èˆ¬çš„åŠ¨æ€è§„åˆ’é¢˜ç›®æ€è·¯ä¸‰æ­¥èµ°ï¼š

1. å®šä¹‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹
2. ç»™å®šè½¬ç§»æ–¹ç¨‹åˆå§‹å€¼
3. å†™ä»£ç é€’æ¨å®ç°è½¬ç§»æ–¹ç¨‹

![æˆªå±2022-06-07 ä¸‹åˆ9.42.16](images/è´ªå¿ƒç®—æ³•.assets/æˆªå±2022-06-07 ä¸‹åˆ9.42.16.png)

```js
var maxProfit = function (prices, fee) {
  const dp = Array.from(new Array(prices.length), () => new Array(2).fill(0));
  // 2.åˆå§‹åŒ–
  dp[0][0] = 0;
  dp[0][1] = -prices[0];

  for (let i = 1; i < prices.length; i++) {
    // 1.çŠ¶æ€è½¬ç§»æ–¹ç¨‹
    // ä¸æŒæœ‰ï¼šæ˜¨å¤©ä¸æŒæœ‰ã€æ˜¨å¤©æŒæœ‰ï¼Œä»Šå¤©å–å‡º
    dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1] + prices[i] - fee);
    // æŒæœ‰ï¼šæ˜¨å¤©æŒæœ‰ã€æ˜¨å¤©ä¸æŒæœ‰ï¼Œä»Šå¤©ä¹°å…¥
    dp[i][1] = Math.max(dp[i - 1][1], dp[i - 1][0] - prices[i]);
  }
  return dp[prices.length - 1][0];
};
```

#### æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’çš„ä¼˜åŒ–

å°†äºŒç»´ dp å‹ç¼©ä¸ºä¸¤ä¸ªå˜é‡ï¼š

- å› ä¸ºæœ¬æ¬¡çš„æŒæœ‰ / ä¸æŒæœ‰ï¼Œä»…å’Œ**ä¸Šä¸€æ¬¡**çš„æŒæœ‰ / ä¸æŒæœ‰æœ‰å…³ã€‚æ‰€ä»¥ sell ä¿å­˜ä¸Šä¸€æ¬¡ä¸æŒæœ‰ï¼›buy ä¿å­˜ä¸Šä¸€æ¬¡æŒæœ‰å³å¯ã€‚

```js
var maxProfit = function (prices, fee) {
  let sell = 0;  // ä¸æŒæœ‰
  let buy = -prices[0]; // æŒæœ‰

  for (let i = 1; i < prices.length; i++) {
    sell = Math.max(sell, buy + prices[i] - fee);
    buy = Math.max(buy, sell - prices[i]);
  }
  return sell
};
```

#### æ–¹æ³•ä¸‰ï¼šè´ªå¿ƒ

for å¾ªç¯éå† prices æ•°ç»„ï¼›

- éšç€ for å¾ªç¯éå†ï¼Œä¸€ç›´è®°å½•æœ€å°å€¼ buyï¼Œåœ¨å–å‡ºæ—¶ï¼Œbuy å°±æ˜¯ä¹°å…¥ä»· + æ‰‹ç»­è´¹ feeï¼›
- è¿™æ · `price[i] - buy` å°±æ˜¯æœ¬è½®äº¤æ˜“çš„æ”¶ç›Šï¼Œæ‰‹ç»­è´¹å·²ç»åŒ…å«åœ¨å†…äº†ã€‚

```js
var maxProfit = function (prices, fee) {
  let profit = 0;
  let buy = prices[0] + fee;
  for (let i = 1; i < prices.length; i++) {
    if (prices[i] + fee < buy) {
      buy = prices[i] + fee; // æ›´æ–°:ä¹°å…¥çš„æœ€ä½ä»·+æ‰‹ç»­è´¹
    } else if (prices[i] > buy) {
      profit += prices[i] - buy; // å–å‡ºè·åˆ© => æœªå¿…çœŸçš„åœ¨æ­¤æ—¶å–å‡º,åªæ˜¯å‡è®¾
      buy = prices[i]; // å› ä¸ºæ˜¯å‡è®¾: å–å‡ºçš„åŒæ—¶ç«‹å³ä»¥åŸä»·ä¹°å…¥ï¼Œæ‰‹ç»­è´¹åªè®¡ç®—ä¸€æ¬¡ã€‚
    }
  }
  return profit
};
```





===== summary =============================

å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ã€‚æ•°ç»„é•¿åº¦ä¸º nums.lengthï¼Œæ•°ç»„çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 2 çš„æ•°ç»„ï¼Œä¸”å¯¹åµŒå¥—çš„æ•°ç»„èµ‹åˆå§‹åŒ–å€¼ä¸º `2`ã€‚

```js
// Array.from() é’ˆå¯¹ä¸€ä¸ªç±»ä¼¼æ•°ç»„ / å¯è¿­ä»£å¯¹è±¡ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ã€æµ…æ‹·è´çš„æ•°ç»„ã€‚
// ç¬¬äºŒä¸ªå¯é€‰å‚æ•° cbï¼šæ–°æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¼šæ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ï¼Œç›¸å½“äº forEachã€‚
const dp = Array.from(new Array(nums.length), () => new Array(2).fill(0));
```

