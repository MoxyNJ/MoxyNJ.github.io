---
title: 9. åŠ¨æ€è§„åˆ’
sidebar_position: 9
date: 2022-06-07
tags: [algorithm]
---

## åŠ¨æ€è§„åˆ’

å®šä¹‰ä¸‰å¤§æ­¥éª¤ï¼š

1. ç¡®å®š dp æ•°ç»„åŠä¸‹æ ‡çš„å«ä¹‰ï¼›
2. ç¡®å®šé€’æ¨å…¬å¼ï¼ˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼‰ï¼›
3. æ‰§è¡Œï¼š
   1. åˆå§‹åŒ– dp æ•°ç»„ï¼›
   2. ç¡®å®šéå†é¡ºåºï¼›
   3. ä¸¾ä¾‹æ¨å¯¼ dp æ•°ç»„ï¼›



## 509. æ–æ³¢é‚£å¥‘æ•°

- [509. æ–æ³¢é‚£å¥‘æ•°](https://leetcode.cn/problems/fibonacci-number/)
- 0608ï¼Œeasyï¼Œquick
- åŠ¨æ€è§„åˆ’

å®šä¹‰ä¸€ä¸ª dp æ•°ç»„ï¼š

```js
var fib = function (n) {
  dp = [];
  dp[0] = 0;
  dp[1] = 1;

  for (let i = 2; i <= n; i++) {
    dp[i] = dp[i - 1] + dp[i - 2];
  }
  return dp[n];
};
```

ä¼˜åŒ–ï¼šå°† dp æ•°ç»„å‹ç¼©ä¸ºä¸¤ä¸ªå˜é‡ï¼š

```js
var fib = function (n) {
  if (n === 0) return 0;
  if (n === 1) return 1;

  let f1 = 0, f2 = 1;
  for (let i = 2; i <= n; i++)
    [f2, f1] = [f2 + f1, f2];

  return f2;
};
```



## 70. çˆ¬æ¥¼æ¢¯

- [70. çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/climbing-stairs/)

- 0608ï¼Œeasyï¼Œanswer
- åŠ¨æ€è§„åˆ’

åªæœ‰ä¸¤ç§æ–¹æ³•ï¼šè·³ä¸€æ­¥å’Œè·³ä¸¤æ­¥ã€‚æ‰€ä»¥ï¼Œå½“è¦è®¡ç®—ç¬¬ i å±‚æœ‰å¤šå°‘ç§æ–¹æ³•æ—¶ï¼Œå¦‚æœå·²ç»çŸ¥é“ç¬¬ i - 1 å±‚æœ‰å¤šå°‘ç§æ–¹æ³•ï¼›ç¬¬ i - 2 å±‚æœ‰å¤šå°‘ç§æ–¹æ³•ï¼Œç›¸åŠ å³å¯ã€‚

- i - 2 å±‚éœ€è¦ç›´æ¥è¿ˆä¸¤æ­¥åˆ°å½“å‰æ¥¼å±‚ã€‚ä¸èƒ½è¿ˆä¸€æ­¥ï¼Œè¿ˆä¸€æ­¥å°±æˆä¸º ` i - 1 å±‚æœ‰å¤šå°‘ç§æ–¹æ³•` äº†

å®šä¹‰ä¸€ä¸ª dp æ•°ç»„ï¼š

```js
  // dp[i] çˆ¬åˆ°ç¬¬iå±‚æ¥¼æ¢¯ï¼Œæœ‰å¤šå°‘æ–¹æ³•ï¼š
  const dp = [];
  dp[1] = 1, dp[2] = 2;

  for (let i = 3; i <= n; i++) {
    dp[i] = dp[i - 1] + dp[i - 2];
  }
  return dp[n];
};
```

ä¼˜åŒ–ï¼šæ”¹ä¸ºæ»šåŠ¨æ•°ç»„

```js
var climbStairs = function (n) {
  // dp[i] çˆ¬åˆ°ç¬¬iå±‚æ¥¼æ¢¯ï¼Œæœ‰å¤šå°‘æ–¹æ³•ï¼š
  if (n <= 1) return n;
  const dp = [];
  dp[1] = 1;
  dp[2] = 2;

  for (let i = 3; i <= n; i++) {
    const sum = dp[2] + dp[1];
    dp[1] = dp[2], dp[2] = sum;
  }
  return dp[2];
};
```



## 746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯

- [746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/min-cost-climbing-stairs/)

- 0608ï¼Œeasyï¼Œquick
- åŠ¨æ€è§„åˆ’

å¤æ‚åº¦ï¼šæ—¶é—´ / ç©ºé—´ *O(n)*ã€‚

```js
var minCostClimbingStairs = function (cost) {
  // dp[i]ï¼šåˆ°è¾¾ç¬¬iä¸ªå°é˜¶æ‰€èŠ±è´¹çš„æœ€å°‘è´¹ç”¨
  const dp = [];
  dp[0] = cost[0];
  dp[1] = cost[1];
  for (let i = 2; i < cost.length; i++) {
    dp[i] = Math.min(dp[i - 2], dp[i - 1]) + cost[i];
  }
 // æœ€åä¸€æ­¥å¯ä»¥æ˜¯å€’æ•°ç¬¬äºŒçº§å°é˜¶ç›´æ¥ç™»é¡¶ï¼Œæ‰€ä»¥æ±‚å€’æ•°çš„ä¸¤å±‚å°é˜¶å“ªä¸€ä¸ªèŠ±è´¹æœ€å°
  return Math.min(dp[cost.length - 2], dp[cost.length - 1]);
};
```

ä¼˜åŒ–ï¼šæ»šåŠ¨æ•°ç»„å¯ä»¥æŠŠç©ºé—´å¤æ‚åº¦å‹ç¼©ä¸º *O(1)*ã€‚

```js
var minCostClimbingStairs = function (cost) {
  const dp = [];
  dp[0] = cost[0];
  dp[1] = cost[1];
  for (let i = 2; i < cost.length; i++) {
    const sum = Math.min(dp[1], dp[0]) + cost[i];
    dp[0] = dp[1], dp[1] = sum;
  }

  return Math.min(dp[1], dp[0]);
};
```



## 62. ä¸åŒè·¯å¾„

- [62. ä¸åŒè·¯å¾„](https://leetcode.cn/problems/unique-paths/)
- 0608ï¼Œmidï¼Œquick
- åŠ¨æ€è§„åˆ’

```js
var uniquePaths = function (m, n) {
  // dp[i][j]ï¼šæœºå™¨äººåˆ°è¾¾(i,j)æ—¶çš„æ–¹æ³•æ€»æ•°
  const dp = Array.from(new Array(m), () => new Array(n).fill(0));
  dp[0][0] = 1;
  for (let i = 0; i < m; i++) {
    for (let j = 0; j < n; j++) {
      if (!i && !j) continue; // (0,0)çš„æƒ…å†µå·²åˆå§‹åŒ–ä¸º1
      else if (!i) dp[i][j] = dp[i][j - 1]; //(0,x) çš„æƒ…å†µåªèƒ½å‘å³èµ°åˆ°è¾¾
      else if (!j) dp[i][j] = dp[i - 1][j]; //(x,0) çš„æƒ…å†µåªèƒ½å‘ä¸‹èµ°åˆ°è¾¾
      else dp[i][j] = dp[i - 1][j] + dp[i][j - 1]; // (i,j) çš„æƒ…å†µå‘å³/å‘ä¸‹èµ°è¾¾åˆ°
    }
  }
  return dp[m - 1][n - 1];
};
```

ä¼˜åŒ–ï¼šç”¨ä¸€ç»´æ•°ç»„å­˜å‚¨ dp

- å› ä¸º `(i, j)` ä½ç½®åªæ¶‰åŠåˆ°ä¸Šä¸€ä¸ªã€å·¦ä¸€ä¸ªä½ç½®çš„å€¼ã€‚æ‰€ä»¥ç”¨ä¸€ç»´æ•°ç»„ `dp[]` ç»Ÿè®¡ `(i-1, j)` å³ä¸Šä¸€åˆ—çš„å€¼ï¼Œç„¶åå†…å±‚ for å¾ªç¯ä¸€æ¬¡ï¼Œå°±éå†äº†ä¸€è¡Œåæ ‡ï¼Œdp å¯¹åº”æ›´æ–°ä¸€æ¬¡ã€‚

```js
var uniquePaths = function (m, n) {
  // åˆå§‹åŒ–æ—¶ï¼Œå…¨éƒ¨èµ‹å€¼ä¸º1ï¼Œè¾¹ç•Œçš„ç¬¬ä¸€è¡Œ(i,x)å…¨éƒ¨ä¸º1ã€‚
  const dp = new Array(n).fill(1);

  for (let i = 1; i < m; i++) {
    for (let j = 1; j < n; j++) {
      // ç­‰å¼å³è¾¹çš„ dp[j] æ˜¯ä¸Šä¸€è¡Œè®¡ç®—çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯ (i-1,j) çš„æ€»æ¬¡æ•°ã€‚
      // ç­‰å¼å³è¾¹çš„ dp[j-1]ï¼Œæ˜¯ä¸Šä¸€åˆ—è®¡ç®—çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯ (i, j-1) çš„æ€»æ¬¡æ•°ã€‚
      dp[j] = dp[j] + dp[j - 1];
    }
  }
  return dp[n - 1];
};
```



## 63. ä¸åŒè·¯å¾„ II

- [63. ä¸åŒè·¯å¾„ II](https://leetcode.cn/problems/unique-paths-ii/)
- 0608ï¼Œmidï¼Œslow
- åŠ¨æ€è§„åˆ’

åœ¨åˆå§‹åŒ–æ—¶ï¼ŒåŸæœ¬ï¼ˆä¸Šä¸€é¢˜ï¼‰ä¸€è¡Œä¸€åˆ—éƒ½ä¸º 1ï¼Œæ„ä¸ºæœ‰ä¸€ç§æ–¹æ³•åˆ°è¾¾è¯¥ç‚¹ã€‚è€Œåœ¨è¿™é“é¢˜ä¸­ï¼Œå¦‚æœæœ€ä¸Šè¾¹ä¸€è¡Œçš„ä¸­é—´æœ‰ä¸€ä¸ªéšœç¢ç‰©ï¼Œåˆ™éšœç¢ç‰©å³è¾¹çš„æ‰€æœ‰ä½ç½®éƒ½æ— æ³•åˆ°è¾¾ã€‚

- æ‰€ä»¥åˆå§‹åŒ–æ—¶ï¼Œé»˜è®¤æ‰€æœ‰ä½ç½®å€¼ä¸º 0ã€‚ç„¶åå¯¹ç¬¬ä¸€è¡Œã€ç¬¬ä¸€åˆ—è¿›è¡Œ for å¾ªç¯éå†ï¼Œèµ‹å€¼åˆå§‹åŒ–ä¸º1ï¼Œå½“é‡åˆ°éšœç¢ç‰©æ—¶æˆªæ­¢ã€‚

![20210104114513928](images/åŠ¨æ€è§„åˆ’.assets/20210104114513928.png)

ç„¶åè¿›è¡Œå¯¹ `(i,j)` è¿›è¡Œéå†ï¼Œé‡åˆ°éšœç¢ç‰©å°±è·³è¿‡ï¼ˆå› ä¸ºæ‰€æœ‰ç‚¹å·²ç»åˆå§‹åŒ–ä¸º0ï¼‰ã€‚

- ç†è®ºä¸Šè®²ï¼Œå¦‚æœå½“å‰ç‚¹ `(i, j)` é‡åˆ°ä¸Šæ–¹æœ‰éšœç¢ç‰©ï¼Œåªèƒ½é€šè¿‡å·¦ä¾§èµ°åˆ°ã€‚`dp[i][j] =  dp[i-1][j]` ï¼Œ
  - è€Œå®é™…ä¸Š `(i-1, j)` è¿™ä¸ªç‚¹å·²ç»åˆå§‹åŒ–ä¸º0ï¼Œæ‰€ä»¥ä¸ç”¨ç‰¹æ®Šåˆ¤æ–­ï¼Œ
  - å…¨éƒ¨ç”¨ `dp[i][j] = dp[i - 1][j] + dp[i][j - 1]` å³å¯ã€‚

```js
var uniquePathsWithObstacles = function (obstacleGrid) {
  const m = obstacleGrid.length;
  const n = obstacleGrid[0].length;
  const dp = Array.from(new Array(m), () => new Array(n).fill(0));

  // åˆå§‹åŒ–ç¬¬ä¸€åˆ—(x, 0)
  for (let i = 0; i < m && obstacleGrid[i][0] === 0; i++) dp[i][0] = 1;

  // åˆå§‹åŒ–ç¬¬ä¸€è¡Œ(0, x)
  for (let j = 0; j < n && obstacleGrid[0][j] === 0; j++) dp[0][j] = 1;

  for (let i = 1; i < m; i++) {
    for (let j = 1; j < n; j++) {
      // å¦‚æœå½“å‰ä½ç½®æœ‰éšœç¢ï¼Œå°±ä¸èƒ½åˆ°è¾¾
      if (obstacleGrid[i][j]) continue;
      dp[i][j] = dp[i - 1][j] + dp[i][j - 1];
    }
  }
  return dp[obstacleGrid.length - 1][obstacleGrid[0].length - 1];
};
```



## 343. æ•´æ•°æ‹†åˆ†

- [343. æ•´æ•°æ‹†åˆ†](https://leetcode.cn/problems/integer-break/)
- 0608ï¼Œmidï¼Œanswer
- åŠ¨æ€è§„åˆ’

ã€æœ‰ç‚¹ç»•ã€‘

å‡å®šä¸€ä¸ªæ•´æ•°ä¸º nï¼Œå®ƒè¢«æ‹†åˆ†åçš„æœ€å¤§ä¹˜ç§¯ kã€‚åˆ™ n å’Œ k çš„å¤§å°å…³ç³»æ— æ³•ç¡®å®šï¼š

- è‹¥ n ä¸º 2ï¼Œåˆ™æ‹†åˆ†æœ€å¤§ä¹˜ç§¯ä¸º 1ï¼Œå°äºè‡ªèº«ï¼›
- è‹¥ n ä¸º 10ï¼Œåˆ™æ‹†åˆ†æœ€å¤§ä¹˜ç§¯ä¸º 36ï¼Œå¤§äºè‡ªèº«ï¼›

æ‰€ä»¥ï¼š

- å®šä¹‰ `dp[i]` ï¼šè¡¨ç¤ºæ•´æ•° i çš„æ‹†åˆ†æœ€å¤§ä¹˜ç§¯ã€‚

- çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

  - åˆ©ç”¨ for å¾ªç¯ï¼Œè®© `dp[i]` ä¸€åˆ†ä¸ºäºŒï¼Œ`j + (i-j) ` ï¼Œéå†æ‰€æœ‰ä¸€åˆ†ä¸ºäºŒçš„æƒ…å†µï¼Œæ³¨æ„ j çš„å–å€¼èŒƒå›´ä¸º `[1, n-1]`ã€‚
    - æƒ…å†µä¸€ï¼šæ±‚è¿™ä¸¤ä¸ªæ•°çš„ä¹˜ç§¯ï¼š`j * (i-j)`ï¼ŒæŠŠ i æ‹†åˆ†æˆä¸¤ä¸ªæ•°ç›¸ä¹˜ï¼›
    - æƒ…å†µäºŒï¼šæŠŠ `j` æ¢ä¸ºæœ€å¤§ä¹˜ç§¯ï¼Œä¹Ÿå°±æ˜¯ `dp[j]`ï¼ŒæŠŠ i æ‹†åˆ†æˆä¸¤ä¸ªä»¥ä¸Šçš„æ•°ç›¸ä¹˜ï¼›
      - ä¸ºä»€ä¹ˆæ²¡æœ‰ `j` å’Œ `j-i` éƒ½æ‹†åˆ†çš„æƒ…å†µï¼Ÿ
      - ç­”ï¼šå·²ç»åŒ…å«äº†ï¼šå½“ `j-i` ä¸º 1 çš„æ—¶å€™

  - `dp[i]` æœ€ç»ˆçš„å€¼å°±æ˜¯ for å¾ªç¯ä¸­æ‰€æœ‰çš„æƒ…å†µï¼ˆæ¯ä¸€ä¸ª j å¯¹åº”çš„è¿™ä¸¤ç§æƒ…å†µï¼‰çš„æœ€å¤§å€¼ã€‚

![æˆªå±2022-06-08 ä¸‹åˆ8.44.00](images/åŠ¨æ€è§„åˆ’.assets/æˆªå±2022-06-08 ä¸‹åˆ8.44.00.png)

```js
var integerBreak = function (n) {
  // dp[i] è¡¨ç¤ºæ­£æ•´æ•°içš„æœ€å¤§ä¹˜ç§¯
  const dp = [];
  dp[2] = 1;
  for (let i = 3; i <= n; i++) {
    //æŠŠiæ‹†åˆ†ä¸ºï¼šj + (i-j) ä¸¤ä¸ªæ•°ã€‚jçš„å–å€¼èŒƒå›´ï¼š2~j-1
    let curMax = 0;
    for (let j = 1; j < i - 1; j++) {
      curMax = Math.max(curMax, j * (i - j), j * dp[i - j]);
    }
    dp[i] = curMax;
  }
  return dp[n];
};
```





## 96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘

- [96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘](https://leetcode.cn/problems/unique-binary-search-trees/)
- 0609ï¼Œmidï¼Œanswer
- åŠ¨æ€è§„åˆ’

éå¸¸çš„è´¹è§£ï¼š[ğŸ”—](https://www.programmercarl.com/0096.%E4%B8%8D%E5%90%8C%E7%9A%84%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91.html#%E6%80%9D%E8%B7%AF)

```js
```



æ€è·¯ï¼š

ç¬¬ä¸€æ­¥ï¼šæ±‚æœ€å¤§å€¼ä¸º n æ—¶ï¼Œå¯ä»¥æ„é€ å‡ºå‡ ç§äºŒå‰æœç´¢æ ‘

1. é—®é¢˜è½¬åŒ–ä¸ºå…ƒç´ æœ‰ n ä¸ªæ—¶ï¼Œå¯ä»¥æ„é€ å‡ºå‡ ç§äºŒå‰æœç´¢æ ‘ï¼›
2. 1~n è¿™å‡ ä¸ªç»“ç‚¹ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½æœ‰å¯èƒ½å½“ä½œå¤´ç»“ç‚¹ï¼›
3. å¦‚æœ i ä¸ºå¤´ç»“ç‚¹ï¼Œåˆ™å·¦å­æ ‘çš„å…ƒç´ ä¸ºï¼š`[1, i-1]`ï¼Œå³å­æ ‘çš„å…ƒç´ ä¸ºï¼š`[i+1, n]`ï¼›
4. åˆ™ i ä¸ºå¤´ç»“ç‚¹æ—¶æ„é€ å‡ºçš„æ€»æ•° = å…ƒç´ ä¸ªæ•°ä¸º `i` æ—¶æ„é€ çš„äºŒå‰æœç´¢æ ‘æ€»æ•° * å…ƒç´ ä¸ªæ•°ä¸º `n - i+1` æ—¶æ„é€ çš„äºŒå‰æœç´¢æ ‘æ€»æ•°ã€‚
5. ä»¥æ­¤ç±»æ¨ï¼ŒæŠŠ 1ï½n å…¨éƒ¨çš„æ€»æ•°å…¨éƒ¨ç´¯åŠ å³å¯ã€‚

å¾—å‡ºé€’å½’ï¼Œä½†æ­¤æ–¹æ³•è¶…è¿‡æœ€å¤§è°ƒç”¨æ ˆï¼š



```js
var numTrees = function (n) {
  if (n <= 1) return 1;
  let count = 0;
  for (let i = 0; i <= n; i++) {
    const leftNum = numTrees(i);
    const rightNum = numTrees(n - i);
    count += leftNum * rightNum;
  }
  return count;
};
```





































