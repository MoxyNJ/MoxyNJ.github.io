"use strict";(self.webpackChunkninjee=self.webpackChunkninjee||[]).push([[6203],{3905:function(e,n,t){t.d(n,{Zo:function(){return m},kt:function(){return c}});var a=t(67294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=a.createContext({}),s=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},m=function(e){var n=s(e.components);return a.createElement(i.Provider,{value:n},e.children)},k={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,i=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),u=s(t),c=l,N=u["".concat(i,".").concat(c)]||u[c]||k[c]||r;return t?a.createElement(N,o(o({ref:n},m),{},{components:t})):a.createElement(N,o({ref:n},m))}));function c(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,o=new Array(r);o[0]=u;var p={};for(var i in n)hasOwnProperty.call(n,i)&&(p[i]=n[i]);p.originalType=e,p.mdxType="string"==typeof e?e:l,o[1]=p;for(var s=2;s<r;s++)o[s]=t[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},7383:function(e,n,t){t.r(n),t.d(n,{assets:function(){return m},contentTitle:function(){return i},default:function(){return c},frontMatter:function(){return p},metadata:function(){return s},toc:function(){return k}});var a=t(87462),l=t(63366),r=(t(67294),t(3905)),o=["components"],p={title:"11. Symbol, Set, Map",sidebar_position:11,date:new Date("2022-07-28T00:00:00.000Z"),tags:["JavaScript"]},i=void 0,s={unversionedId:"frontEnd/JavaScript/Symbol, Set, Map",id:"frontEnd/JavaScript/Symbol, Set, Map",title:"11. Symbol, Set, Map",description:"1 Symbol",source:"@site/docs/frontEnd/JavaScript/11-Symbol, Set, Map.md",sourceDirName:"frontEnd/JavaScript",slug:"/frontEnd/JavaScript/Symbol, Set, Map",permalink:"/docs/frontEnd/JavaScript/Symbol, Set, Map",tags:[{label:"JavaScript",permalink:"/docs/tags/java-script"}],version:"current",sidebarPosition:11,frontMatter:{title:"11. Symbol, Set, Map",sidebar_position:11,date:"2022-07-28T00:00:00.000Z",tags:["JavaScript"]},sidebar:"JavaScript",previous:{title:"10. \u7c7b\uff08ES6\uff09",permalink:"/docs/frontEnd/JavaScript/z\u6a21\u5757"},next:{title:"12. Proxy, Reflect",permalink:"/docs/frontEnd/JavaScript/Proxy, Reflect"}},m={},k=[{value:"1 Symbol",id:"1-symbol",level:2},{value:"1.1 \u5c5e\u6027\u7684\u904d\u5386",id:"11-\u5c5e\u6027\u7684\u904d\u5386",level:3},{value:"1.2 Symbol.for / .keyFor",id:"12-symbolfor--keyfor",level:3},{value:"1.3 \u5185\u7f6e\u7684 Symbol \u201c\u503c\u201d",id:"13-\u5185\u7f6e\u7684-symbol-\u503c",level:3},{value:"Symbol.iterator",id:"symboliterator",level:4},{value:"\u4e00\u3001\u5b57\u7b26\u4e32/\u5bf9\u8c61 API",id:"\u4e00\u5b57\u7b26\u4e32\u5bf9\u8c61-api",level:4},{value:"\u4e8c\u3001\u539f\u578b\u94fe / \u7ee7\u627f API",id:"\u4e8c\u539f\u578b\u94fe--\u7ee7\u627f-api",level:4},{value:"\u4e09\u3001\u539f\u59cb\u503c/\u6253\u5370\u503c API",id:"\u4e09\u539f\u59cb\u503c\u6253\u5370\u503c-api",level:4},{value:"\u56db\u3001\u5176\u4ed6 API",id:"\u56db\u5176\u4ed6-api",level:4},{value:"2. Set  &amp; Map",id:"2-set---map",level:2},{value:"2.1 Set",id:"21-set",level:3},{value:"Set \u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5",id:"set-\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5",level:4},{value:"2.2 WeakSet",id:"22-weakset",level:3},{value:"\u5b9e\u4f8b\u65b9\u6cd5",id:"\u5b9e\u4f8b\u65b9\u6cd5",level:4},{value:"2.3 Map",id:"23-map",level:3},{value:"\u6784\u9020\u51fd\u6570",id:"\u6784\u9020\u51fd\u6570",level:4},{value:"\u8981\u70b9",id:"\u8981\u70b9",level:4},{value:"\u5c5e\u6027\u3001\u65b9\u6cd5\u3001\u904d\u5386",id:"\u5c5e\u6027\u65b9\u6cd5\u904d\u5386",level:4},{value:"\u6570\u7ec4\u8f6c\u5316",id:"\u6570\u7ec4\u8f6c\u5316",level:4},{value:"2.4 WeakMap",id:"24-weakmap",level:3},{value:"WeakMap \u7684\u5e94\u7528",id:"weakmap-\u7684\u5e94\u7528",level:4}],u={toc:k};function c(e){var n=e.components,t=(0,l.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"1-symbol"},"1 Symbol"),(0,r.kt)("p",null,"\u4e3a\u4ec0\u4e48\u8981\u5f15\u5165 Symbol\uff1a"),(0,r.kt)("p",null,"\u5728ES6\u4e4b\u524d\uff0c\u5bf9\u8c61\u7684\u5c5e\u6027\u540d\u90fd\u662f\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u90a3\u4e48\u5f88\u5bb9\u6613\u9020\u6210\u5c5e\u6027\u540d\u7684\u51b2\u7a81\uff1b "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5982\uff0c\u5728\u67d0\u4e2a\u5916\u6765\u5bf9\u8c61\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u5c5e\u6027\uff0c\u4f46\u662f\u6211\u4eec\u5728\u4e0d\u786e\u5b9a\u5b83\u539f\u6765\u5185\u90e8\u6709\u4ec0\u4e48\u5185\u5bb9\u7684\u60c5\u51b5\u4e0b\uff0c\u5f88\u5bb9\u6613\u9020\u6210\u547d\u540d\u51b2\u7a81\uff0c\u4ece\u800c\u8986\u76d6\u6389\u5b83\u5185\u90e8\u7684\u67d0\u4e2a\u5c5e\u6027\uff1b "),(0,r.kt)("li",{parentName:"ul"},"\u5982\uff0c\u624b\u5199 js \u4e2d\u7684 apply\u3001call\u3001bind \u5b9e\u73b0\u65f6\uff0c\u8981\u6dfb\u52a0\u4e00\u4e2a fn \u5c5e\u6027\uff0c\u5982\u679c\u5b83\u5185\u90e8\u539f\u6765\u5df2\u7ecf\u6709\u4e86 fn \u5c5e\u6027\u5c31\u4f1a\u53d1\u751f\u8986\u76d6\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u5982\uff0c\u5f00\u53d1\u4e2d\u4f7f\u7528\u6df7\u5165\uff0c\u5982\u679c\u6df7\u5165\u7684\u591a\u4e2a\u5bf9\u8c61\u95f4\u51fa\u73b0\u4e86\u540c\u540d\u5c5e\u6027\uff0c\u5fc5\u7136\u6709\u4e00\u4e2a\u4f1a\u88ab\u8986\u76d6\u6389\uff1b")),(0,r.kt)("p",null,"Symbol \u7528\u6765\u751f\u6210\u4e00\u4e2a ",(0,r.kt)("strong",{parentName:"p"},"\u72ec\u4e00\u65e0\u4e8c\u7684\u503c"),"\u3002 "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u72ec\u4e00\u65e0\u4e8c"),"\u3002Symbol \u6bcf\u4e00\u6b21\u521b\u5efa\uff0c\u90fd\u4f1a\u521b\u5efa\u4e0d\u540c\u7684\u503c\uff0c\u4e0d\u5b58\u5728\u76f8\u540c\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u5bf9\u8c61\u5c5e\u6027\u540d"),"\u3002Symbol \u503c\u662f\u901a\u8fc7 Symbol \u51fd\u6570\u6765\u751f\u6210\u7684\uff0c\u751f\u6210\u540e\u53ef\u4ee5\u4f5c\u4e3a\u5c5e\u6027\u540d\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u63cf\u8ff0\u7b26"),"\u3002\uff08ES2019\uff09\u5728\u521b\u5efa Symbol \u503c\u7684\u65f6\u5019\u4f20\u5165\u4e00\u4e2a\u63cf\u8ff0 description\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u76f8\u5f53\u4e8e\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"toString()")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u65b9\u62ec\u53f7\u8bfb\u53d6"),"\u3002\u7528\u65b9\u62ec\u53f7\u83b7\u53d6 Symbol \u5bf9\u8c61 ",(0,r.kt)("inlineCode",{parentName:"p"},"obj[s1]"),"\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u4e0d\u7528\u80fd new"),"\u3002\u4e0d\u80fd\u7528 new \u53bb\u521b\u5efa\uff0c\u76f4\u63a5 ",(0,r.kt)("inlineCode",{parentName:"p"},"Symbol()")," \u521b\u5efa\u3002"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// 1.Symbol \u7684\u72ec\u4e00\u65e0\u4e8c\nconst s1 = Symbol();\nconst s2 = Symbol();\nconst s4 = Symbol();\n\nconsole.log(s1 === s2)  // false\n\n// 2. Symbol \u6709 description\nconst s3 = Symbol("es2019");\nconsole.log(s3.description)  // es2019\n\n// 3. Symbol \u4f5c\u4e3a key\uff0c\u7528 [\u65b9\u62ec\u53f7]\n// 3.1 \u5b57\u9762\u91cf\nconst obj = {\n  [s1]: "s111",\n  [s2]: "s222"\n}\n\n// 3.2 \u65b0\u589e\u5c5e\u6027\nobj[s3] = "s333";\n\n// 3.3 \u7279\u6027\u5b9a\u4e49\nObject.defineProperty(obj, s4, {  // \u8fd9\u91cc\u7684s4, \u5982\u679c\u662fstring\u8981\u52a0\u5f15\u53f7\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: "s444"\n})\n\n// 3.3 \u8bfb\u53d6Symbol\nconsole.log(obj[s1], obj[s2], obj[s3], obj[s4])\n// s111 s222 s333 s444\n')),(0,r.kt)("h3",{id:"11-\u5c5e\u6027\u7684\u904d\u5386"},"1.1 \u5c5e\u6027\u7684\u904d\u5386"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Symbol \u4e0d\u53ef\u5e38\u89c4\u904d\u5386"),"\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Symbol \u4f5c\u4e3a\u5c5e\u6027\u540d\uff0c\u904d\u5386\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u8be5\u5c5e\u6027\u4e0d\u4f1a\u51fa\u73b0\u5728 ",(0,r.kt)("inlineCode",{parentName:"li"},"for...in"),"\u3001",(0,r.kt)("inlineCode",{parentName:"li"},"for...of")," \u5faa\u73af\u4e2d\uff0c\u4e5f\u4e0d\u4f1a\u88ab",(0,r.kt)("inlineCode",{parentName:"li"},"Object.keys()"),"\u3001",(0,r.kt)("inlineCode",{parentName:"li"},"Object.getOwnPropertyNames()"),"\u3001",(0,r.kt)("inlineCode",{parentName:"li"},"JSON.stringify()"),"\u8fd4\u56de\u3002")),(0,r.kt)("p",null,"Symbol \u7684\u904d\u5386\u65b9\u5f0f\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Object.getOwnPropertySymbols()"),"\uff1a\u53ef\u4ee5\u904d\u5386\u6240\u6709 Symbol\uff1b"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Reflect.ownKeys()")," \uff1a\u53ef\u4ee5\u904d\u5386\u6240\u6709\u7c7b\u578b\u7684\u952e\u540d\uff08Symbol\uff0cString\uff09\uff1b")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const s1 = Symbol();\nconst s2 = Symbol('description2');\nconst s3 = Symbol('description3');\nconst obj = {\n  [s1]: \"val-1\",\n  [s2]: \"val-2\",\n  [s3]: \"val-3\",\n  s4: 'string'\n}\n\n// 4.1 \u5e38\u89c4API\u65e0\u6cd5\u904d\u5386 symbol\nconsole.log(Object.keys(obj)) // ['s4']\nconsole.log(Object.getOwnPropertyNames(obj)) // ['s4']\n\n// 4.2 \u53ea\u904d\u5386symbol\nconst sKeys = Object.getOwnPropertySymbols(obj);\n//\xa0(3)\xa0[Symbol(), Symbol(description2), Symbol(description3)]\nfor (const sKey of sKeys) {\n  console.log(obj[sKey]);\n    // val-1 val-2 val-3\n}\n\n// 4.3 \u904d\u5386\u5168\u90e8\u5c5e\u6027\nconst keys = Reflect.ownKeys(obj);\nfor (const key of keys) {\n  console.log(obj[key]); \n  // string val-1 val-2 val-3\n}\n")),(0,r.kt)("h3",{id:"12-symbolfor--keyfor"},"1.2 Symbol.for / .keyFor"),(0,r.kt)("p",null,"\u7528\u4e8e\u521b\u5efa\u76f8\u540c\u7684 Symbol \u548c \u67e5\u627e Symbol\u3002"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Symbol.for(key)"),"\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u53c2\u6570\uff1aSymbol \u7684\u63cf\u8ff0\u7b26\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u4f5c\u7528\uff1a\u627e\u5230\u5e76\u8fd4\u56de ",(0,r.kt)("strong",{parentName:"li"},"\u63cf\u8ff0\u7b26\u76f8\u540c")," \u7684 Symbol\u3002"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Symbol.keyFor(symbol)"),"\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u53c2\u6570\uff1aSymbol (\u5f15\u7528)\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u627e\u5230\u5e76\u8fd4\u56de ",(0,r.kt)("strong",{parentName:"li"},"\u53d8\u91cf\u540d\u76f8\u540c")," \u7684 Symbol \u63cf\u8ff0\u7b26\u3002")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const sa = Symbol.for("aaa");\nconst sb = Symbol.for("aaa");\nconsole.log(sa === sb);  // true\n\nconst key = Symbol.keyFor(sa);\nconsole.log(key);        // aaa \u8fd4\u56de\u63cf\u8ff0\u7b26\nconst sc = Symbol.for(key);\nconsole.log(sa === sc);     // true\n')),(0,r.kt)("p",null,"\u66f4\u591a\u8865\u5145\uff1aES6 \u76f8\u5173\u7b14\u8bb0"),(0,r.kt)("h3",{id:"13-\u5185\u7f6e\u7684-symbol-\u503c"},"1.3 \u5185\u7f6e\u7684 Symbol \u201c\u503c\u201d"),(0,r.kt)("p",null,"\u5f53 ES6 \u7248\u672c\u4ee5\u540e\u66f4\u65b0\u4e86 Symbol \u65f6\uff0cJs \u5185\u7f6e\u5bf9\u8c61\u4e2d\u8bb8\u591a\u56fa\u5b9a\u7684\u5185\u90e8\u5c5e\u6027\u548c\u65b9\u6cd5\u90fd\u91c7\u7528 Symbol \u6765\u5b9a\u4e49\u3002\u8fd9\u4e9b\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u90fd\u62e5\u6709\u56fa\u5b9a\u7684 Symbol \u63cf\u8ff0\u7b26\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e3a\u4e86\u89c4\u8303\u547d\u540d\u7a7a\u95f4\uff0c \u5168\u90e8\u653e\u5728 Symbol \u5bf9\u8c61\u4e0b\uff0c\u91c7\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"[Symbol.xx]")," \u7684\u65b9\u5f0f\u53ef\u4ee5\u627e\u5230\u4ed6\u4eec\u3002"))),(0,r.kt)("h4",{id:"symboliterator"},"Symbol.iterator"),(0,r.kt)("p",null,"\u6307\u5411\u8be5\u5bf9\u8c61\u7684 iterator \u8fed\u4ee3\u5668\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const person = {}\nperson[Symbol.iterator] = function*() {\n  yield 1\n  yield 2\n  yield 3\n}\n\n[...person]   // (3)\xa0[1, 2, 3]\n// \u6216\uff1a\nfor(let value of person){\n    console.log(value)\n}\n// 1\n// 2\n// 3\n")),(0,r.kt)("h4",{id:"\u4e00\u5b57\u7b26\u4e32\u5bf9\u8c61-api"},"\u4e00\u3001\u5b57\u7b26\u4e32/\u5bf9\u8c61 API"),(0,r.kt)("p",null,"Symbol.match\u3001Symbol.replace\u3001Symbol.search\u3001Symbol.split"),(0,r.kt)("p",null,"\u5b9e\u9645\u4e0a\u5c31\u662f\u5bf9\u5e94\u7684 String \u5b57\u7b26\u4e32\u4e2d\u7684\u65b9\u6cd5\u3002\u4e2a\u4eba\u8ba4\u4e3a\uff0c\u591a\u8bbe\u8ba1\u4e00\u4e2a Symbol \u7684\u76ee\u7684\uff0c\u5c31\u662f\u4e3a\u4e86\u53ef\u4ee5\u65b9\u4fbf\u7684\u5728\u4e00\u4e2a\u65b0\u5efa\u7684\u5b9e\u4f8b\u5bf9\u8c61\u4e2d \u201c\u8986\u76d6 / \u91cd\u5199\u201d \u8be5\u65b9\u6cd5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(1) Symbol.match")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"match()")," \uff1a\u53ef\u5728\u5b57\u7b26\u4e32\u5185\u68c0\u7d22\u6307\u5b9a\u7684\u503c\uff0c\u6216\u627e\u5230\u4e00\u4e2a\u6216\u591a\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u3002"),(0,r.kt)("p",null,"\u4f5c\u7528\uff1a\u6307\u5411\u4e00\u4e2a\u51fd\u6570\u3002\u8c03\u7528\u65f6\uff0c\u9700\u8981\u4e00\u4e2aString\u5b9e\u4f8b\u6765\u8c03\u7528\u3002",(0,r.kt)("inlineCode",{parentName:"p"},"str.match(Obj)"),'\uff0c"str"\u6700\u7ec8\u4f1a\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u9012\u7ed9match \u6307\u5411\u7684\u90a3\u4e2a\u51fd\u6570\u3002\u5728\u5bf9\u8c61\u6dfb\u52a0\u4e86Symbol.match\u5c5e\u6027\u540e\uff0c\u5c31\u4f1a\u6709\u4e24\u4e2a\u8c03\u7528match\u7684\u65b9\u5f0f\uff1a'),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"String \u5b9e\u4f8b\uff1a\u8c03\u7528\u5b57\u7b26\u4e32\u5bf9\u8c61\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"prototype.match()")," \u65b9\u6cd5\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5bf9\u8c61\u5b9e\u4f8b\uff1a\u8c03\u7528\u5bf9\u8c61\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"[Symbol.match]()")," \u65b9\u6cd5\u3002")),(0,r.kt)("p",null,"\u53c2\u6570\uff1a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u91cc\u9762\u4fdd\u5b58\u7740Symbol.match\u5c5e\u6027\u3002"),(0,r.kt)("p",null,"\u8fd4\u56de\uff1a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"class Person {\n    [Symbol.match](value){\n        return '\u6267\u884c\u8be5\u65b9\u6cd5\uff1a' + value\n    }\n}\nlet p = new Person()\n\n'value'.match(p)   // \"\u6267\u884c\u8be5\u65b9\u6cd5\uff1avalue\"\n// \u76f8\u5f53\u4e8e\np[Symbol.match]('value')  // \"\u6267\u884c\u8be5\u65b9\u6cd5\uff1avalue\"\n\n\n// \u4e0b\u9762\u4e24\u4e2a\u8c03\u7528\uff0c\u6548\u679c\u662f\u4e00\u6837\u7684\n'str'.prototype.match(newObj) \nnewObj[Symbol.match]('str')\n\n//\u5982\u679c\u91c7\u7528\u6b63\u5219\u5339\u914d \uff1aregexp\nString.prototype.match(regexp)\nregexp[Symbol.match](this)\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(2) Symbol.replace")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"replace()")," \uff1a\u7528\u4e8e\u5728\u5b57\u7b26\u4e32\u4e2d\u7528\u4e00\u4e9b\u5b57\u7b26\u66ff\u6362\u53e6\u4e00\u4e9b\u5b57\u7b26\uff0c\u6216\u66ff\u6362\u4e00\u4e2a\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u5b50\u4e32\u3002"),(0,r.kt)("p",null,"Symbol.replace \u7684\u4e24\u4e2a\u8c03\u7528\u65b9\u6cd5\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5b57\u7b26\u4e32\u5b9e\u4f8b\uff1a\u8c03\u7528\u5b57\u7b26\u4e32\u5bf9\u8c61\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"prototype.replace()"),"\u65b9\u6cd5\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5bf9\u8c61\u5b9e\u4f8b\uff1a\u8c03\u7528\u5b9e\u4f8b\u5bf9\u8c61\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"[Symbol.replace](this, )")," \u65b9\u6cd5\u3002")),(0,r.kt)("p",null,"\u4f5c\u7528\uff1a\u6307\u5411\u4e00\u4e2a\u65b9\u6cd5\u3002\u65b9\u5f0f\u4e0e\u4e0a\u6587 match \u5927\u81f4\u76f8\u540c\u3002"),(0,r.kt)("p",null,"\u53c2\u65701\uff1a \u5b9e\u4f8b\u5bf9\u8c61\u3002\n\u53c2\u65702\uff1a"),(0,r.kt)("p",null,"\u8fd4\u56de\uff1a\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u4e0b\u9762\u4e24\u4e2a\u8c03\u7528\uff0c\u6548\u679c\u662f\u4e00\u6837\u7684\n'str'.prototype.replace(searchValue, replaceValue)\nsearchValue[Symbol.replace](this, replaceValue)\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(3) Symbol.search")),(0,r.kt)("p",null,"search() \uff1a\u7528\u4e8e\u68c0\u7d22\u5b57\u7b26\u4e32\u4e2d\u6307\u5b9a\u7684\u5b50\u5b57\u7b26\u4e32\uff0c\u6216\u68c0\u7d22\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u76f8\u5339\u914d\u7684\u5b50\u5b57\u7b26\u4e32\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u4e0b\u9762\u4e24\u4e2a\u8c03\u7528\uff0c\u6548\u679c\u662f\u4e00\u6837\u7684\nString.prototype.search(regexp)\nregexp[Symbol.search](this)\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(4) Symbol.split")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u4e0b\u9762\u4e24\u4e2a\u8c03\u7528\uff0c\u6548\u679c\u662f\u4e00\u6837\u7684\nString.prototype.split(separator, limit)\nseparator[Symbol.split](this, limit)\n")),(0,r.kt)("h4",{id:"\u4e8c\u539f\u578b\u94fe--\u7ee7\u627f-api"},"\u4e8c\u3001\u539f\u578b\u94fe / \u7ee7\u627f API"),(0,r.kt)("p",null,"(1) Symbol.hasInstance**"),(0,r.kt)("p",null,"\u6307\u5411\u4e00\u4e2a\u5185\u90e8\u65b9\u6cd5\u3002\u5f53\u5176\u4ed6\u5bf9\u8c61\u4f7f\u7528 instanceof \u8fd0\u7b97\u7b26\uff0c\u5224\u65ad\u662f\u5426\u4e3a\u8be5\u5bf9\u8c61\u7684\u5b9e\u4f8b\u65f6\uff0c\u8c03\u7528\u8be5\u65b9\u6cd5\u3002"),(0,r.kt)("p",null,"\u4e0b\u4f8b\u4e2d\uff0c\u8c03\u7528 instanceof \u51fd\u6570\uff0c\u6700\u7ec8\u8c03\u7528\u4e86 Person\u7c7b\u4e2d\u7684\uff0cSymbol.hasInstance\u3002"),(0,r.kt)("p",null,"\u51fd\u6570\u7684\u8fd4\u56de\uff1a\u5e03\u5c14\u503c\uff0ctrue \u8868\u793a instanceof \u5224\u65ad\u7c7b\u76f8\u540c\uff0cfalse \u8868\u793a\u4e0d\u76f8\u540c\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u4f8b\u5b50\u4e00\nclass Person {\n  [Symbol.hasInstance](value) {\n    return value instanceof Array;\n  }\n}\n\nlet person1 = new Person()\n[1,2,3] instanceof person1   // true\n\n// \u4f8b\u5b50\u4e8c\n// class + static \u7c7b\u65b9\u5f0f\nclass DoubleNumber {\n  static [Symbol.hasInstance](value) {\n    return Number(value) % 2 === 0    // \u5224\u65ad\u662f\u5426\u662f 2 \u7684\u500d\u6570\n    // true\uff0c\u8868\u793a\u662f2\u7684\u500d\u6570\uff0c\n  }\n}\n\n// \u7b49\u540c\u4e8e\uff1a const \u65b9\u5f0f\nconst DoubleNumber2 = {\n  [Symbol.hasInstance](value) {\n    return Number(value) % 2 === 0\n  }\n}\n\n1 instanceof DoubleNumber  // false \u4e0d\u80fd\u88ab2\u6574\u9664\n2 instanceof DoubleNumber  // true \u53ef\u4ee5\u88ab2\u6574\u9664\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(2) Symbol.species")),(0,r.kt)("p",null,"\u6307\u5411\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002\u521b\u5efa\u884d\u751f\u5bf9\u8c61\u65f6\uff0c\u8c03\u7528\u8be5\u5c5e\u6027\u4e2d\u7684\u51fd\u6570\u3002",(0,r.kt)("inlineCode",{parentName:"p"},"Symbol.species"),"\u662f\u4e00\u4e2a getter \u51fd\u6570\u3002"),(0,r.kt)("p",null,"\u4f8b\u5b50\u4e2d\uff0cFather\u7c7b\uff0c\u7ee7\u627f Array\u6570\u7ec4\u3002\u7136\u540e a \u662f Father \u7684\u5b9e\u4f8b\u5316\uff0cb \u662f a \u7684\u884d\u751f\u5bf9\u8c61\u3002"),(0,r.kt)("p",null,"a \u548c b \u65e2\u662f Father \u7684\u5b9e\u4f8b\uff0c\u4e5f\u662f Array \u7684\u5b9e\u4f8b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"class Father extends Array { }\n\nlet a = new Father(1,2,3)   // Father(3)\xa0[1, 2, 3]\nlet b = a.map(x => x*2)     // Father(3)\xa0[2, 4, 6]\n\nb instanceof Father  // true\nb instanceof Array   // true\n")),(0,r.kt)("p",null,"\u5982\u679c\u7ed9 Father \u7c7b\u4e2d\uff0c\u8bbe\u7f6e Symbol.species \u6307\u5411\u8c03\u7528\u65b9\u6cd5\u3002\u8be5\u65b9\u6cd5\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u884d\u751f\u5bf9\u8c61\u5728\u88ab\u521b\u5efa\u65f6\uff0c\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\u3002"),(0,r.kt)("p",null,"\u5b9a\u4e49",(0,r.kt)("inlineCode",{parentName:"p"},"Symbol.species"),"\u5c5e\u6027\u91c7\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"get"),"\u53d6\u503c\u5668\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u9ed8\u8ba4\u7684`Symbol.species`\u5c5e\u6027\u7684\u5199\u6cd5\u3002\nstatic get [Symbol.species]() {\n  return this;\n}\n\n// \u5bf9\u4e0a\u4f8b\u7684Father\u8bbe\u7f6e\u4e00\u4e2a\u884d\u751f\u5bf9\u8c61\u8c03\u7528\u65b9\u6cd5\nclass Father extends Array { \n    static get [Symbol.species]() { return Array }  // \u8c03\u7528Array\u521b\u5efa\u884d\u751f\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f Father\n}\n\nlet a = new Father(1,2,3)   // Father(3)\xa0[1, 2, 3]\nlet b = a.map(x => x*2)     // Father(3)\xa0[2, 4, 6]\n\n// b \u662f\u88abArray\u521b\u5efa\u7684\nb instanceof Father // false\nb instanceof Array // true\n\n// a \u4e0d\u53d7\u5f71\u54cd\na instanceof Father // true\na instanceof Array // true\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Promise")),(0,r.kt)("p",null,"Promise\u5bf9\u8c61\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684Promise\u5b9e\u4f8b\u3002\u5982\u679c\u8c03\u7528 then\u65b9\u6cd5\uff0c\u4f1a\u7ee7\u7eed\u8fd4\u56de\u4e00\u4e2aPromise\u5b9e\u4f8b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"class T1 extends Promise {}\n\nlet a = new T1 (r => r)\nlet b = a.then (r => r)\n\na === b  // false \u4e24\u4e2aPromise\u5b9e\u4f8b\u4e0d\u76f8\u7b49\nb instanceof T1\nb instanceof Promise  // \u53ef\u4ee5\u770b\u5230\uff0cb\u662f\u7531T1\u7684\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u3002\n")),(0,r.kt)("p",null,"\u5982\u679c\u5e0c\u671b then() \u65b9\u6cd5\u8fd4\u56de\u7684Promise\u5b9e\u4f8b\uff0c\u662f\u7531 Promise\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\uff0c\u800c\u4e0d\u662f T1\uff0c\u9700\u8981\u7528\u5230 Symbol.species\u3002\u521b\u5efa\u4e00\u4e2a getter\u51fd\u6570\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"class T2 extends Promise {\n  static get [Symbol.species]() {\n    return Promise;\n  }\n}\n\nlet a = new T2(r => r)\nlet b = a.then(v => v) \nb instanceof T2 // false\nb instanceof Promise // true\n")),(0,r.kt)("h4",{id:"\u4e09\u539f\u59cb\u503c\u6253\u5370\u503c-api"},"\u4e09\u3001\u539f\u59cb\u503c/\u6253\u5370\u503c API"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(1) Symbol.toPrimitive")),(0,r.kt)("p",null,"\u4f5c\u7528\uff1a\u6267\u884c\u4e00\u4e2a\u65b9\u6cd5\u3002\u8be5\u65b9\u6cd5\u7684\u89e6\u53d1\uff1a\u8be5\u5bf9\u8c61\u88ab\u8f6c\u4e3a\u539f\u59cb\u7c7b\u578b\u7684\u503c\u3002"),(0,r.kt)("p",null,"\u53c2\u6570\uff1a\u5b57\u7b26\u4e32\u53c2\u6570\uff0c\u8868\u793a\u5f53\u524d\u7684\u8fd0\u7b97\u6a21\u5f0f\uff1a\nNumber\uff1a\u8f6c\u6210\u6570\u503c\nString\uff1a\u8f6c\u6210\u5b57\u7b26\u4e32\nDefault\uff1a\u6570\u503c\uff0c\u5b57\u7b26\u4e32\u90fd\u53ef\u8f6c"),(0,r.kt)("p",null,"\u8fd4\u56de\uff1a\u8be5\u5bf9\u8c61\u5bf9\u5e94\u7684\u539f\u59cb\u7c7b\u578b\u503c\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(2) Symbol.toStringTag")),(0,r.kt)("p",null,"\u4f5c\u7528\uff1a\u6307\u5411\u4e00\u4e2a\u65b9\u6cd5\u3002\u5728\u67d0\u4e2a\u5bf9\u8c61\u4e0a\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"Object.prototype.toString")," \u65f6\uff0c\u5982\u679c\u8be5\u5c5e\u6027\u5b58\u5728\uff0c\u5219\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8c03\u7528\u8be5\u5c5e\u6027\u6307\u5411\u7684\u65b9\u6cd5\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u8be5\u65b9\u6cd5\u5728\u6267\u884c\u540e\uff0creturn \u7684 '\u5b57\u7b26\u4e32' \u5c31\u662f\u8be5\u5bf9\u8c61\u7684 ",(0,r.kt)("strong",{parentName:"li"},"\u7c7b\u578b"),"\u3002")),(0,r.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u5c5e\u6027\u53ef\u4ee5\u7528\u6765\u5b9a\u5236 ",(0,r.kt)("inlineCode",{parentName:"p"},"[object Object]"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"[object Array]"),"\u4e2d",(0,r.kt)("inlineCode",{parentName:"p"},"object")," \u540e\u9762\u7684\u90a3\u4e2a\u5b57\u7b26\u4e32\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// \u65b9\u6cd5\u4e00\nconst obj = {};\nobj[Symbol.toStringTag] = 'func';\nobj.toString()   // \"[object func]\"\n\n// \u65b9\u6cd5\u4e8c\nclass Person {\n   get [Symbol.toStringTag]() {\n    return 'func';\n  }\n}\n\nconst p = new Person();\np.toString();                   // \"[object func]\"\np[Symbol.toStringTag];  //  'func'\n")),(0,r.kt)("h4",{id:"\u56db\u5176\u4ed6-api"},"\u56db\u3001\u5176\u4ed6 API"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(1) Symbol.isConcatSpreadable")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Spreadable  a. \u53ef\u6269\u5c55\u7684\uff0c\u53ef\u4f20\u64ad\u7684")),(0,r.kt)("p",null,"\u8be5\u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u8868\u793a\u5bf9\u8c61\u7528\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"Array.prototype.concat()"),"\u65f6\uff0c\u662f\u5426\u53ef\u4ee5\u5c55\u5f00\u3002"),(0,r.kt)("p",null,"\u5982\u679c\u662f\u6570\u7ec4\uff1a\u9ed8\u8ba4",(0,r.kt)("strong",{parentName:"p"},"\u652f\u6301\u5c55\u5f00"),"\uff0c\u503c\u4e3a undefined\uff0c\u5982\u679c\u7b49\u4e8etrue\uff0c\u4e5f\u662f\u652f\u6301\u5c55\u5f00\u3002\n\u5982\u679c\u662f\u7c7b\u6570\u7ec4\u5bf9\u8c61\uff1a\u9ed8\u8ba4",(0,r.kt)("strong",{parentName:"p"},"\u4e0d\u652f\u6301\u5c55\u5f00"),"\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u56de\u987e concat()")),(0,r.kt)("p",null,"\u4f5c\u7528\uff1a\u5408\u5e76\u4e24\u4e2a/\u591a\u4e2a\u6570\u7ec4\u3002"),(0,r.kt)("p",null,"\u53c2\u6570\uff1a\u8981\u5408\u5e76\u7684\u6570\u7ec4\u3002"),(0,r.kt)("p",null,"\u8fd4\u56de\uff1a\u65b0\u6570\u7ec4\uff0c\u5408\u5e76\u540e\u7684\u6570\u7ec4\uff08\u6d45\u62f7\u8d1d\uff0c\u53ea\u62f7\u8d1d\u503c\uff09\u3002"),(0,r.kt)("p",null,"\u95ee\u9898\uff1a\u5408\u5e76\u7684\u6570\u7ec4/\u7c7b\u6570\u7ec4\u5bf9\u8c61\u4e2d\uff0c\u4f1a\u6709\u662f\u4f5c\u4e3a\u6574\u4f53\u5408\u5e76\uff0c\u8fd8\u662f\u5c55\u5f00\u4e3a\u4e00\u4e2a\u4e2a\u5143\u7d20\u518d\u5408\u5e76\u7684\u95ee\u9898\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let arr1 = ['a','b','c']\nlet arr2 = [1,2,3]\nlet arr3 = ['x','y','z']\n\nlet allArr = arr1.concat(arr2, arr3)\n// (9)\xa0[\"a\", \"b\", \"c\", 1, 2, 3, \"x\", \"y\", \"z\"]\n\n")),(0,r.kt)("p",null,"\u5982\u679c\u662f\u6570\u7ec4\uff1a\u9ed8\u8ba4",(0,r.kt)("strong",{parentName:"p"},"\u652f\u6301\u5c55\u5f00"),"\uff0c\u503c\u4e3a undefined\u3002\u5982\u679c\u7b49\u4e8etrue\uff0c\u4e5f\u662f\u652f\u6301\u5c55\u5f00\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'let arr1 = [\'a\',\'b\',\'c\']\nlet arr2 = [1,2,3]\nlet arr3 = [\'x\',\'y\',\'z\']\n\narr1[Symbol.isConcatSpreadable]  // \u6570\u7ec4\u9ed8\u8ba4\uff1aundefined\nlet allArr1 = arr1.concat(arr2, arr3)\n// (9)\xa0["a", "b", "c", 1, 2, 3, "x", "y", "z"]\n\narr2[Symbol.isConcatSpreadable] = false // \u65e0\u6cd5\u5c55\u5f00\nlet allArr2 = arr1.concat(arr2, arr3)\n// (7)\xa0["a", "b", "c", Array(3), "x", "y", "z"]\n//                    [1, 2, 3]\n')),(0,r.kt)("p",null,"\u5982\u679c\u662f\u7c7b\u6570\u7ec4\u5bf9\u8c61\uff1a\u9ed8\u8ba4",(0,r.kt)("strong",{parentName:"p"},"\u4e0d\u652f\u6301\u5c55\u5f00"),"\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'let arr1 = [1,2,3]\nlet arr2 = [6,7,8]\nlet obj = {\n  length: 3,\n  0: \'a\',\n  1: \'b\',\n  2: \'c\',\n}\narr1.concat(obj, arr2)    // \u9ed8\u8ba4\u4e0d\u652f\u6301\u5c55\u5f00\n//(7)\xa0[1, 2, 3, {\u2026}, 6, 7, 8]\n//              {0: "a", 1: "b", 2: "c", length: 3}\n\nobj[Symbol.isConcatSpreadable] = true\narr1.concat(obj, arr2)  // \u53ef\u4ee5\u5c55\u5f00\u4e86\n// (9)\xa0[1, 2, 3, "a", "b", "c", 6, 7, 8]\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(2) Symbol.unscopables")),(0,r.kt)("p",null,"\u4e0e with \u76f8\u5173\uff0c\u611f\u89c9\u7528\u4e0d\u5230\uff0c\u6ca1\u7ec6\u770b\u3002"),(0,r.kt)("h2",{id:"2-set---map"},"2. Set  & Map"),(0,r.kt)("p",null,"\u5728 es5 \u65f6\u4ee3\uff0c\u6709\u4e24\u79cd\u5b58\u50a8\u6570\u636e\u7684\u7ed3\u6784\uff1a\u6570\u7ec4\u3001\u5bf9\u8c61\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4ed6\u4eec\u5e95\u5c42\u662f\u7528 hash table \u5b9e\u73b0\u7684\u3002")),(0,r.kt)("p",null,"es6 \u65b0\u589e\u4e86\u56db\u4e2a\u6570\u636e\u7ed3\u6784\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Set\u3001Map\u3001WeakSet\u3001WeakMap")),(0,r.kt)("h3",{id:"21-set"},"2.1 Set"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u53ea\u6709\u503c"),"\u3002\u7c7b\u6570\u7ec4\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ea\u6709 value\uff0c\u6ca1\u6709 key\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u503c\u4e3a\u4e00"),"\u3002\u6210\u5458\u7684\u503c\u90fd\u552f\u4e00\uff0c\u4e5f\u5c31\u662f\u8bf4 ",(0,r.kt)("strong",{parentName:"li"},"\u6ca1\u6709\u91cd\u590d\u7684\u503c")," \u3002",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Set \u5e38\u7528\u7684\u529f\u80fd\uff1a",(0,r.kt)("strong",{parentName:"li"},"\u6570\u7ec4\u53bb\u91cd"),"\u3002"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u53ef\u904d\u5386"),"\u3002Set \u662f\u53ef\u904d\u5386\u7684\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// \u521d\u59cb\u5316\uff1a\u53ef\u4ee5\u63a5\u53d7\u5177\u6709Iterator\u63a5\u53e3\u7684\u6570\u636e\u7ed3\u6784\nconst set = new Set([1,2,3,4,5])\n[...set]   // (5)[1,2,3,4,5]\nset.size   // 5\n\n\n// \u6dfb\u52a0\uff1a\u91cd\u590d\u7684\u6210\u5458\u4e0d\u4f1a\u88ab\u6dfb\u52a0\nset.add([1,2,100])     // Set(6)\xa0{1, 2, 3, 4, 5,\xa0100}\n[...set]   // [1,2,3,4,5,100]\n\n\n// \u53bb\u9664\u6570\u7ec4\u4e2d\u91cd\u590d\u6210\u5458\u7684\u65b9\u6cd5\uff1a\n// \u65b9\u6cd5\u4e00\uff1a\n[...new Set([1,2,2,3,3,4])]  //(4)\xa0[1, 2, 3, 4]\n\n// \u65b9\u6cd5\u4e8c\uff1a\nfunction func(array) {\n  return array.from(new Set(array))\n}\nfunc([1,2,2,3])   //[1,2,3]\n// \u5229\u7528\u539f\u7406\uff1a\n// 1  new Set() :\u751f\u6210\u4e00\u4e2aSet\u7ed3\u6784\uff08\u6d88\u9664\u91cd\u590d\u6210\u5458\uff09;\n// 2 Array.from :\u5c06Set\u7ed3\u6784\u8f6c\u4e3a\u6570\u7ec4\u3002\nconst set = new Set([1,2,2,3]);\nconst array = Array.from(set)   // [1,2,3]\n")),(0,r.kt)("p",null,"Set \u65b0\u589e\u6570\u503c\u4e0d\u53d1\u751f\u7c7b\u578b\u8f6c\u6362\uff1a 5 \u548c \u201c5\u201d \u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u503c\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5224\u65ad\u76f8\u7b49\u7684\u7b97\u6cd5\uff1aSame-value-zero equality \u7c7b\u4f3c\u4e8e \u201c===\u201d\u3002",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4e0d\u540c\u70b9\uff1a Set \u52a0\u5165\u503c\u4e2d NaN \u7b49\u4e8e\u81ea\u8eab\uff0c\u66f4\u7b26\u5408\u903b\u8f91\uff1b\n\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26 NaN \u4e0d\u7b49\u4e8e\u81ea\u8eab\uff1a")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"NaN === NaN   // false\n\n// \u53ef\u4ee5\u770b\u5230\uff0c\u4e0d\u4f1a\u91cd\u590d\u6dfb\u52a0\u4e24\u4e2aNaN\uff0c\u8bf4\u660e\u5185\u90e8\u5224\u65ad NaN\u76f8\u7b49\nlet set = new Set([1, NaN, 2])\nset.add(NaN, 3)       // Set(3)\xa0{1, NaN, 2}\n\n// add\u6dfb\u52a0\uff0c\u53c2\u6570\u5982\u679c\u5e26[\u65b9\u62ec\u53f7]\uff0c\u4f1a\u76f4\u63a5\u53d8\u6210\u6dfb\u52a0\u8be5\u6570\u7ec4\uff1a\nset.add([NaN, 3])     // Set(3) {1, NaN, [NaN, 3]}\n")),(0,r.kt)("h4",{id:"set-\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5"},"Set \u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5"),(0,r.kt)("p",null,"\u5b9e\u4f8b\u5c5e\u6027\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Set.prototype.constructor"),"\uff1a\u6784\u9020\u51fd\u6570\uff0c\u9ed8\u8ba4\u5c31\u662f",(0,r.kt)("inlineCode",{parentName:"li"},"Set"),"\u51fd\u6570\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Set.prototype.size"),"\uff1a\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"li"},"Set"),"\u5b9e\u4f8b\u7684\u6210\u5458\u603b\u6570\u3002")),(0,r.kt)("p",null,"\u5b9e\u4f8b\u65b9\u6cd5\uff1a"),(0,r.kt)("p",null,"\u5206\u4e3a\u4e24\u5927\u7c7b\uff1a\u64cd\u4f5c\u65b9\u6cd5\uff08\u7528\u4e8e\u64cd\u4f5c\u6570\u636e\uff09\u548c\u904d\u5386\u65b9\u6cd5\uff08\u7528\u4e8e\u904d\u5386\u6210\u5458\uff09\u3002"),(0,r.kt)("p",null,"\u56db\u4e2a\u64cd\u4f5c\u65b9\u6cd5\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Set.prototype.add(value)"),"\uff1a\u6dfb\u52a0\u67d0\u4e2a\u503c\uff0c\u8fd4\u56de Set \u7ed3\u6784\u672c\u8eab\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Set.prototype.delete(value)"),"\uff1a\u5220\u9664\u67d0\u4e2a\u503c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5220\u9664\u662f\u5426\u6210\u529f\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Set.prototype.has(value)"),"\uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u503c\u662f\u5426\u4e3a",(0,r.kt)("inlineCode",{parentName:"li"},"Set"),"\u7684\u6210\u5458\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Set.prototype.clear()"),"\uff1a\u6e05\u9664\u6240\u6709\u6210\u5458\uff0c\u6ca1\u6709\u8fd4\u56de\u503c\u3002")),(0,r.kt)("p",null,"\u56db\u4e2a\u904d\u5386\u65b9\u6cd5\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Set.prototype.keys()"),"\uff1a\u8fd4\u56de Key \u7684\u904d\u5386\u5668"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Set.prototype.values()"),"\uff1a\u8fd4\u56de Value \u7684\u904d\u5386\u5668\u3002\u662f\u5b83\u7684\u9ed8\u8ba4\u904d\u5386\u5668"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Set.prototype.entries()"),"\uff1a\u8fd4\u56de ",(0,r.kt)("inlineCode",{parentName:"li"},"[K, V]")," \u7684\u904d\u5386\u5668"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Set.prototype.forEach()"),"\uff1a\u4f7f\u7528\u56de\u8c03\u51fd\u6570\u904d\u5386\u6bcf\u4e2a\u6210\u5458\uff0c\u65e0\u8fd4\u56de\u503c\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'let set = new Set([\'red\', \'green\', \'yellow\']);\nfor(let v of set.keys()) {\n  console.log(v);\n}\n// red  \n// green     \n// yellow\n\n\nfor(let v of set.entries()) {\n  console.log(v);\n}\n// ["red", "red"]\n// ["green", "green"]\n// ["blue", "blue"]\n\n\n// \u9ed8\u8ba4\u904d\u5386\u5668\uff0c\u5c31\u662fvalues()\u3002\nSet.prototype[Symbol.iterator] === Set.prototype.values; // true\n// \u6240\u4ee5\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528 for of \u904d\u5386\uff0c\u4e0d\u9700\u8981 values()\nfor(let v of set) {\n  console.log(v)\n}\n\n\n// forEach()\uff0c\u53c2\u6570\u56fa\u5b9a\uff1a\u503c\u3001\u952e\u3001\u5bf9\u8c61\u672c\u8eab\nset.forEach((value, key, mySet) => \n  console.log(key + " : " + value ));\n// red : red\n// green : green\n// yellow : yellow\n\n\n// ...\u6269\u5c55\u8fd0\u7b97\u7b26\u5185\u90e8\u4f7f\u7528for...of\u5faa\u73af\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u7528\u4e8eSet\u7ed3\u6784\n[...set]  // red   green    yellow\n// ...\u904d\u5386\u5faa\u73af\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2a\u6570\u7ec4\u4e86\n[...set] instanceof Array      //true\n')),(0,r.kt)("p",null,"\u6570\u7ec4\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"map")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"filter")," \u65b9\u6cd5\u4e5f\u53ef\u4ee5\u95f4\u63a5\u7528\u4e8e Set \uff0c\u5b9e\u73b0 \u5e76\u96c6\u3001\u4ea4\u96c6\u3001\u5dee\u96c6\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"filter()"),": \u89c4\u5b9a\u4e00\u4e2a\u6761\u4ef6\u3002\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\u5c06\u88ab\u8fd4\u56de\uff0c\u7ec4\u6210\u65b0\u6570\u7ec4\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"map()")," : \u8fd4\u56de\u4e00\u4e2a\u65b0\u6570\u7ec4\uff0c\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u4e3a\u539f\u59cb\u6570\u7ec4\u5143\u7d20\u8c03\u7528\u51fd\u6570\u5904\u7406\u540e\u7684\u503c\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let a = new Set([1,2,3])\nlet b = new Sete([2,3,4])\n\n// \u5e76\u96c6\nlet union = new Set([...a, ...b])\n// Set {1, 2, 3, 4}\n\n// \u4ea4\u96c6\nlet intersect = new Set([...a].filter(x => b.has(x)))  // \u4ece a \u4e2d\uff0c\u4f9d\u6b21\u5224\u65ad\u662f\u5426\u542b\u6709b\u6210\u5458\n// Set {2, 3}\n\n// \u5dee\u96c6\uff1aa \u76f8\u5bf9\u4e8e b \u7684\u5dee\u96c6\nlet difference = new Set([...a].filter(x => !b.has(x)));\n")),(0,r.kt)("h3",{id:"22-weakset"},"2.2 WeakSet"),(0,r.kt)("p",null,"\u7279\u70b9\uff1a\u7c7b\u4f3c Set \u7ed3\u6784\uff0c\u4e0d\u91cd\u590d\u7684\u503c\u7684\u96c6\u5408\u3002"),(0,r.kt)("p",null,"\u4e0d\u540c\u7684\u662f\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5f31\u5f15\u7528")," \u5bfc\u81f4\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"\u5bf9\u8c61\u7ea6\u675f"),"\u3002\u6210\u5458\u53ea\u80fd\u662f ",(0,r.kt)("strong",{parentName:"li"},"\u5bf9\u8c61"),"\uff08\u4e0d\u80fd\u662f Number\u3001Boolean\u3001Symbol\u3001String\uff09\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"\u5783\u573e\u56de\u6536"),"\u3002WeakSet \u5185\u7684\u6210\u5458\u5bf9\u8c61\u662f ",(0,r.kt)("strong",{parentName:"li"},"\u5f31\u5f15\u7528"),"\uff0c\u5373\u5783\u573e\u56de\u6536\u673a\u5236\uff1a",(0,r.kt)("strong",{parentName:"li"},"\u4e0d\u8003\u8651\u5bf9WeakSet\u7684\u6301\u6709\uff0c\u5bf9\u5783\u573e\u56de\u6536\u7684\u5f71\u54cd"),"\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5c31\u662f\u5982\u679c\u67d0\u4e2a\u5bf9\u8c61\u5176\u4ed6\u65b9\u5f0f\uff08\u975e Weak\uff09\u7684\u5f15\u7528\u6b21\u6570\u4e3a 0 \u540e\uff0c\u5c31\u4f1a\u88ab\u5783\u573e\u56de\u6536\uff0cWeakSet / WeakMap \u7684\u5f15\u7528\u4e0d\u5728\u8003\u8651\u8303\u56f4\u5185\u3002"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"\u65e0\u6cd5\u904d\u5386"),"\u3002WeakSet \u4e0d\u80fd\u904d\u5386\uff0c\u56e0\u4e3a\u6210\u5458\u662f\u5f31\u5f15\u7528\uff0c\u968f\u65f6\u90fd\u53ef\u80fd\u6d88\u5931\u3002WeakSet\u6ca1\u6709 size \u5c5e\u6027\uff0c\u6ca1\u6709 forEach \u5c5e\u6027\u3002"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"\u65e0\u6cd5\u6e05\u7a7a"),"\u3002\u6ca1\u6709 clear \u65b9\u6cd5\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u521b\u5efa WeakSet\u6570\u636e\u7ed3\u6784\nconst ws = new WeakSet();\n\n// \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\uff1a\u4e00\u4e2a\u6570\u7ec4/\u7c7b\u6570\u7ec4\u5bf9\u8c61\uff0c\u6210\u5458\u5fc5\u987b\u662f\u975e\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff08\u5bf9\u8c61\u3001\u6570\u7ec4\u7b49\u7b49\uff09\nconst a = [[1,2],[3,4]];\nconst ws = new WeakSet(a);\n// WeakSet\xa0{Array(2), Array(2)} \n// \u53ef\u4ee5\u770b\u5230\uff0ca \u6570\u7ec4\u7684\u6210\u5458\u88ab\u5c55\u5f00\u540e\uff0c\u52a0\u5165\u4e86 ws\u3002\n\nconst b = [1,2,3,4];\nconst ws2 = new WeakSet(b);\n// Uncaught TypeError: Invalid value used in weak set\n// \u7c7b\u578b\u9519\u8bef\uff1ab\u6570\u7ec4\u7684\u6210\u5458\u90fd\u662f\u6570\u5b57\uff0c\u6240\u4ee5\u4e0d\u53ef\u4ee5\u3002\n\nconst c = ['happy', 'every', 'day'];\nconst ws3 = new WeakSet(c);\n// Uncaught TypeError: Invalid value used in weak set\n// \u7c7b\u578b\u9519\u8bef\uff1ac\u6570\u7ec4\u7684\u6210\u5458\u90fd\u662f\u5b57\u7b26\u4e32\uff0c\u4e0d\u53ef\u4ee5\u3002\n\nconst d = [['happy', 'every'], ['day', '!']];\nconst ws4 = new WeakSet(c);\n// WeakSet {Array(2), Array(2)}\n// d\u6570\u7ec4\u5c55\u5f00\u540e\u8fd8\u662f\u4e24\u4e2a\u6570\u7ec4\uff08\u5bf9\u8c61\uff09\uff0c\u6240\u4ee5\u52a0\u5165\u5230 ws4 \u79cd\u3002\n")),(0,r.kt)("h4",{id:"\u5b9e\u4f8b\u65b9\u6cd5"},"\u5b9e\u4f8b\u65b9\u6cd5"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"WeakSet.prototype.add(value)"),"\uff1a\u5411 WeakSet \u5b9e\u4f8b\u6dfb\u52a0\u4e00\u4e2a\u65b0\u6210\u5458\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"WeakSet.prototype.delete(value)"),"\uff1a\u6e05\u9664 WeakSet \u5b9e\u4f8b\u7684\u6307\u5b9a\u6210\u5458\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"WeakSet.prototype.has(value)"),"\uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u67d0\u4e2a\u503c\u662f\u5426\u5728 WeakSet \u5b9e\u4f8b\u4e4b\u4e2d\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"class obj1 {}\nclass obj2 {}\nclass obj3 {}\nconst ws = new WeakSet([obj1])  // \u521b\u5efa\u4e00\u4e2aWeakSet\u6570\u636e\u7ed3\u6784\uff0c\u53c2\u6570\u5fc5\u987b\u662f\u6570\u7ec4\u3001\u7c7b\u6570\u7ec4\u5bf9\u8c61\u3002\n\nws.add(obj2)   // WeakSet\xa0{\u0192, \u0192}\nws.add(obj3)   // WeakSet\xa0{\u0192, \u0192, \u0192}\nws.has(obj2)   // true\nws.delete(obj2)  // true\nws.has(obj2)     // false\nws.delete(obj2)  // false\n")),(0,r.kt)("h3",{id:"23-map"},"2.3 Map"),(0,r.kt)("p",null,"JavaScript \u7684\u5bf9\u8c61\uff08Object\uff09\uff0c\u672c\u8d28\u4e0a\u662f\u952e\u503c\u5bf9\u7684\u96c6\u5408\uff08Hash \u7ed3\u6784\uff09\u3002\u7528\u5b57\u7b26\u4e32 / Symbol \u5f53\u4f5c Key\u3002"),(0,r.kt)("p",null,"Map \u6570\u636e\u7ed3\u6784\uff0c\u4e5f\u662f\u4e00\u79cd Hash \u7ed3\u6784\uff0c\u7c7b\u4f3c\u5bf9\u8c61\uff0c\u4e5f\u662f k/v \u5bf9\u7ec4\u5408\u3002\u4e0d\u540c\u7684\u662f\uff0ckey \u4e0d\u4ec5\u4ec5\u662f\u5b57\u7b26\u4e32\u6216 symbol\uff0c\u652f\u6301\u591a\u79cd\u7c7b\u578b\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Object \u7ed3\u6784\uff1a\u201c\u5b57\u7b26\u4e32/Symbol \u2014\u2014 \u503c\u201d \u5bf9\u5e94"),(0,r.kt)("li",{parentName:"ul"},"Map \u7ed3\u6784\uff1a\u201c\u503c\u2014\u2014\u503c\u201d \u5bf9\u5e94")),(0,r.kt)("p",null,"\u6784\u9020\u51fd\u6570\uff1a ",(0,r.kt)("inlineCode",{parentName:"p"},"new Map()"),"\uff0c\u63a5\u53d7\u53c2\u6570\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u6570\u7ec4\u7684\u6210\u5458\u662f\u591a\u4e2a\u6570\u7ec4\uff0c\u6bcf\u4e2a\u6570\u7ec4\u6210\u5458\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"[key, value]")," \u7ec4\u5408\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6570\u7ec4\u5165\u53c2\u65f6\uff0c\u4f1a\u81ea\u52a8\u5c55\u5f00\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u521b\u5efa\nconst m = new Map();\n\n// \u6dfb\u52a0\uff0c\u8bfb\u53d6\nm.set(person, 'Moxy');\nm.get(person);   // \"Moxy\"\n\n// \u5224\u65ad\u662f\u5426\u5b58\u5728\uff0c\u5220\u9664\nm.has(person);    // true\nm.delete(person); // true\n\nm.has(person);    // false\nm.has(person);    // false\n")),(0,r.kt)("h4",{id:"\u6784\u9020\u51fd\u6570"},"\u6784\u9020\u51fd\u6570"),(0,r.kt)("p",null,"\u6784\u9020\u51fd\u6570\u7684\u5165\u53c2\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u6784\u9020\u51fd\u6570\u4f20\u5165\u53c2\u6570\u521b\u5efa\uff1a\nconst m = new Map([\n  ['name', 'Moxy'],\n  ['age', 25],\n  ['man', true],\n])\n// Map(3)\xa0{\"name\" => \"Moxy\", \"age\" => 25, \"man\" => true}\n\n// \u80cc\u540e\u7684\u903b\u8f91\u662f\uff1a\nconst items = [\n  ['name', 'Moxy'],\n  ['age', 25],\n  ['man', true],  \n]\nconst map = new Map();\nitems.forEach(([key, value]) => map.set(key,value));\n// Map(3)\xa0{\"name\" => \"Moxy\", \"age\" => 25, \"man\" => true}\n\n// \u6ce8\u610f\uff1a\u4f7f\u7528forEach\u5faa\u73af\u8d4b\u503c\u65f6\uff0c\u6ce8\u610f\u8981\u6dfb\u52a0[\u65b9\u62ec\u53f7]\u89e3\u6784\uff1a[key, value] \n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u4e8b\u5b9e\u4e0a\uff0c\u4e0d\u4ec5\u4ec5\u662f\u6570\u7ec4\uff0c\u4efb\u4f55\u5177\u6709 Iterator \u63a5\u53e3\u3001\u4e14\u6bcf\u4e2a\u6210\u5458\u90fd\u662f\u4e00\u4e2a",(0,r.kt)("strong",{parentName:"p"},"\u53cc\u5143\u7d20\u6570\u7ec4"),"\u7684\u6570\u636e\u7ed3\u6784\uff08\u8be6\u89c1\u300aIterator\u300b\u4e00\u7ae0\uff09\u90fd\u53ef\u4ee5\u5f53\u4f5c",(0,r.kt)("inlineCode",{parentName:"p"},"Map"),"\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u3002\u8fd9\u5c31\u662f\u8bf4\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"Set"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"Map"),"\uff0c\u90fd\u53ef\u4ee5\u7528\u6765\u751f\u6210\u65b0\u7684 Map\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const set = new Set([\n  ['name', 'Moxy'],\n  ['age', 25],\n  ['man', true]\n])\nconst m1 = new Map(set)\n// Map(3)\xa0{\"name\" => \"Moxy\", \"age\" => 25, \"man\" => true}\n")),(0,r.kt)("h4",{id:"\u8981\u70b9"},"\u8981\u70b9"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5bf9\u540c\u4e00\u4e2a\u952e\u591a\u6b21\u8d4b\u503c\uff0c\u540e\u9762\u7684\u503c\u5c06\u8986\u76d6\u524d\u9762\u7684\u503c\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u53ea\u6709\u5bf9\u540c\u4e00\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\uff0cMap \u7ed3\u6784\u624d\u5c06\u5176\u89c6\u4e3a\u540c\u4e00\u4e2a Key\u3002\u8fd9\u4e00\u70b9\u8981\u975e\u5e38\u5c0f\u5fc3\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u76f8\u53cd\uff0c\u5982\u679c\u4e24\u4e2a\u5185\u5bb9\u76f8\u540c\u7684\u6570\u7ec4\uff0c\u4f5c\u4e3a\u4e24\u4e2a Key \u653e\u5165 Map \u4e2d\uff0c\u56e0\u4e3a\u5185\u5b58\u5730\u5740\u7684\u4e0d\u540c\uff0c\u4e5f\u4f1a\u5224\u5b9a\u4e3a\u4e24\u4e2a Key\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// 1. \u5bf9\u540c\u4e00\u4e2a\u952e\u591a\u6b21\u8d4b\u503c\uff0c\u540e\u9762\u7684\u503c\u5c06\u8986\u76d6\u524d\u9762\u7684\u503c\u3002\nmap.set('name', 'Moxy').set('name', 'NJ')\n// Map(1)\xa0{\"name\" => \"NJ\"}\n\n// 2. \u53ea\u6709\u5bf9\u540c\u4e00\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\uff0cMap \u7ed3\u6784\u624d\u5c06\u5176\u89c6\u4e3a\u540c\u4e00\u4e2a\u952e\u3002\n// \u5982\u679c\u662f\u57fa\u672c\u7c7b\u578b\uff1aBoolean\u3001Number\u3001String\uff0c\u4e0d\u5b58\u5728\u5730\u5740\u5f15\u7528\u95ee\u9898\uff1b\n// \u5982\u679c\u9762\u5bf9\u7684\u662f\u6570\u7ec4\u3001\u5bf9\u8c61\u7b49\uff0c\u4f1a\u53d1\u73b0\u8fd9\u6837\u65e0\u6cd5\u8bfb\u53d6\uff1a\nconst map = new Map();\n\nmap.set(['a'], 555);\nmap.get(['a'])     // undefined\n// \u8fd9\u662f\u56e0\u4e3a\uff0c['a'] \u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u4e24\u4e2a\u6570\u7ec4\u7684\u5f15\u7528\u5730\u5740\u662f\u5b8c\u5168\u4e0d\u76f8\u540c\u7684\uff0c\u6240\u4ee5\u65e0\u6cd5\u8bfb\u53d6\u5230\u3002\n// \u5fc5\u987b\u7528\u540c\u4e00\u4e2a\u53d8\u91cf\u6765\u5f15\u7528\uff1a\nlet k1 = ['a']\nmap.set(k1, 555);\nmap.get(k1)   // 555\n\n// 3. \u5982\u679c\u4e24\u4e2a\u5185\u5bb9\u76f8\u540c\u7684\u6570\u7ec4\uff0c\u4f5c\u4e3a\u4e24\u4e2a\u952e\u653e\u5165Map\u4e2d\uff0c\u56e0\u4e3a\u5185\u5b58\u5730\u5740\u7684\u4e0d\u540c\uff0c\u4e5f\u4f1a\u5224\u5b9a\u4e3a\u4e24\u4e2a\u952e\u3002\nconst map = new Map()\nmap.set(['a'], 555);\nmap.set(['a'], 666);\nmap.set(['a'], 777);\nmap  // Map(3)\xa0{[\"a\"] => 555, [\"a\"] => 666, [\"a\"] => 777}\n")),(0,r.kt)("h4",{id:"\u5c5e\u6027\u65b9\u6cd5\u904d\u5386"},"\u5c5e\u6027\u3001\u65b9\u6cd5\u3001\u904d\u5386"),(0,r.kt)("p",null,"Map\u5b9e\u4f8b\u5c5e\u6027\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"size")," \u5c5e\u6027\uff1a\u4fdd\u5b58Map\u7ed3\u6784\u7684\u6210\u5458\u603b\u6570\u3002")),(0,r.kt)("p",null,"Map\u5b9e\u4f8b\u65b9\u6cd5\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"Map.prototype.set(key, value)"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4f5c\u7528\uff1a\u7ed9 Map\u7ed3\u6784\u4e2d\u6dfb\u52a0\u6210\u5458\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u53c2\u6570\uff1akey + value"),(0,r.kt)("li",{parentName:"ul"},"\u8fd4\u56de\uff1a\u6dfb\u52a0\u540e\u7684Map\u3002\u6240\u4ee5\u53ef\u4ee5\u91c7\u7528\u94fe\u5f0f\u5199\u6cd5\u6765\u6dfb\u52a0\u6210\u5458\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"map.set(1, 'a').set(2, 'b').set(3, 'c')"))),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"Map.prototype.get(key)"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4f5c\u7528\uff1a\u8bfb\u53d6 key \u5bf9\u5e94\u7684 value\u3002\u627e\u4e0d\u5230\u8fd4\u56de undefined\uff1b")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"Map.prototype.has(key)"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4f5c\u7528\uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u5224\u65adkey\u662f\u5426\u5728\u5f53\u524dMap\u5b9e\u4f8b\u4e2d\uff1b")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"Map.prototype.delete(key)"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4f5c\u7528\uff1a\u5220\u9664\u67d0\u4e2a key\u3002\u8fd4\u56de true \u6210\u529f\uff0cfalse \u5931\u8d25\uff1b")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"Map.prototype.clear()"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4f5c\u7528\uff1a\u5220\u9664\u6240\u6709\u6210\u5458\uff0c\u65e0\u8fd4\u56de\u503c\u3002")),(0,r.kt)("p",null,"Map\u7684\u904d\u5386\u65b9\u6cd5\uff1a"),(0,r.kt)("p",null,"Map \u7ed3\u6784\u62e5\u6709\uff1a3 \u4e2a\u904d\u5386\u5668\u751f\u6210\u51fd\u6570 + 1 \u4e2a\u904d\u5386\u65b9\u6cd5\u3002\u904d\u5386\u987a\u5e8f ===  \u63d2\u5165\u987a\u5e8f\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Map.prototype.keys()"),"\uff1a\u8fd4\u56de key \u7684\u904d\u5386\u5668\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Map.prototype.values()"),"\uff1a\u8fd4\u56de value \u7684\u904d\u5386\u5668\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Map.prototype.entries()"),"\uff1a\u8fd4\u56de ","[ key , value]"," \u7684\u904d\u5386\u5668\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Map.prototype.forEach()"),"\uff1a\u904d\u5386 Map \u7684\u6240\u6709\u6210\u5458\uff0c\u5e76\u4f9d\u6b21\u6267\u884c\u56de\u8c03\u51fd\u6570\u3002",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4e24\u4e2a\u53c2\u6570\uff1a\u56de\u8c03\u51fd\u6570 + \u51fd\u6570\u4e2dthis\u6307\u5411\u7684\u5bf9\u8c61",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u56de\u8c03\u51fd\u6570\uff1a\u4e09\u4e2a\u53c2\u6570\uff08key\uff0cvalue\uff0cmap \u672c\u8eab\uff09"),(0,r.kt)("li",{parentName:"ul"},"this\u6307\u5411\u7684\u5bf9\u8c61\uff1a\u5f15\u7528\uff0c\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\u3002\u5728\u56de\u8c03\u51fd\u6570\u4e2d\u4f7f\u7528this\uff0c\u4f1a\u6267\u884c\u8fd9\u4e2a\u5bf9\u8c61\u3002")))))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const map = new Map([\n  [1, \'aaa\'],\n  [2, \'bbb\'],\n  [3, \'ccc\'],\n  [4, \'ddd\'],\n])\n\n// map.entries()\nfor (let item of map.entries()) {\n  console.log(item);\n}\n// (2)\xa0[1, "aaa"]\n// (2)\xa0[2, "bbb"]\n// (2)\xa0[3, "ccc"]\n// (2)\xa0[4, "ddd"]\n\n// \u7b49\u540c\u4e8e\uff1amap.entries()\uff0c\u518d\u6b21\u590d\u4e60\uff1aMap\u6210\u5458\u662f\u53cc\u503c\u5bf9\u7684\u6570\u7ec4\nfor (let [key, value] of map) {\n  console.log(key, value);\n}\n// \u56e0\u4e3aMap\u7684\u9ed8\u8ba4\u904d\u5386\u5668\u63a5\u53e3\uff0c\u5c31\u662f entries()\nmap[Symbol.iterator] === map.entries  // true\n\n\n// forEach\u65b9\u6cd5\uff1avalue\u3001key\u3001map \u4e09\u4e2a\u53c2\u6570\uff0c\u53ef\u4ee5\u7701\u7565\u3002\nmap.forEach((value, key, map) => {\n  console.log("Key: %s, Value: %s", key, value);\n});\n// Key: 1, Value: aaa\n// Key: 2, Value: bbb\n// Key: 3, Value: ccc\n// Key: 4, Value: ddd\n\n// forEach\u65b9\u6cd5\uff1a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u7ed1\u5b9athis\n// \u6b64\u65f6\u9700\u8981\u6ce8\u610f\uff1a\u4e0d\u53ef\u4ee5\u4f7f\u7528\u7bad\u5934\u51fd\u6570\uff0c\u4f1a\u51fa\u73b0 this \u7684\u56fa\u5b9a\u5b9a\u4e49\u95ee\u9898\uff08this\u5728\u7bad\u5934\u51fd\u6570\u662f\u5b9a\u4e49\u65f6\u786e\u5b9a\u7684\uff09\nlet person = { name : "moxy"}\nmap.forEach(function(value, key, map) {\n  console.log("Name: %s, Key: %s, Value: %s",this.name, key, value);\n}, person);\n// Name: moxy, Key: 1, Value: aaa\n// Name: moxy, Key: 2, Value: bbb\n// Name: moxy, Key: 3, Value: ccc\n// Name: moxy, Key: 4, Value: ddd\n')),(0,r.kt)("h4",{id:"\u6570\u7ec4\u8f6c\u5316"},"\u6570\u7ec4\u8f6c\u5316"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// \u4f7f\u7528 [...\u6269\u5c55\u8fd0\u7b97\u7b26]\n[...map.keys()]\n// (4)\xa0[1, 2, 3, 4]\n[...map.values()]\n// (4)\xa0["aaa", "bbb", "ccc", "ddd"]\n[...map.entries()]\n// (4)\xa0[Array(2), Array(2), Array(2), Array(2)]\n// (4)\xa0[[1, "aaa"], [2, "bbb"], [3, "ccc"], [4, "ddd"]]\n[...map]   // \u9ed8\u8ba4\u904d\u5386\u5668\uff0c\u8c03\u7528\uff1aentries()\n// (4)\xa0[[1, "aaa"], [2, "bbb"], [3, "ccc"], [4, "ddd"]]\n\n')),(0,r.kt)("p",null,"\u8f6c\u6362\u4e3a\u6570\u7ec4\u540e\uff0c\u914d\u5408 ",(0,r.kt)("inlineCode",{parentName:"p"},"map()")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"filter()"),"\uff0c\u53ef\u4ee5\u5b9e\u73b0Map \u7684\u904d\u5386\u548c\u8fc7\u6ee4\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u540c set \u7ed3\u6784\uff0c\u7565\u3002")),(0,r.kt)("h3",{id:"24-weakmap"},"2.4 WeakMap"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"WeakMap"),"\u7ed3\u6784\u4e0e",(0,r.kt)("inlineCode",{parentName:"p"},"Map"),"\u7ed3\u6784\u7c7b\u4f3c\uff0c\u4e5f\u662f\u7528\u4e8e\u751f\u6210\u952e\u503c\u5bf9\u7684\u96c6\u5408\u3002",(0,r.kt)("strong",{parentName:"p"},"\u5f31\u5f15\u7528"),"\u3002"),(0,r.kt)("p",null,"\u8865\u5145\uff1aJavaScript \u7684\u4e03\u79cd\u6570\u636e\u7c7b\u578b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u57fa\u672c\u6570\u636e\u7c7b\u578b / \u539f\u59cb\u6570\u636e\u7c7b\u578b\uff1aNudefined, Null, String, Boolean, Number, Symbol"),(0,r.kt)("li",{parentName:"ol"},"\u5f15\u7528\u6570\u636e\u7c7b\u578b \uff1a Object")),(0,r.kt)("p",null,"\u4e0d\u540c\u70b9\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5f31\u5f15\u7528")," \u5bfc\u81f4\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"\u5bf9\u8c61\u7ea6\u675f"),"\u3002",(0,r.kt)("inlineCode",{parentName:"li"},"WeakMap"),"\u53ea\u63a5\u53d7\u5bf9\u8c61\uff08\u5f15\u7528\u6570\u636e\u7c7b\u578b\uff09\u4f5c\u4e3a\u952e\u540d\uff08",(0,r.kt)("inlineCode",{parentName:"li"},"null"),"\u9664\u5916\uff09\u3002\u4e0d\u652f\u6301\u539f\u59cb\u6570\u636e\u7c7b\u578b\uff08\u5176\u4ed6 6 \u79cd\uff09\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"\u56de\u6536\u673a\u5236"),"\u3002",(0,r.kt)("inlineCode",{parentName:"li"},"WeakMap"),"\u7684\u952e\u540d\u6240\u6307\u5411\u7684\u5bf9\u8c61\uff0c\u4e0d\u8ba1\u5165\u5783\u573e\u56de\u6536\u673a\u5236\u3002\uff08\u548cWeakSet\u76f8\u540c\uff0c\u53ef\u4ee5\u770b\u770bWeakSet\uff09\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"\u65e0\u6cd5\u904d\u5386"),"\u3002\u6ca1\u6709\u904d\u5386\u64cd\u4f5c\uff08\u5373\u6ca1\u6709",(0,r.kt)("inlineCode",{parentName:"li"},"keys()"),"\u3001",(0,r.kt)("inlineCode",{parentName:"li"},"values()"),"\u548c",(0,r.kt)("inlineCode",{parentName:"li"},"entries()"),"\u65b9\u6cd5\uff09\uff0c\u4e5f\u6ca1\u6709",(0,r.kt)("inlineCode",{parentName:"li"},"size"),"\u5c5e\u6027\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"\u65e0\u6cd5\u6e05\u7a7a"),"\u3002\u4e0d\u652f\u6301 ",(0,r.kt)("inlineCode",{parentName:"li"},"clear")," \u65b9\u6cd5\u3002")),(0,r.kt)("p",null,"3 \u548c 4\uff0c\u90fd\u662f\u56e0\u4e3a WeakMap \u662f ",(0,r.kt)("strong",{parentName:"p"},"\u5f31\u5f15\u7528"),"\uff0c\u904d\u5386\u4f1a\u5177\u6709\u4e0d\u786e\u5b9a\u6027\uff0c\u65e0\u6cd5\u51c6\u786e\u7684\u7ed9\u51fa \u201c\u5f53\u524d\u65f6\u95f4\u70b9\u201d \u4e00\u5b9a\u5b58\u5728\u7684\u6210\u5458\u3002\uff08\u8fd9\u4e00\u70b9\u548c MySQL \u6570\u636e\u5e93\u4e8b\u52a1\u7684\u5b89\u5168\u95ee\u9898\u5f88\u76f8\u4f3c\uff09\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"WeakMap"),"\u53ea\u6709\u56db\u4e2a\u65b9\u6cd5\u53ef\u7528\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"get()"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"set()"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"has()"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"delete()"),"\u3002"),(0,r.kt)("h4",{id:"weakmap-\u7684\u5e94\u7528"},"WeakMap \u7684\u5e94\u7528"),(0,r.kt)("p",null,"Vue3 \u54cd\u5e94\u5f0f\u539f\u7406\uff0c\u4f7f\u7528\u4e86 WeakMap \u6570\u636e\u7ed3\u6784\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// \u5e94\u7528\u573a\u666f(vue3\u54cd\u5e94\u5f0f\u539f\u7406)\nconst obj1 = {\n  name: "why",\n  age: 18,\n};\n\nfunction obj1NameFn1() {\n  console.log("obj1NameFn1\u88ab\u6267\u884c");\n}\n\nfunction obj1NameFn2() {\n  console.log("obj1NameFn2\u88ab\u6267\u884c");\n}\n\nfunction obj1AgeFn1() {\n  console.log("obj1AgeFn1");\n}\n\nfunction obj1AgeFn2() {\n  console.log("obj1AgeFn2");\n}\n\nconst obj2 = {\n  name: "kobe",\n  height: 1.88,\n  address: "\u5e7f\u5dde\u5e02",\n};\n\nfunction obj2NameFn1() {\n  console.log("obj1NameFn1\u88ab\u6267\u884c");\n}\n\nfunction obj2NameFn2() {\n  console.log("obj1NameFn2\u88ab\u6267\u884c");\n}\n\n// 1.\u521b\u5efaWeakMap\nconst weakMap = new WeakMap();\n\n// 2.\u6536\u96c6\u4f9d\u8d56\u7ed3\u6784\n// 2.1.\u5bf9obj1\u6536\u96c6\u7684\u6570\u636e\u7ed3\u6784\nconst obj1Map = new Map();\nobj1Map.set("name", [obj1NameFn1, obj1NameFn2]);\nobj1Map.set("age", [obj1AgeFn1, obj1AgeFn2]);\nweakMap.set(obj1, obj1Map);\n\n// 2.2.\u5bf9obj2\u6536\u96c6\u7684\u6570\u636e\u7ed3\u6784\nconst obj2Map = new Map();\nobj2Map.set("name", [obj2NameFn1, obj2NameFn2]);\nweakMap.set(obj2, obj2Map);\n\n// 3.\u5982\u679cobj1.name\u53d1\u751f\u4e86\u6539\u53d8\n// \u76d1\u542c\u89e6\u53d1\u5668\uff1aProxy/Object.defineProperty\nobj1.name = "james";\nconst targetMap = weakMap.get(obj1);   // \u901a\u8fc7weakMap\uff0c\u627e\u5230\u5bf9\u5e94Map\uff0cMap\u5b58\u50a8\u5c5e\u6027\u540d\u548c\u5bf9\u5e94\u7684\u4f9d\u8d56\u51fd\u6570\nconst fns = targetMap.get("name");       // \u627e\u5230Map\u4e2d\uff0c\u627e\u5230\u4f9d\u8d56\u51fd\u6570\uff0c\u6570\u7ec4\u5f62\u5f0f\nfns.forEach((item) => item());         // \u904d\u5386\u6570\u7ec4\uff0c\u6267\u884c\u4f9d\u8d56\n// obj1NameFn1\u88ab\u6267\u884c\n// obj1NameFn2\u88ab\u6267\u884c\n')),(0,r.kt)("p",null,"\u4e3a\u4ec0\u4e48\u8981\u7528 WeakMap\uff1f"),(0,r.kt)("p",null,"\u5229\u7528 WeakMap \u6536\u96c6\u5b58\u5728\u4f9d\u8d56\u7684\u5bf9\u8c61\uff0c\u5f53\u5bf9\u8c61\u4e2d\u5c5e\u6027\u53d1\u751f\u6539\u53d8\uff0c\u5c31\u901a\u8fc7 WeakMap \u627e\u5230\u8fd9\u4e2a\u5bf9\u8c61\u5bf9\u5e94\u7684\u4f9d\u8d56 Map\uff0c\u4ece\u800c\u89e6\u53d1\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\u3002"),(0,r.kt)("p",null,"\u5982\u679c obj1 \u4f7f\u7528\u5b8c\u6bd5\uff0c\u8bbe\u7f6e\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"obj1 = null")," \u671f\u671b\u9500\u6bc1 obj1\u3002\u6b64\u65f6\u7528 weakMap \u7684\u597d\u5904\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u56e0\u4e3a\u662f\u5f31\u5f15\u7528\uff0c\u6240\u4ee5\u5f53 obj1 \u60f3\u8981\u9500\u6bc1\u65f6\uff0c\u4e0d\u9700\u8981\u8003\u8651 WeakMap \u7684\u4f9d\u8d56\u6570\u636e\u7ed3\u6784\uff0c\u76f4\u63a5\u9500\u6bc1\u5373\u53ef\u3002")))}c.isMDXComponent=!0}}]);