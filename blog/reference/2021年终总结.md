---
title: 2021年终总结
date: 2022-02-08
authors: kuizuo
tags: [年终总结, 随笔]
draft: true
---

<!-- truncate -->

原标题 《2020.7-2021.12 编程年记》，看到部分程序员都会对写年终总结，于是标题便改成了这个。

距离上篇记录过去了 1 年半，不过时间可以分为 2020 年下半年与 2021 年一整年来叙述。

不过在总结的时候还是要唠嗑唠嗑，其实说实话，今年没去年那么想写年终总结，感觉去年过得没有前年那么充实，尤其是在学习方面，感觉很多时候过于迷茫，尤其是 2021 年后半年，浪费了太多本该提升自我的时间，加上这段时间（2022 年 1 月）闭关安卓逆向学习，所以大部分的精力都放在学习上，对于总结过去一年的所学甚少。（不然也不会拖欠到现在）

写年终总结时不时也会姗澜泪下，写的时候就需要不断的回忆过去，而往往过去的某些时刻的做法会让自己觉得是不是有个更优解？常常会回忆起过去这一年所经历的往往，难以忘怀，不知从何写起。

话虽说，但总归还是学到了点东西，所以还是得总结一下，不记录可能这段经历就消逝在时间的烟海之中。

## 正式从事 Web 开发

可以这么说，过去的 1 年半中，我已经从一位学逆向的转到 Web 开发行业上。在上次的记录中我也确实定了这[目标](https://kuizuo.cn/reference/2019.7-2020.7编程年记#进阶-web-开发)，至少现在的我已经能够正常的搭建一个网站服务了。并且像一些前端框架 Vue 与 React，以及 Vite 和 Webpack 构建工具都尝试过，所以说至少写个前端页面倒是不成问题，当然能用组件库肯定首选组件库。

不过仅仅只是有一个页面是完全不够的，如果是静态站点的博客的话，那确实够，不过想要做到一些页面阅读量，以及评论相关的，就必须涉及到数据交互，也就是后端服务。后端服务所选用的语言可就多了，例如 nodejs，java，php，python，go 等等（这里提及的都是我使用过的），但如果要我选择，我还是毫不犹豫选择 node 来作为我的后端服务，至少 js 是我~~目前~~用的最惯的一套技术栈了。当然后面会说。毕竟只要能在公网搭建，能提供一个 api 接口对数据进行 CRUD（增删改查）操作就行，本质上是没有任何差别的，无非就是性能与生态的区别。

接下来就按时间顺序来记录下，Web 开发期间到底写了些什么，学到了什么

## Web 开发项目

### Vuepress 搭建个人博客

![image-20220208071951313](https://img.kuizuo.cn/20220208071951.png)

首先就是使用 Vuepress 来搭建一个属于自己的个人博客了，也是第一个 Vue 项目，关于 Vuepress 搭建使用的一篇文章 [第一个博客搭建之 Vuepress](https://kuizuo.cn/develop/第一个博客搭建之Vuepress)

搭建并不算难，但整体结果，可以说，没 Vue，我大概率不会从事 Web 开发相关，当时学的是 JS 逆向做爬虫相关的，只是对网页开发有一丝丝的好奇，于是学了前端三件套 HTML、CSS、JS，但是当要尝试编写一个网页的时候，发现编写过程很痛苦，当时我学习的时候写代码是没有模块化的概念，基本上所有的代码都分别在写 3 个文件 index.html，index.css，index.js 中，就有放弃学习前端的念头，不过好在了解到了 vue（当时甚至都没了解 webpack，css 预编译等等工具），发现 vue 组件化的概念，加上 element-ui 组件库的使用，一瞬间就感觉前端如此简单，紧随其后就是不断了解 vue 的生态以及使用 vscode 编写 vue 代码，而 Vuepress 便是其中项目之一。

不过因为一些原因导致 2021 上半年没有时间写博客，加上正好学习了 React 的技术栈，于是乎原本搭建的个人博客就淹没在服务器的到期时间上。

### vue-element-admin

如果学习 Vue2 的话，应该都听过这个后台管理系统，估计也都学习过，在这个项目中能收获了太多关于 Vue2 开发的知识点。不过当时只写到一半就没继续写下去了，主要是已经不接触易语言方面的开发，网络验证对我来说用途不大，只是提一嘴，毕竟也改过组件，写过后端服务，只是年代久远，就不再次做过多的篇幅介绍了。（当时写一半，现在让我写我都不想再写了）

贴一张当时软件网络验证系统的截图

![image-20220210080814521](https://img.kuizuo.cn/20220210083055.png)

---

2020 年 7 月~2020 年 12 月，也就是 Vue2 的学习，加上 express 与 nestjs 的学习，所编写的项目也就是上面那个。

然后停止了近半年的前端学习（至于原因后文会说），直到 2021 年 7 月~2021 年 12 月的时间内才又重新开始 Web 开发的学习，也就是在这段期间，学会了 Vue3 与 React，而下面便是这期间所编写过的项目了。

---

### docusaurus 搭建个人博客

也就是目前我所使用的博客，技术栈也就是 react，关于如何搭建也有篇文章介绍了，同时也开源，文章地址: [第二个博客搭建之 Docusaurus](https://kuizuo.cn/develop/第二个博客搭建之Docusaurus)

### code-nav 资源导航

关于该项目也有篇文章说明，就一笔带过了，文章地址: [资源导航开发](http://localhost:3000/soft/资源导航)

### vben-admin

当时正好在学 Vue3，正愁着找项目写，然后刷到了一个基于 Vue3、Vite、TypeScript 等最新技术栈开发的后台管理系统。

### js 代码混淆与还原

相关文章：[JS 代码之还原](http://kuizuo.cn/js/JS代码之还原) [JS 代码之混淆](http://kuizuo.cn/js/JS代码之混淆)

关于 js 代码混淆，其实很早之前写网页 js 逆向就碰过，基本上都是不断动态调试才分析出来，直到遇到这本书《反爬虫 AST 原理与还原混淆实战》以及随书课程，才让我了解的针对**源代码语法结构**的操作，也借此了解了一番 js 编译执行原理，针对主流的混淆就想尝试使用 AST 来做到自动化还原混淆的代码，于是便有了这个网站。

### kz-admin

// TODO: 配图

这个也是我将 vben-admin 与 nestjs 结合的一套 后台管理系统，

原本是想等 vben3 正式发布的时候在去编写，但似乎好像估计还要一段时间，vue3 都正式版了，看样子也不能拖了。

---

再还有些就是小特效、小页面或是定制的网站，就不展示了。不过未来还是会去编写与 Web 相关的项目，敬请期待好吧。

介绍了这些与网站相关的，不记录下技术栈怎么行，不过在此之前还有一件特别重要的事情要先记录下。

## 休学一年（2021 年）

我当时的休学的申请审批表

与其说 2021 年终总结，不妨说休学一年的总结。

这也就是为什么我 2021 年上半年没继续学习前端，没写博客的原因。

我没继续学前端，没写博客，但不代表我没学习，只是学习都是与工作相关东西，

### 为何休学

工作，不是普普通通的兼职，而是有工作岗位与劳动合同的工作。所以在学业与工作上两者无法兼顾到于是就休学了。

算了 实话实话的到，搞得这么委婉。 其实主要我当时确实不是很想在校园里呆在，感觉学校里的老师教的都是几年前的技术，而如今技术更新迭代之快，很多学了都不一定有用，然后正好当我我所写的一个自动化协议软件被

其实事实是这样的，当时我

### 干什么工作的

肯定是和代码相关的，不过具体啥的内容我也不方便透露。

工作还是挺自由的，至少摸鱼是随便摸的那种，

工作的时候还是有在学习的，而接下来就着重针对 2021 年上半年所学到的技术栈进行总结（当时是真的没什么空去总结这些，基本都在工作中学习）

所以我上半年的时间，基本都是在码代码。这期间就写了一篇博客[Windows Terminal 美化](http://kuizuo.cn/tools/Windows Terminal 美化)，或者说是笔记。

然后

## 学到的技术栈

再来说说都学到（了解）些什么，按时间顺序

### Nest.js

这是我认为最好用的 Node 后端框架，也是我目前最喜欢一套后端技术栈，可以理解为是 Node 版的的 Java Spring 框架，如面向 AOP 编程、依赖注入、单例模式、typeorm 这些，对于 Spring 开发者来说在熟悉不过了。

当时学习它的理由是因为 Express 并不能满足我当时的后端需求，尤其是用户效验的中间件与编写大量重复相似的 Mysql 语法，而当时的我只想接触 Node 的后端技术栈，于是在 Nest.js 与 Egg.js 中做出选择，最终选择了 Nest.js，事实也告诉我，这次选择非常正确。我是目睹着 star 数从 30k 到现在(2022-02-11)44k 的，并且也是增加最快的 Node 后端框架，且还在持续增长中。

Nest 是构建在强大的 HTTP 服务器框架上，如 Express（默认），也就是说，Express 的插件在 Nest 中也是能直接使用。Nest 自行还对一些模块进行封装，例如提供 elasticsearch 服务@nestjs/elasticsearch，发送邮箱的@nestjs-modules/mailer，像接口限流，缓存，JWT 效验，定时任务，websocket 等等都有对应的模块，所以在生态上，就完全没必要担心，当时写 Express 的时候就需要不断的去搜索像对应的模块，自行封装，而 Nest 则是提供现成模块，需要的时候直接通过服务注入即可。

不过在学习 Nest 的时候，还同样接触到与其相关的技术栈

#### TypeScript

第一次了解的 TypeScript 还是在菜鸟教程上，当时只知道这个 JavaScript 的超集，而 Nest 对 TypeScript 的支持极好，也建议使用 TypeScript 来进行开发，而 TypeScript 对类型的支持又不是强制性的，完全兼容 JS 的语法，而使用 TypeScript 能养成变量类型的规范以及后续代码维护的编写，对于一个大型后端项目来说，尤其是数据交互方面非常重要，甚至现在前端也逐步使用 TypeScript。

#### TypeORM

当时在用 Express 编写数据库查询的时候，都需要写 sql 语句，像 `SELECT * FROM user WHERE id = ?`，发现 Nest 有集成 TypeORM，于是就尝试使用，一用不知道，这玩意不比手写 sql 语句，甚至还有可能写错来的好？

在 ORM 中，有实体的概念，比方用户表有用户名与密码字段，那么实体就是一个映射到数据库表的类，像这样下方这样定义

```typescript
@Entity('user') // user表
export class User {
  @PrimaryGeneratedColumn({ type: 'int', name: 'id', comment: '主键ID' })
  id: number

  @Index({ unique: true })
  @Column('varchar', { nullable: false, length: 20, name: 'username', comment: '用户名' })
  username: string

  @Exclude()
  @Column('varchar', { nullable: false, length: 20, name: 'password', comment: '密码' })
  password: string
}
```

定义好一个实体后，则需要通过`TypeOrmModule`来导入，然后注入到服务中 `@InjectRepository(User) private userRepository: Repository<User>`，具体实现代码就不放了。

比方说上面的 sql 语句，就可以写成 `this.userRepository.findOne(id)`

像保存一个用户，则可以写成

```typescript
let user = new User()
user.username = 'kuizuo'
user.password = 'a123456'
this.userRepository.save(user)
```

而不是使用 SQL 语句`INSERT INTO user (username，password) VALUES ('kuizuo', 'password')`，使用 save 方法甚至都需要判断数据库中是否有同用户名数据，没有就创建，有则更新，非常方便

在写的时候甚至都忘了怎么插入一条数据了，自从用了 ORM 就没怎么写过 Sql 语句了。对于大部分简单的 sql 语句，都可以通过上面的操作获取数据，整个项目可能都看不到一条 SQL 语句。

同时修改字段与新增字段只需要修改实体，而无需手动修改数据库，开发体验极好。

#### RxJS

js 的异步 Promise 是有一些缺点的，比方说无法取消，一旦`new Promise()`后，异步代码将会在事件循环中执行，不管是否调用 then 方法或者 await 等待，异步代码就已经执行，并且无法取消，处于 pending 状态时无法得知现在处在什么阶段。

而 RxJS 则比 Promise 强太多了，关于 RxJS 的介绍推荐篇文章 [RxJS——给你如丝一般顺滑的编程体验（篇幅较长，建议收藏） - 掘金 (juejin.cn)](https://juejin.cn/post/6910943445569765384)，比较 RxJS 我也只是简单学学，会用即可，也不敢多说些什么。

#### 其他

还有一些 API 接口文档[Swagger](https://docs.nestjs.cn/8/recipes?id=swagger)，消息队列，文件上传啥的，总之只要是与后端相关的，在 Nest 中大部分都有。2021 年下半年基本上就是在 Vue2 与 Nest 中学习。

:::info

因为我喜欢编写 Node 和 TypeScript，而不是繁琐的 Java，所以我喜欢使用 Nest，也是我最喜欢的技术栈之一。

:::

### ThinkPHP

这里为什么写 ThinkPHP，而不是 PHP，主要原因是当时我休学工作时的网站就是采用 ThinkPHP 编写的。虽然我是 Node 后端，但是后端不就是写接口，调用数据这些，所以 ThinkPHP 就简单的去了解了一下，而 PHP 只是简简单单的过了一遍语法，很多内置函数都没使用过，不过当时的我主要会改，会搭建就行，不会的基本就靠百度了。

虽然说目前很多网站都是 PHP 搭建的，举不完全统计，全球大约有 78%的网站使用 PHP 编写。但不断有消息唱衰，说 PHP 要落寞了。当然这一部分可能与培训机构为了推 python、java、go 等语言有关，不过事实上也确实，主要是因为现在大部分的公司的基本上都采用 java 和 go 来编写后端服务，而很少使用 PHP 来进行开发，除了一些外包公司，但该说不说，PHP 开发和部署是真快，尤其是有安装宝塔面板的情况下，只需要复制个文件夹，然后将数据库导入，然后域名绑定，就直接在浏览器中访问，不像其他后端语言，需要安装环境啥的，宝塔面板就已经安装好了（Linux + Nginx + Mysql + PHP）。

主要还是局限性，像学 PHP，那么基本上只能写网站，而学 Java 能写网站能写安卓（主要还是 Spring Boot 太火了）。不过还是要说一句

**PHP 是世界上最好的编程语言**

### Elasticsearch

当时有个需求，需要对千万级别的数据，进行快速搜索，类似搜索引擎，仅仅匹配几个关键词就可以得到相似结果。当时数据量还不大，先使用的是 Mysql 用于存储，而查询使用 Like 来进行模糊匹配，如果用过应该就会知道，请求量一大，那么 CPU 必定负载，同时搜索的结果也很有限，返回结果也特别慢，于是就去网络上了解，也就了解到 Elasticsearch 一个**实时**的**分布式存储、搜索、分析**的引擎。

从字面意思上就可以看出来用于做搜索引擎类的，而与其他数据库相比，Elasticsearch 的强大之处就是可以**模糊查询**，比方说我原本要搜索 **ninjee的小站** 但是我不小心输成了 **ninjee的网站**，仅仅一个字之差，但是搜索引擎就能给你到他数据库中存有的相应数据

![image-20220211082429859](https://img.kuizuo.cn/20220211082429.png)

Elasticsearch 就是用于针对搜索，并且返回的结果甚至可以是秒级别（当时实际测试千万条数据搜索差不多是保存 300ms，包括实际网络延迟）。不过它为什么能搜索这么快呢，具体如何分片以及匹配算法我就没去了解了，当时只是业务需求，在 Mysql 满足不了需求的情况下选择了 Elasticsearch。

### Redis

可以不学 Mysql、MongoDB，但是 Redis 是绝对要学的，很多实际场景中基本都能看到 Redis 的身影，比方数据缓存，对于一些实时性不是特别大统计数据，使用上缓存，缓存时间设置为 1 分钟，那么这 1 分钟内无论多少次请求，得到的都是缓存的结果，而不是每次请求都需要再次对大量数据进行计算，造成不必要的性能。

此外 Redis 还有一些特殊数据类型，在一些场景下十分有用，例如 List 用于队列，geospatial 推算两地之间的距离，Hyperloglog 统计网页的 UV （一个人访问一个网站多次，但是还是算作一个人），Bitmaps 每日签到等等，我当时有一个需求，可以参考这篇文章 [Redis 获取六位不重复数字（邀请码）](https://kuizuo.cn/database/Redis获取六位不重复数字（邀请码）)，实现起来特别方便，而且十分优雅。

### 数据库

### MongoDB

其实当时学 Express 的时候，使用的数据库就是 MongoDB，毕竟是文档型数据库，存储的数据结构都像 JSON 一样（实际上是 BSON），一般学习 Node 的肯定都会接触 MongoDB。

不过系统的学习是在暑假的时候，顺便用 MongoDB 写一个 Demo，不过要说最好的使用场景的话，无非就是爬虫了，随便从网上一搜大部分都是推荐 MongoDB，毕竟对于大部分数据而言，未来的字段会发生变化(增加、删除、修改)，MongoDB 不需要任何操作就能保持数据格式的一致性，而 Mysql 还不需要操作字段。

如果现在要我用那个数据库的话，在网站业务登录相关方面我肯定首选 Mysql，毕竟成型快，主流也是。而在爬虫，小型应用到存储的话，毫无疑问肯定是 MongoDB。

### Docker

关于 Docker 就不做过多的介绍了，如果要部署一个应用的话，传统上是要将应用丢到服务器上，但是使用各种环境，比如 Nginx，Jdk，Tomcat，然后配置各种文件。但是使用 Docker 的话，就可以将这些环境打包成一个镜像，然后创建一个 Docker 容器中，下载镜像，而这个容器就相当于一个轻量的服务器，并且已经配置好环境，并且可以随时部署，假设我现在要部署 10 台服务器，那么就需要依次下载的环境，然后依次配置文件，而通过 Docker 直接拉取已经配置完的环境即可。

像上面提到的 Elasticsearch、Redis、MongoDB，通过 Docker 安装特别轻松（下载镜像，创建容器）。使用 Dockerfile 能让多个容器启动，并在任何地方运行，通过 Docker Compose 则可以一键完成上面任务 实现自动化部署。

### Vue3 与 React

到了暑假，就开始学习 Vue3 和 React 了，索性将这两者结合起来。Vue3 与 React 学习的时候都是观看 B 站尚硅谷的视频，有一说一，全网最好的 React 与 Vue 的教程。

不过还是要吐槽下，这两个前端框架更新是真 tm 快，2020 年才学会的 vue2，2021 年都 vue3 了，2020 年 React17 还没学，2021 年学了 React17 都发布了 React18 了

像 Webpack，Vite 等前端工具库的话肯定是会使用的。

### 其他

简单尝试了下 Go 的 Gin 框架，Java 的 Spring Boot，Python 的 FastAPI（都是主流的后端框架），还包括上面的 PHP 的 ThinkPHP，主要也是尝试写个接口，看看与 Node 的框架有什么些许的差别，或许能学到些什么。要说真的会用，那还不算，只能说要用的时候，会百度怎么用就行了，所以也没系统的去学习一遍。

## 看书

// 如果对这后半年来用个词来形容的话，漫无目的

//TODO: 配图

后半年主要都是在看书，看文章，加固对已有技术的理解，就过的很养生，基本上每天凌晨 0-3 点的时间都在看技术相关的书籍。主要都是针对 JS 相关的书籍，例如

- 《JavaScript 高级程序设计》（第 4 版，简称红宝书）

- 《重构 改善既有代码的设计》（第 2 版，JS）

- 《JavaScript 设计模式与开发实践》

## 明年

也不敢说明年的目标明确是什么，毕竟去年的时候定的很多目标都没有完成（很大程度是因为休学导致的，没有去完成所需的目标），情况多变，盲目的定义未来往往于事无补。

如果按照往常，我至少会进一步接触几门热门编程语言（python，go），然而今年我几乎都在写 js 或 ts 代码，甚至写了一篇文章 我为什么选择 Node，其实也能看到出来 js 已经成为我的第一门语言了，甚至是易语言（我的启蒙语言）我都已经一年不在使用了。

至少在开学前把年终总结给写完，今年也要正式回归学校读书去了

### 机器学习

如果有时间的话，会系统的把 TensorFlow 与 Pytorch 学一遍，

说实话，今年的学习确实没第一年多，

也确实，我是想把一门语言学精，而事实上我应该也做到了。

与其说是学习，不如说是巩固。

之前的 js 基础是真的低的不行，以至于一些 js 逆向有时候都需要花费一段时间去解决。

<p align="right">写于2022年1月15日    By ninjee</p>
